!function(t) {
function e(n) {
if (i[n]) return i[n].exports;
var o = i[n] = {
i: n,
l: !1,
exports: {}
};
t[n].call(o.exports, o, o.exports, e);
o.l = !0;
return o.exports;
}
var i = {};
e.m = t;
e.c = i;
e.d = function(t, i, n) {
e.o(t, i) || Object.defineProperty(t, i, {
enumerable: !0,
get: n
});
};
e.r = function(t) {
"undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
value: "Module"
});
Object.defineProperty(t, "__esModule", {
value: !0
});
};
e.t = function(t, i) {
1 & i && (t = e(t));
if (8 & i) return t;
if (4 & i && "object" == typeof t && t && t.__esModule) return t;
var n = Object.create(null);
e.r(n);
Object.defineProperty(n, "default", {
enumerable: !0,
value: t
});
if (2 & i && "string" != typeof t) for (var o in t) e.d(n, o, function(e) {
return t[e];
}.bind(null, o));
return n;
};
e.n = function(t) {
var i = t && t.__esModule ? function() {
return t.default;
} : function() {
return t;
};
e.d(i, "a", i);
return i;
};
e.o = function(t, e) {
return Object.prototype.hasOwnProperty.call(t, e);
};
e.p = "../../bin/";
e.__strings = [ "<hours>:<minutes>", "<hours>:<minutes> am", "<hours>:<minutes> pm", "Sorry, we are unavailable at the moment. Please leave us a message. 24/7 support is available for Enterprise and Premium (Legacy) customers.", "Back", "View more", "Zendesk Support agent not found", "Zendesk Chat requires cookies to function. Enable cookies?", "Powered by Zendesk Chat", "Please wait for an agent. There are <number> visitor(s) waiting to be served.", "Online", "Away", "Offline", "Complete this field", "Enter a valid email address", "Complete this field", "Select an option", "Select an option", "Check this option to continue", "Select at least one option", "Select a department", "This field is invalid", "Phone number", "Are you sure you want to end this chat?", "Facebook", "Twitter", "Google+", "<name> joined the chat", "<name> left the chat", "<old_name> is now known as <new_name>", "Chat started", "Chat ended", "Comment submitted", "Chat rated Good", "Chat rated Bad", "Chat rating removed", "<name> is typing...", "<name> are typing...", "Agents are typing...", "Type your message here", "Send", "<number> new message", "<number> new messages", "<number> new message", "<number> new messages", "Chat", "Message", "1 new attachment", "Reconnecting", "Click to reconnect", "Reconnecting", "Resuming session", "Loading", "Chat Disabled", "Disabled", "Privacy policy", "Unlink from <name>", "Send Message", "Start Chatting", "Any Department", "Choose a Department", "Close", "Closed", "<start_time> to <end_time>", "File size too large. Maximum total size is limited to <size>.", "The file you are trying to send is not supported.", "File sending is temporary disabled. Please try again later.", "Failed to send. Please try again.", "Failed to save assignee", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Weekdays", "Weekends", "Daily", "All day", "Chat With Us", "Leave a Message", "Chat with us", "support", "We're online.", "We're away.", "We're offline.", "Live Support", "Ask us anything", "Hi, welcome to our website!", "Questions?", "Click here to chat with us", "Choose a Department", "Message", "Phone", "Sorry, we aren't online at the moment. Leave a message and we'll get back to you.", "Sorry, we aren't online at the moment.", "Thanks for the message! We'll get back to you as soon as we can.", "Message", "Phone", "Nice chatting with you!", "How would you rate the chat experience you just had?", "Thanks for the good rating! Would you like to leave a comment?", "What did you like about this chat?", "Sorry that we disappointed you. We'd appreciate it if you could tell us how to improve.", "What did you dislike about this chat?", "File size too large. Maximum limit is <size>.", "The file you are trying to send is not supported.", "File sending is temporarily disabled. Please try again later.", "<size> bytes", "<size> KB", "<size> MB", "Failed to send. Please try again.", "Reply", "Dismiss", "Close", "Minimize", "Send", "Type your message here", "Back to Chat", "Leave a Comment", "(Optional)", "Send", "Cancel", "How would you rate this chat?", "Chat rated Good", "Chat rated Bad", "Chat rating removed", "Cancel", "Skip", "Submit", "Cancel", "Back to Chat", "Email will be sent to @@@@<email>@@@@ when the chat ends", "An email of the last chat will be sent to @@@@<email>@@@@", "End", "Cancel", "Send Chat Transcript to", "Email", "This isn't a valid email.", "Send", "Cancel", "Drop files here", "http://zop.im/prem-offline-form", "Learn more", "Our Operating Hours", "Back", "Send Another", "Choose a Department", "Operating Hours", "Back", "Introduce yourself", "Hello there!", "Name, Email", "Edit", "Sign out", "Please update your profile", "Name", "Please provide your name", "Email", "Please provide a valid email", "or sign in with", "Phone Number", "Please provide a valid phone", "Name", "Email", "Submit", "Skip", "Sign In", "Hi, <name>", "Hi there!", "You objected to the use of cookies based on our @cookie policy@. Approve the use of cookies to enable chat functions.", "You may disable the chat anytime.", "Enable Cookies and Chat", "Zendesk Chat requires cookies to function", "If you do not agree with our @cookie policy@, you may disable the chat widget. Past information and cookies will be removed.", "You may re-enable chat anytime.", "Disable Chat", "Cancel", "Zendesk Chat requires cookies to function", "Sound", "Cookies", "About", "Send a File", "Email Transcript", "Edit Contact Details", "Name", "Enter your name", "Email", "Enter your email", "Phone", "Enter your phone", "Save", "Cancel", "End This Chat", "Connect with", "Use Name and Email", "Sign out", "Edit", "Open in new window", "Minimize", "Queue position: <number>", "This widget uses @cookies@.", "Offline", "Options", "Sign in", "Hi, <name>", "Hi there!", "Customer support", "Contact us here", "View past chats", "Reconnecting", "Good", "Bad", "Remove", "Good", "Bad", "Remove", "Leave a Comment", "Message not sent", "Resend", "Rate This Chat", "show original", "show translated", "This attachment was deleted.", 'Uploading "<file_name>"', '"<file_name>" sent.', "You", "You â€” Please update your info", "Open image" ];
e.__languages = {
ar: "__$$__stringtable_lang_ar",
az: "__$$__stringtable_lang_az",
bg: "__$$__stringtable_lang_bg",
ca: "__$$__stringtable_lang_ca",
cs: "__$$__stringtable_lang_cs",
da: "__$$__stringtable_lang_da",
de: "__$$__stringtable_lang_de",
el: "__$$__stringtable_lang_el",
es: "__$$__stringtable_lang_es",
et: "__$$__stringtable_lang_et",
eu: "__$$__stringtable_lang_eu",
fa: "__$$__stringtable_lang_fa",
fi: "__$$__stringtable_lang_fi",
fr: "__$$__stringtable_lang_fr",
fr_CA: "__$$__stringtable_lang_fr_CA",
he: "__$$__stringtable_lang_he",
hi: "__$$__stringtable_lang_hi",
hr: "__$$__stringtable_lang_hr",
hu: "__$$__stringtable_lang_hu",
id: "__$$__stringtable_lang_id",
is: "__$$__stringtable_lang_is",
it: "__$$__stringtable_lang_it",
ja: "__$$__stringtable_lang_ja",
ka: "__$$__stringtable_lang_ka",
ko: "__$$__stringtable_lang_ko",
ku: "__$$__stringtable_lang_ku",
lt: "__$$__stringtable_lang_lt",
lv: "__$$__stringtable_lang_lv",
mk: "__$$__stringtable_lang_mk",
ms: "__$$__stringtable_lang_ms",
nb: "__$$__stringtable_lang_nb",
nl: "__$$__stringtable_lang_nl",
pl: "__$$__stringtable_lang_pl",
pt: "__$$__stringtable_lang_pt",
pt_BR: "__$$__stringtable_lang_pt_BR",
ro: "__$$__stringtable_lang_ro",
ru: "__$$__stringtable_lang_ru",
sk: "__$$__stringtable_lang_sk",
sl: "__$$__stringtable_lang_sl",
sq: "__$$__stringtable_lang_sq",
sr: "__$$__stringtable_lang_sr",
sv: "__$$__stringtable_lang_sv",
th: "__$$__stringtable_lang_th",
tl: "__$$__stringtable_lang_tl",
tr: "__$$__stringtable_lang_tr",
uk: "__$$__stringtable_lang_uk",
ur: "__$$__stringtable_lang_ur",
vi: "__$$__stringtable_lang_vi",
zh_CN: "__$$__stringtable_lang_zh_CN",
zh_TW: "__$$__stringtable_lang_zh_TW"
};
e(e.s = 387);
}([ function(t, e) {
function i(t, e) {
if ("function" == typeof t && t.prototype && !t.__jx__no_fqname) {
t.prototype.__jx__fqname_chain = (t.prototype.__jx__fqname_chain || "") + " " + e;
t.prototype.__jx__fqname = e;
}
}
t.exports = i;
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i() {}
function n(t) {
i.prototype = t;
return new i();
}
t.exports = n;
e(n, "jx_core_globals_clone");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(93), o = i(14), r = i(381), s = i(379), a = i(183), _ = i(180), l = i(92), d = i(28), u = n.REGEX, c = {};
o.extend(c);
c.generateAll = r.generateAll;
c.generate = r.generate;
c.writeChanges = r.writeChanges;
c.setPalette = s.setPalette;
c.delPalette = s.delPalette;
c.delPalettes = s.delPalettes;
c.appendPalette = s.appendPalette;
c.getPalette = s.getPalette;
s.initDefaultPalette();
c.setIFrameOnly = a.setIFrameOnly;
c.bindIFrame = a.bindIFrame;
c.unbindIFrame = a.unbindIFrame;
c.transform2CSS = _;
c.getVariable = function(t) {
for (var e = l.palettes, i = l.priorities, n = i.length - 1; n >= 0; n--) if (i[n] && e[i[n]] && (e[i[n]][t] || d(e[i[n]][t]))) return u.isVariable.test(e[i[n]][t]) ? c.getVariable(e[i[n]][t].toString().slice(2)) : e[i[n]][t];
};
c.reload = function() {
c.writeChanges(!0);
};
t.exports = c;
e(c, "jx_core_JCSS");
return c;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
try {
t.style[I(e)] = i;
} catch (t) {}
}
function o() {}
function r() {}
function s() {
return "___$_" + N++;
}
function a(t, e) {
var i = e.getAttribute(D);
i = i ? i.split(" ") : [];
t || (t = s());
E[t] = e;
i.push(t);
e.setAttribute(D, i.join(" "));
}
function _(t) {
var e = t.getAttribute(D);
if (e) {
e = e.split(" ");
for (var i = 0; i < e.length; i++) delete E[e[i]];
}
}
function l(t) {
return E[t];
}
function d(t, e) {
for (var i, n = 0; n < e.length; n++) {
i = e[n];
if ("string" != typeof i) {
i[1] && (i[1] = t + "__" + i[1]);
i[3] && d(t, i[3]);
}
}
return e;
}
function u(t) {
var e = function(i, n, o, r, a) {
n = n || s();
var _ = i.ownerDocument, l = T.create(_, t, n);
l.__jx__constructor = e;
l.__jx__native = !0;
var d = !1;
l.appendToParent = function(t) {
T.hasParentNode(l) || T.appendChild(i, l);
if (t && !d) {
i.appendToParent && i.appendToParent(!0);
d = !0;
}
};
l.setStyle(o);
l.setAttributes(a);
T.addChildren(l, r);
l.appendToParent();
return l;
};
return e;
}
function c(t) {
for (;t.defaultPlacement; ) t = t.defaultPlacement;
return t;
}
function h(t) {
return t.createElement ? t : c(t).ownerDocument;
}
function p(t, e, i, n) {
var r = h(t).createElement(e);
x.isSafari && "textarea" == e.toLowerCase() && (r.style.resize = "none");
switch (e.toLowerCase()) {
case "textarea":
case "input":
r.style.outlineStyle = "none";
}
o(r);
a(i, r);
w(r);
v.extend(r);
r.setStyle(n);
x.buggyCSS && r.setOverflow("auto");
return r;
}
function f(t) {
return t.parentNode && t.parentNode.nodeType && 11 != t.parentNode.nodeType;
}
function g(t, e) {
if (t != document.body || "absolute" != e.style.position && "fixed" != e.style.position) {
for (var i = t; i.defaultPlacement; ) i = i.defaultPlacement;
i.appendChild(e);
e.applyConstraints();
} else {
t.insertBefore(e, t.firstChild);
e.applyConstraints();
}
}
function m(t, e) {
if (e && e.length) {
t = c(t);
for (var i, n, o, r = t.ownerDocument, s = 0; s < e.length; s++) {
n = e[s];
if (y(n)) i = n[0](t, n[1], n[2], n[3], n[4]); else {
o = r.createTextNode(n);
t.appendChild(o);
"function" == typeof n.bind && n.bind(o);
}
}
return i;
}
}
function $(t) {
var e = t.ownerDocument;
return e.defaultView && e.defaultView.getComputedStyle ? e.defaultView.getComputedStyle(t, null) || {} : t.currentStyle ? t.currentStyle : {};
}
function b(t, e) {
return $(t)[e];
}
function w(t, e) {
function i(e) {
var i;
for (var n in e) if (e.hasOwnProperty(n)) {
i = "set" + n.substr(0, 1).toUpperCase() + n.substr(1);
"function" == typeof t[i] && t[i](e[n]);
}
}
function n() {
return t.textContent || t.innerText || "";
}
function o(e) {
j && j.unbind && j.unbind(t);
e && "function" == typeof e.bind && e.bind(t);
O ? t.textContent = e : t.innerText = e;
}
function r(e) {
function i(e, i) {
var n = I("set-" + e);
"function" == typeof t[n] ? t[n](i) : B(t, e, i);
}
var n, o;
if (1 == arguments.length && C(e)) {
if (!e) return;
e = e.split(";");
for (n = 0; n < e.length; n++) if (!e[n].match(/^\s*$/)) {
o = e[n].match(/\s*([^:]+):\s*(.*?)\s*$/);
!o && e[n].length || i(o[1], o[2]);
}
} else if (1 == arguments.length && "object" == typeof e) for (var r in e) e.hasOwnProperty(r) && i(r, e[r]); else if (arguments.length > 1) for (n = 0; n < arguments.length; n += 2) i(arguments[n], arguments[n + 1]);
}
function s(e) {
function i() {
var t = j && j.flip ? j.flip(e) : e;
x.isIE ? ot.styleFloat = t : ot.cssFloat = t;
}
j && j.onLanguage && j.onLanguage(i);
i();
return t;
}
function a(e) {
X = h(e);
f();
return t;
}
function _(e) {
Z = h(e);
f();
return t;
}
function l(e) {
K = h(e);
f();
return t;
}
function d(e) {
Q = h(e);
f();
return t;
}
function u(e) {
J = h(e);
f();
return t;
}
function c(e) {
tt = h(e);
f();
return t;
}
function h(t) {
return C(t) && "%" == t.substr(t.length - 1) ? parseInt(t, 10) + "%" : parseInt(t, 10);
}
function p(e) {
switch (e) {
case "static":
case "relative":
case "absolute":
case "fixed":
et = e;
}
null !== et && B(t, "position", _t && "fixed" == et ? "absolute" : et);
return t;
}
function f() {
isNaN(X) || isNaN(tt) || (K = NaN);
isNaN(Z) || isNaN(J) || (Q = NaN);
J < 0 && (J = 0);
tt < 0 && (tt = 0);
g();
}
function g() {
T.hasParentNode(t) && (x.bugs.ie.cssFixed && "fixed" == et ? S(m, t, !0) : !x.bugs.ie.cssBottomRight || (isNaN(Z) || isNaN(Q)) && (isNaN(X) || isNaN(K)) ? D() : N());
}
function m() {
v();
t.appendToParent && t.appendToParent(!0);
K < 0 && (K = 0);
Q < 0 && (Q = 0);
A.ok(isNaN(Z) != isNaN(Q), "One and only one of left/right must be set");
A.ok(isNaN(X) != isNaN(K), "One and only one of top/bottom must be set");
A.ok(!isNaN(J), "Width must be set");
A.ok(!isNaN(tt), "Height must be set");
A.ok(t.ownerDocument == document, "Fixed element must be top level element");
if (tt != nt) {
ot.height = tt + "px";
nt = tt;
}
if (J != it) {
ot.width = J + "px";
it = J;
}
var e, i, n, o;
if (x.isQuirks) {
o = "document.body.clientHeight";
n = "document.body.clientWidth";
e = "(dummye34cf6=document.body.scrollLeft)+";
i = "(dummye34cf6=document.body.scrollTop )+";
} else {
o = "document.documentElement.clientHeight";
n = "document.documentElement.clientWidth";
e = "(dummye34cf6=document.documentElement.scrollLeft)+";
i = "(dummye34cf6=document.documentElement.scrollTop )+";
}
isNaN(Z) ? C(Z) ? e += parseInt(Z, 10) / 100 * (x.isQuirks ? document.body : document.documentElement).clientWidth : e += n + "-" + (J + Q) : e += Z;
isNaN(X) ? C(X) ? i += parseInt(X, 10) / 100 * (x.isQuirks ? document.body : document.documentElement).clientHeight : i += o + "-" + (tt + K) : i += X;
x.isIE6 && "rtl" == document.body.currentStyle.direction && (x.isQuirks ? e += "-(document.body.scrollWidth-document.body.clientWidth)" : e += "-(document.documentElement.scrollWidth-document.documentElement.clientWidth)");
ot.setExpression("left", e + '+"px"');
ot.setExpression("top", i + '+"px"');
}
function v() {
if (!v.alreadyHacked) {
v.alreadyHacked = 1;
if (x.isStrict) document.body.parentNode.style.background = "#fff url(https://) fixed"; else if ("fixed" != document.body.currentStyle.backgroundAttachment) {
if ("none" != document.body.currentStyle.backgroundImage) {
var t = document.createElement("div"), e = t.style, i = document.body.currentStyle;
e.backgroundAttachment = i.backgroundAttachment;
e.backgroundColor = i.backgroundColor;
e.backgroundImage = i.backgroundImage;
e.backgroundPositionX = i.backgroundPositionX;
e.backgroundPositionY = i.backgroundPositionY;
e.backgroundRepeat = i.backgroundRepeat;
e.position = "absolute";
e.zIndex = -1;
e.top = e.left = 0;
e.width = "100%";
document.body.insertBefore(t, document.body.firstChild);
var n, o, r = !1, s = 0, a = function() {
if (!r && s) {
n += document.body.clientWidth - s;
e.width = n + "px";
s = document.body.clientWidth;
}
o || (o = setTimeout(function() {
e.width = 0;
document.body.className = document.body.className;
n = Math.max(document.body.scrollWidth, document.body.clientWidth);
e.width = n + "px";
s = document.body.clientWidth;
r = document.body.scrollWidth > document.body.clientWidth;
o = null;
}, 0));
};
setTimeout(a, 0);
e.setExpression("height", 'document.body.scrollHeight+"px"');
a();
}
document.body.style.backgroundImage = "url(https://)";
document.body.style.backgroundAttachment = "fixed";
}
}
}
function N() {
function e(t, e) {
ot[t] = "";
ot.removeExpression(t);
"number" == typeof e ? ot[t] = e + "px" : C(e) && "%" == e.substr(e.length - 1) ? ot[t] = e : C(e) && e.length && ot.setExpression(t, e);
}
t.appendToParent && t.appendToParent(!0);
v();
var i, n, o = isNaN(Z) ? "" : Z, r = isNaN(Q) ? "" : Q, s = isNaN(J) ? "" : J, a = isNaN(X) ? "" : X, _ = isNaN(K) ? "" : K, l = isNaN(tt) ? "" : tt, d = "BackCompat" == t.ownerDocument.compatMode;
if ("fixed" == et && t.ownerDocument == document) if (d) {
n = "document.body.clientHeight";
i = "document.body.clientWidth";
} else {
n = "document.documentElement.clientHeight";
i = "document.documentElement.clientWidth";
} else {
n = "this.offsetParent.clientHeight";
i = "this.offsetParent.clientWidth";
}
if (x.isIE6) {
if (!isNaN(Z) && !isNaN(Q)) {
r = "";
s = [ i, Z, Q ].join("-");
}
if (!isNaN(X) && !isNaN(K)) {
_ = "";
l = [ n, X, K ].join(" - ");
}
}
if ("fixed" == et && t.ownerDocument == document) if (d) {
if (!isNaN(Z) || isNaN(Q)) o += "+(dummye34cf6=document.body.scrollLeft)"; else {
o += "+(dummye34cf6=document.body.scrollLeft)+document.body.clientWidth-this.offsetWidth-" + Q;
r = "";
}
if (!isNaN(X) || isNaN(K)) a += "+(dummye34cf6=document.body.scrollTop)"; else {
a += "+(dummye34cf6=document.body.scrollTop)+document.body.clientHeight-this.offsetHeight-" + K;
_ = "";
}
} else {
if (!isNaN(Z) || isNaN(Q)) o += "+(dummye34cf6=document.documentElement.scrollLeft)"; else if (x.isIE6) {
o += "+(dummye34cf6=document.documentElement.scrollLeft)+document.documentElement.clientWidth-this.offsetWidth-" + Q;
r = "";
} else r += "+document.documentElement.scrollWidth-(dummye34cf6=document.documentElement.scrollLeft)-document.documentElement.clientWidth";
if (!isNaN(X) || isNaN(K)) a += "+(dummye34cf6=document.documentElement.scrollTop)"; else if (x.isIE6) {
a += "+(dummye34cf6=document.documentElement.scrollTop)+document.documentElement.clientHeight-this.offsetHeight-" + K;
_ = "";
} else _ += "+document.documentElement.scrollHeight - (dummye34cf6=document.documentElement.scrollTop) - document.documentElement.clientHeight";
}
e("left", o);
e("right", r);
e("width", s);
e("top", a);
e("bottom", _);
e("height", l);
}
function D() {
L();
E();
}
function E() {
ot.top = C(X) ? X : isNaN(X) ? "" : X + "px";
ot.bottom = C(K) ? K : isNaN(K) ? "" : K + "px";
if (tt != nt) {
ot.height = C(tt) ? tt : isNaN(tt) ? "" : tt + "px";
nt = tt;
}
}
function L() {
ot.left = C(Z) ? Z : isNaN(Z) ? "" : Z + "px";
ot.right = C(Q) ? Q : isNaN(Q) ? "" : Q + "px";
if (J != it) {
ot.width = C(J) ? J : isNaN(J) ? "" : J + "px";
it = J;
}
}
function W() {
var e, i, n, o, r, s, a = isNaN(J) ? t.offsetWidth : J, _ = isNaN(tt) ? t.offsetHeight : tt;
e = i = n = o = NaN;
r = s = 0;
switch (lt.charAt(0)) {
case "t":
e = 0;
break;

case "m":
e = "50%";
break;

case "b":
i = 0;
}
switch (lt.charAt(1)) {
case "l":
n = 0;
break;

case "c":
n = "50%";
break;

case "r":
o = 0;
}
"50%" == e && (r = -_ / 2);
"50%" == n && (s = -a / 2);
var l = 0;
ut >= 0 || !isNaN(e) || "string" == typeof e ? r += ut : l = -ut;
s += dt;
t.setMargin([ r + "px", 0, l + "px", s + "px" ].join(" ")).setTop(e).setBottom(i).setLeft(n).setRight(o);
}
function R(e) {
if (!y(e)) {
e = e.split(" ");
e[0] = parseInt(e[0], 10);
e[1] = parseInt(e[1], 10);
e[2] = parseInt(e[2], 10);
e[3] = parseInt(e[3], 10);
}
if (_t) {
e[1] = Math.max(0, e[1]);
e[2] = Math.max(0, e[2]);
}
ct = e;
return t;
}
function F(e) {
if (!y(e)) {
e = e.split(" ");
e[0] = parseInt(e[0], 10);
e[1] = parseInt(e[1], 10);
e[2] = parseInt(e[2], 10);
e[3] = parseInt(e[3], 10);
}
ht = [ Math.max(0, e[0]), Math.max(0, e[1]), Math.max(0, e[2]), Math.max(0, e[3]) ];
return t;
}
function M() {
if (ct) {
Z < ct[3] + ht[3] && (Z = ct[3]);
Q < ct[1] + ht[1] && (Q = ct[1]);
X < ct[0] + ht[0] && (X = ct[0]);
K < ct[2] + ht[2] && (K = ct[2]);
var e = x.isQuirks ? document.body : document.documentElement, i = isNaN(J) ? t.offsetWidth : J, n = e.clientWidth - i, o = e.clientHeight - t.offsetHeight;
n - Z <= ct[1] + ht[1] && (Z = n - ct[1]);
n - Q <= ct[3] + ht[3] && (Q = n - ct[3]);
o - X <= ct[2] + ht[2] && (X = o - ct[2]);
o - K <= ct[0] + ht[0] && (K = o - ct[0]);
}
}
function V(e, i) {
K = Q = NaN;
X = i;
Z = e;
M();
g();
return t;
}
function H(t, e) {
isNaN(Z) && isNaN(Q) && (Z = 0);
isNaN(X) && isNaN(K) && (X = 0);
isNaN(Z) || (Z += t);
isNaN(Q) || (Q -= t);
isNaN(X) || (X += e);
isNaN(K) || (K -= e);
M();
g();
}
function z(e, i, n, o) {
if (e) {
isNaN(J) && (J = t.offsetWidth);
J = Math.max(n || 0, J + e);
}
if (i) {
isNaN(tt) && (tt = t.offsetHeight);
tt = Math.max(o || 0, tt + i);
}
M();
g();
t.fire("jx:resize");
return t;
}
function U(e) {
"none" != e && "block" != e || (pt = !0);
"none" != e && "hidden" != e && "false" != e && e ? Y() : q();
return t;
}
function q() {
if (pt) {
if ("none" != ot.display) {
ot.display = "none";
t.fire("hide");
}
} else if ("hidden" != ot.visibility) {
ot.visibility = "hidden";
t.fire("hide");
}
return t;
}
function G() {
return pt ? "none" != t.getStyle("display") : "visible" == t.getStyle("visibility");
}
function Y() {
if (pt) {
if ("block" != ot.display) {
ot.display = "block";
t.fire("show");
}
} else if ("visible" != ot.visibility) {
ot.visibility = "visible";
t.fire("show");
}
return t;
}
var X, K, Z, Q, J, tt, et, it, nt, ot = t.style, rt = t.ownerDocument, st = "BackCompat" == rt.compatMode, at = !(!rt.documentElement || !rt.documentElement.style.setExpression), _t = x.isIE6 || x.isIE && st && at;
X = K = Z = Q = J = tt = NaN;
et = null;
var lt = "", dt = 0, ut = 0;
t.dock = function(e, i, n) {
lt = e;
k(i) && (dt = i);
k(n) && (ut = n);
W();
t.on("jx:resize", W);
};
var ct, ht = [ 0, 0, 0, 0 ], pt = !1;
t.getStyles = function() {
return $(t);
};
t.getStyle = function(e) {
return b(t, e);
};
t.setAttributes = i;
t.getText = n;
t.setText = o;
t.setStyle = r;
t.setFloat = s;
t.setPosition = p;
t.setTop = a;
t.setBottom = l;
t.setLeft = _;
t.setRight = d;
t.setHeight = c;
t.setWidth = u;
t.applyConstraints = g;
t.setVisible = U;
t.setBounds = R;
t.setSnaps = F;
t.move = H;
t.moveTo = V;
t.resizeBy = z;
t.hide = q;
t.show = Y;
t.isVisible = G;
for (var ft in P) P.hasOwnProperty(ft) && (t[ft] = P[ft]);
if (e) for (var gt = t.firstChild; gt; ) {
w(gt, !0);
gt = gt.nextSibling;
}
return t;
}
var x = i(8), v = i(14), y = i(22), j = i(7), C = i(21), S = i(16), A = i(94), k = i(28), I = i(186).toCamelCase, T = {
create: p,
extend: w,
appendChild: g,
addChildren: m,
hasParentNode: f,
id: s,
get: l,
set: a,
unset: _,
mangleIDs: d,
generateID: s,
nativeGenerator: u,
getStyles: $,
processDeferredStyles: r
}, B = n, N = 1, D = "__JX__ID", E = {};
x.bugs.leaksMemory && x.bugs.leaksMemory(function() {
for (var t, e = 0, i = E.length; e < i; e++) {
t = E[e];
t.plugLeakage && t.plugLeakage();
}
});
var O = x.isTextContent, P = T.proto = {
$: function(t) {
return l(this.id + "__" + t);
},
destroy: function() {
if (this._destructors) for (var t = this._destructors, e = t.length, i = 0; i < e; i++) t[i].call(this);
this.parentNode && this.parentNode.removeChild(this);
this._autobinds && this.autounbind();
"function" == typeof this.empty && this.empty();
"function" == typeof this.unextendEvents && this.unextendEvents();
_(this);
x.bugs.leaksMemory && "function" == typeof this.plugLeakage && this.plugLeakage();
},
empty: function() {
for (var t; t = this.firstChild; ) "function" == typeof t.destroy ? t.destroy() : t.jx_wrapper ? t.jx_wrapper.destroy() : 1 == t.nodeType ? P.destroy.call(t) : this.removeChild(t);
},
onDestruction: function(t) {
(this._destructors || (this._destructors = [])).push(t);
},
autobind: function(t, e, i) {
t.on(e, i);
this._autobinds || (this._autobinds = []);
this._autobinds.push([ t, e, i ]);
},
autounbind: function(t, e, i) {
var n, o, r = this._autobinds;
if (t && e && i) for (n = r.length - 1; n >= 0; n--) {
o = r[n];
if (o[0] == t && o[1] == e && o[2] == i) {
r.splice(n, 1);
o[0].un(o[1], o[2]);
return;
}
} else if (t || e || i) ; else {
if (!r) return;
for (n = r.length - 1; n >= 0; n--) {
o = r[n];
o[0].un(o[1], o[2]);
}
}
},
getXY: function() {
var t, e, i = this.offsetParent;
t = this.offsetLeft;
e = this.offsetTop;
for (;i; ) {
t += i.offsetLeft;
e += i.offsetTop;
i = i.offsetParent;
}
return [ t, e ];
},
getFixedXY: function() {
var t = 0, e = 0, i = this;
if ("getBoundingClientRect" in this) {
var n = this.ownerDocument, o = n.body, r = n.defaultView || i.parentWindow || !1, s = i.getBoundingClientRect(), a = n.clientTop || o.clientTop || 0, _ = n.clientLeft || o.clientLeft || 0, l = r.pageYOffset || o.scrollTop, d = r.pageXOffset || o.scrollLeft;
e = s.top + l - a;
t = s.left + d - _;
} else {
e = i.offsetTop;
t = i.offsetLeft;
for (;i = i.offsetParent; ) {
e -= i.scrollTop, t -= i.scrollLeft;
e += i.offsetTop, t += i.offsetLeft;
}
}
return [ t, e ];
},
toggle: function() {
this.isVisible() ? this.hide() : this.show();
return this;
},
setOpacity: function(t) {
t = Math.max(Math.min(t, 1), 0);
x.isIE ? this.style.filter = (this.style.filter || "").replace(/progid:DXImageTransform.Microsoft.Alpha\([^\)]*\),? ?/gi, "") + (t >= 1 ? "" : "progid:DXImageTransform.Microsoft.Alpha(opacity=" + 100 * t + "), ") : this.style.opacity = t;
return this;
},
setBackgroundImage: function(t) {
var e = t;
e && x.isIE ? this.style.filter += 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="' + e + '",sizingMethod="scale"), ' : this.style.backgroundImage = 'url("' + t + '")';
return this;
},
setClass: function(t) {
this.className = t;
return this;
},
addClass: function(t) {
this.removeClass(t);
this.className += " " + t;
return this;
},
removeClass: function(t) {
for (var e = this.className.split(" "), i = 0; i < e.length; i++) e[i] == t && (e[i] = "");
this.className = e.join(" ");
return this;
},
setRotation: function(t) {
if (x.isFF) this.style.MozTransform = t ? "rotate(" + t + "deg)" : ""; else if (x.isSafari) this.style.WebkitTransform = t ? "rotate(" + t + "deg)" : ""; else if (x.isIE) {
this.style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
if (x.isIE8 && t) {
var e = this.getElementsByTagName("iframe");
if (x.isIE8 && e.length) {
e[0].style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
this.style.overflow = "visible";
}
}
}
return this;
},
setSelectable: function(t) {
function e() {
return !1;
}
if (t && "false" != t) {
this.unselectable = "on";
void 0 !== this.style.MozUserSelect ? this.style.MozUserSelect = "none" : void 0 !== this.style.WebkitUserSelect ? this.style.WebkitUserSelect = "none" : void 0 !== this.onselectstart && this.un("selectstart", e);
} else {
this.unselectable = "on";
void 0 !== this.style.MozUserSelect ? this.style.MozUserSelect = "none" : void 0 !== this.style.WebkitUserSelect ? this.style.WebkitUserSelect = "none" : void 0 !== this.onselectstart && this.on("selectstart", e);
}
return this;
},
setScrollTop: function(t) {
this.scrollTop = t;
return this;
}
};
x.leaksMemory && (P.plugLeakage = function() {
this.unextendEvents && this.unextendEvents();
this.$ = this.plugLeakage = this.destroy = this.empty = this.autobind = this.autounbind = this._autobinds = this._destructors = this.onDestruction = this.getXY = this.appendToParent = this.defaultPlacement = this.getStyles = this.getStyle = this.setAttributes = this.getText = this.setText = this.setStyle = this.setFloat = this.setPosition = this.setTop = this.setBottom = this.setLeft = this.setRight = this.setHeight = this.setWidth = this.applyConstraints = this.setVisible = this.setBounds = this.setSnaps = this.move = this.moveTo = this.resizeBy = this.hide = this.show = this.isVisible = this.toggle = this.setOpacity = this.setBackgroundImage = this.setClass = this.addClass = this.removeClass = this.setRotation = this.setSthisectable = this.setScrollTop = this.setBackground = this.setBackgroundPosition = this.setBorder = this.setBorderColor = this.setBorderStyle = this.setBorderWidth = this.setBorderTop = this.setBorderRight = this.setBorderBottom = this.setBorderLeft = this.setClear = this.setColor = this.setPadding = this.setMargin = this.setMarginTop = this.setMarginRight = this.setMarginBottom = this.setMarginLeft = this.setDisplay = this.setLineHeight = this.setLetterSpacing = this.setVisibility = this.setOutline = this.setOverflow = this.setOverflowX = this.setOverflowY = this.setFontFamily = this.setFontSize = this.setFontWeight = this.setFontStyle = this.setTextAlign = this.setTextDecoration = this.setTextTransform = this.setVerticalAlign = this.setZIndex = this.setCursor = this.setHref = this.setSrc = this.setChecked = this.setMedia = this.setName = this.setType = this.setValue = this.setDataNode = this.__jx__constructor = this.__jx__native = null;
});
var L, W;
L = "background background-position border border-color border-style border-width color border-top border-right border-bottom border-left clear padding margin margin-top margin-right margin-bottom margin-left display line-height letter-spacing visibility outline overflow overflow-x overflow-y font-family font-size font-weight font-style text-align text-decoration text-transform vertical-align z-index cursor".split(" ");
for (W = 0; W < L.length; W++) P[I("set-" + L[W])] = function(t) {
return function(e) {
try {
this.style[t] = e;
} catch (t) {}
return this;
};
}(I(L[W]));
L = "checked href media name src target type value".split(" ");
for (W = 0; W < L.length; W++) P[I("set-" + L[W])] = function(t) {
return function(e) {
this.setAttribute(t, e);
return this;
};
}(L[W]);
x.isIE && document.execCommand("BackgroundImageCache", !1, !0);
t.exports = T;
e(T, "jx_core_Element");
return T;
}();
}).call(this, i(0));
}, function(t, e, i) {
var n = i(46), o = {};
o.$Data = n;
t.exports = o;
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
W = !0;
V.root = $ = t instanceof S ? t : new S("root");
w = i;
if (A.ACCOUNT_KEY || e) {
if (e) {
b = e;
$.$$("livechat.ui.mockup$bool").update(!0);
}
if (D.isMobileBrowser) {
$.$$("livechat.ui.mobile$bool").update(!0);
D.isMobileWhitelist && $.$$("livechat.ui.mobile_whitelist$bool").update(!0);
D.isMobileTablet && $.$$("livechat.ui.tablet$bool").update(!0);
}
window.$zopim_popout ? $.$$("livechat.ui.popout$bool").update(!0) : e || x.setIFrameOnly(!0);
var n, o = m(k);
if (!b) for (var r in O) if (O.hasOwnProperty(r)) {
var s = I.DOM.getVariable(r);
"log" == r && s && "object" == typeof s && $.$("livechat").$("temp").update({
prev_log: s
});
"settings" == r && s && N.getKeys(s).length && $.$("livechat").$("settings").update({
cached$bool: !0
});
if ("object" == typeof s) {
n = N.getKeys(s);
n && n.length && N.fullyExtend(N.descendsObj(o, O[r]), s);
} else N.insertObj(O[r], s, o);
}
$.update(o);
if (!b && !f()) {
var a = v.isIOS ? "unload" : "beforeunload";
y.window.on(a, function() {
try {
g();
} catch (t) {}
});
}
var _ = I.getAllowCookieLaw();
"boolean" == typeof _ && $.$$("livechat.profile").update({
allow_cookies$bool: _
});
$.$$("livechat.settings.package").on("value", function(t) {
if (t) {
"color_customization_enabled$int" in t && t.color_customization_enabled$int && (L = 1);
"widget_customization_enabled$int" in t && t.widget_customization_enabled$int && (L = 2);
}
});
V.fire("init");
}
}
function o(t) {
j(t) && (W ? t() : V.on("init", t));
}
function r(t, e) {
B.sendChatMsg(t, e);
}
function s(t) {
var e = parseInt(w.getServerTime().toFixed(0), 10), i = e + "";
$.$("livechat").$("channel").$("log").$(i).write({
timestamp$int: e,
nick$string: $.$("livechat").$("profile").$("nick$string").getValue() || "",
display_name$string: $.$("livechat").$("profile").$("display_name$string").getValue() || "",
type$string: "chat.file.upload",
file_name$string: t.file_name || "",
file_type$string: t.file_type || "",
file_size$int: t.file_size || 0,
unverified$bool: !0,
__client$bool: !0
});
return e;
}
function a(t) {
if (t) {
var e = {};
"name" in t && (e.display_name$string = t.name + "");
"email" in t && (e.email$string = t.email + "");
"phone" in t && (e.phone$string = t.phone + "");
"department_id" in t && (e.department_id$int = t.department_id);
$.$$("livechat.profile").write(e);
return !0;
}
}
function _() {
T.clearIdentity();
I.clearAll();
$.$("livechat").$("ui").$("chat_button").$("unread_count$int").update(0);
$.$$("livechat.channel").update(null);
$.$$("profile").update(null);
}
function l() {
var t = $.$$("livechat.settings.cookie_law.enabled$bool").getValue(), e = $.$$("livechat.profile.allow_cookies$bool").getValue();
return !t || !1 !== e;
}
function d() {
$.$$("connection").update({
reconnect$bool: !0
});
}
function u(t) {
if (!b) {
var e = $.$$("livechat.account.key$string").getValue(), i = $.$$("livechat.profile.mid$string").getValue();
t && e && i && window.open(N.getAuthLoginUrl(t, e, i), F + e, $.$$("livechat.ui.mobile$bool").getValue() ? "" : M);
}
}
function c() {
if ($.$$("livechat.profile.auth.type$string").getValue()) {
$.$$("livechat.profile.auth").write({
type$string: null
});
$.$$("livechat.profile").update({
display_name$string: "",
email$string: ""
});
} else $.$$("livechat.profile").write({
display_name$string: "",
email$string: ""
});
}
function h() {
$.$$("livechat.channel").write({
chatting$bool: !1
});
}
function p() {
return $.$$("livechat.ui.mockup$bool").getValue() ? 100 : L;
}
function f() {
var t = $.$("livechat").$("account").$("status$string").getValue();
return C(t, E) > -1;
}
function g() {
if (R.canStoreCookie()) {
var t = $.$("connection").getValue();
if (t && "status$string" in t) {
var e = new S("root");
e.update($.getValue());
for (var i = 0, n = P.length; i < n; i++) e.$$(P[i]).update(null);
var o, r;
for (o in O) if (O.hasOwnProperty(o)) {
switch (o) {
case "settings":
r = w.getServerSettings("settings");
break;

case "log":
r = e.$("livechat").$("channel").$("chatting$bool").getValue() ? N.getLastLogEntries($.$$(O[o]), A.CHAT_LOG_REMEMBER_COUNT) : null;
break;

default:
r = e.$$(O[o]).getValue();
}
I.DOM.saveVariable(o, r);
}
e = null;
}
}
}
function m(t) {
if ("object" != typeof t || !t) return t;
var e = {};
for (var i in t) t.hasOwnProperty(i) && (e[i] = m(t[i]));
t.hasOwnProperty(H) && (e[H] = m(t[H]));
return e;
}
var $, b, w, x = i(2), v = i(8), y = i(14), j = i(20), C = i(24), S = i(91), A = i(18), k = i(90), I = i(112), T = i(45), B = i(177), N = i(10), D = i(34), E = [ "banned", "invalid_account_key" ], O = {
last_host: "connection.server$string",
chatting: "livechat.channel.chatting$bool",
account_status: "livechat.account.status$string",
settings: "livechat.settings",
ui: "livechat.ui",
notification: "livechat.profile.notification",
departments: "livechat.departments",
log: "livechat.channel.log",
read: "livechat.channel.read",
features: "livechat.features",
gates: "livechat.gates"
}, P = [ "livechat.settings.cached$bool", "livechat.ui.chat_window.menu_stack_name$string", "livechat.ui.chat_window.pre_chat_form.submitted$bool", "livechat.ui.post_chat_form.stack_index$int", "livechat.ui.offline_form.stack_index$int", "livechat.ui.theme_reload$bool", "livechat.ui.theme_loaded$bool", "livechat.ui.popout$bool", "livechat.ui.mobile$bool", "livechat.ui.mobile_overlay$bool", "livechat.ui.mobile_notifications$bool", "livechat.ui.chat_button.fully_visible$bool", "livechat.ui.chat_window.chat_panel.file_toast.error$string", "livechat.ui.departments", "livechat.ui.visitor.authenticated$bool", "livechat.ui.visitor.auth_status$string", "livechat.ui.history" ], L = 0, W = !1, R = {
sendChatMsg: r,
sendFile: s,
updateProfile: a,
clearAll: _,
reconnect: d,
canStoreCookie: l,
doExternalLogin: u,
doExternalLogout: c,
endChat: h,
getLimit: p,
isAccountError: f
}, F = "zlivechatexternallogin_", M = "width=500,height=500,menubar=no,toolbar=no,location=no,personalbar=no,status=no,resizable=yes,scrollbars=no", V = y.extend({
init: n,
root: $,
livechat: R,
afterInit: o
}), H = "toString";
t.exports = V;
e(V, "meshim_widget_controllers_DataController");
return V;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "div");
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_Widget");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
if (isNaN(t)) {
var i = new o();
i.add("_", t);
return i;
}
-1 == t && (t = $.length);
var n = $[t];
n || ($[t] = n = new o());
if ("string" == typeof e) n.add("_", e); else for (var r in e) e.hasOwnProperty(r) && n.add(r, e[r]);
return n;
}
function o() {
function t(t, e) {
l[t] = e;
}
function e(t) {
r(t, u);
}
function i(t) {
d.push(t);
}
function n() {
return s();
}
function s(t) {
return l[t || b] || l._;
}
function a(t) {
var e, i = s(t);
for (e = 0; e < d.length; e++) d[e](i);
}
function _(t, e) {
var i, n = new o();
$[l._] = n;
for (var r in l) if (l.hasOwnProperty(r)) {
i = l[r];
if ("string" != typeof i) continue;
i = i[t].apply(i, e);
n.add(r, i);
}
return n;
}
for (var l = {}, d = [], u = {
add: t,
bind: e,
onTranslate: i,
toJSON: n,
toString: s,
update: a
}, c = [ "concat", "replace", "toLowerCase", "toUpperCase" ], h = 0; h < c.length; h++) u[c[h]] = function(t) {
return function() {
return _(t, arguments);
};
}(c[h]);
return u;
}
function r(t, e) {
for (var i = 0; i < w.length; i++) if (w[i] == t) {
x[i] = e;
return;
}
w.push(t);
x.push(e);
}
function s(t) {
for (var e = 0; e < w.length; e++) if (w[e] == t) {
w.splice(e, 1);
x.splice(e, 1);
return;
}
}
function a(t) {
t = t.split(/-|_/).slice(0, 2);
var e = t[0] = t[0].toLowerCase();
t[1] && (t[1] = t[1].toUpperCase());
t = t.join("_");
return f.languages ? t in f.languages ? t : e in f.languages ? e : null : null;
}
function _(t) {
var e, i, o, r, s, _;
t = a(t);
if (t) {
s = f.languages[t];
if (s) {
_ = g[f.languages[t]];
if (_) {
n.language = b = t;
m.ensureLoaded(_, function(n) {
n && l(t);
if (t == b) {
for (e = 0, i = $.length; e < i; e++) $[e].update instanceof Function && $[e].update(t);
for (e = 0, i = w.length; e < i; e++) {
o = w[e];
r = x[e].toString();
if (y) o.textContent = r; else if ("string" == typeof o.innerText) o.innerText = r; else if ("string" == typeof o.nodeValue) try {
o.data = r;
} catch (t) {}
}
v._active = !0;
i = v.length;
for (e = 0; e < i; e++) try {
v[e] && v[e](t);
} catch (t) {}
v._active = !1;
if (v._dirty) {
for (e = 0; e < i; e++) if (!v[e]) {
e == i - 1 ? v.pop() : v[e--] = v.pop();
i--;
}
v._dirty = !1;
}
}
});
}
}
}
}
function l(t) {
var e, i = g[f.languages[t]];
for (e = 0; e < i.length; e++) 0 !== i[e] && $[e].add(t, i[e]);
}
function d(t) {
v.push(t);
}
function u(t) {
for (var e = 0, i = v.length; e < i; e++) if (v[e] == t) {
v._active ? (v[e] = null, v._dirty = !0) : e == i - 1 ? v.pop() : v[e] = v.pop();
break;
}
}
function c() {
return !(-1 == b.search(j));
}
function h(t) {
return c() ? t.replace(/left/, "%left%").replace(/right/, "left").replace(/%left%/, "right").replace(/ltr/, "%ltr%").replace(/rtl/, "ltr").replace(/%ltr%/, "rtl") : t;
}
var p = i(8), f = i(46), g = i(4), m = i(187), $ = [], b = "_", w = [], x = [], v = [], y = p.isTextContent, j = /^ar|^fa|^he|^ku|^ur/, C = f.strings;
if (C) for (var S = 0; S < C.length; S++) n(S, C[S]);
n.bind = r;
n.flip = h;
n.onLanguage = d;
n.unLanguage = u;
n.update = _;
n.unbind = s;
n.rtl = c;
n.findClosestLanguage = a;
t.exports = n;
e(n, "jx_core__");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = (i(24), i(94)), o = (i(20), i(26)), r = function() {
function t(t) {
return t.replace(/^http:/, O ? "https:" : "http:");
}
function e() {
if (void 0 !== window.innerHeight) return window.innerHeight;
if (document.documentElement) return document.documentElement.offsetHeight;
var t = document.getElementsByTagName("body");
return t.length ? t[0].clientHeight : 0;
}
function i() {
if (void 0 !== window.innerWidth) return window.innerWidth;
if (document.documentElement) return document.documentElement.offsetWidth;
var t = document.getElementsByTagName("body");
return t.length ? t[0].clientWidth : 0;
}
function r() {
if (!o(s)) return s;
var t = document.createElement("div"), e = document.createElement("div"), i = t.style, n = e.style;
i.overflow = "auto";
i.width = i.height = "100px";
i.position = "absolute";
i.top = "-1000px";
n.width = "100%";
n.height = "200px";
t.appendChild(e);
document.body.appendChild(t);
s = t.offsetWidth - t.clientWidth;
document.body.removeChild(t);
return s;
}
var s, a, _ = navigator, l = _.userAgent.toLowerCase(), d = +(/trident.*rv:? *([0-9]+)/.exec(l) || [])[1] || !1, u = function() {
for (var t = 3, e = document.createElement("div"), i = e.getElementsByTagName("i"); e.innerHTML = "<!--[if gt IE " + ++t + "]><i></i><![endif]-->", 
i[0]; ) ;
return t > 4 ? t : document.documentMode;
}(), c = 8 === u, h = 7 === u, p = 6 === u, f = !!window.opera && "[object Opera]" === Object.prototype.toString.call(window.opera), g = l.indexOf("edge") > -1, m = "Google Inc." === _.vendor, $ = "Apple Computer, Inc." === _.vendor, b = !g && !u && !f && (m || $ || /webkit|khtml/.test(l)), w = +/\d+/.exec(/firefox\/\d+/i.exec(_.userAgent) || ""), x = -1 !== l.indexOf("iphone"), v = -1 !== l.indexOf("ipod"), y = -1 !== l.indexOf("ipad"), j = x || y || v, C = -1 !== l.indexOf("android"), S = -1 !== l.indexOf("wp7"), A = j || C || S, k = u && "msie" || w && "firefox" || f && "opera" || m && "chrome" || $ && "safari", I = "CSS1Compat" === document.compatMode, T = !I, B = u && T && document.documentElement && !!document.documentElement.style.setExpression, N = document.documentMode || u, D = -1 !== l.indexOf("windows") || -1 !== l.indexOf("win32"), E = -1 !== l.indexOf("macintosh") || -1 !== l.indexOf("mac os x"), O = "https:" === document.location.protocol, P = _.language || _.browserLanguage || _.userLanguage || _.systemLanguage, L = {
noBoxSizing: N <= 7,
ie: {
cssBottomRight: p,
cssFixed: p || B,
buggyCSS: p || B
}
}, W = "textContent" in document.createElement("div"), R = !1, F = null;
try {
if (window.CustomEvent && /\[native code\]|\[object CustomEventConstructor\]/.test(window.CustomEvent.toString())) {
new window.CustomEvent("testevent", {
bubbles: !1,
cancelable: !0,
detail: !0
});
R = !0;
F = window.CustomEvent;
}
} catch (t) {}
switch (k) {
case "msie":
case "firefox":
case "chrome":
a = +/\d+/.exec(new RegExp(k + "[ /]\\d+").exec(l) || "");
break;

default:
a = +/\d+/.exec(/version[ \/]\d+/.exec(l) || "");
}
if (p) {
var M = [];
L.leaksMemory = function(t) {
n.isFunction(t);
M.push(t);
};
var V = function() {
for (var t = 0; t < M.length; t++) M[t]();
};
L.leaksMemory.remove = function(t) {
for (var e = M.length - 1; e >= 0; e--) t == M[e] && M.splice(e, 1);
};
window.attachEvent("onunload", V);
}
var H = "Shockwave Flash", z = "ShockwaveFlash.ShockwaveFlash", U = "application/x-shockwave-flash", q = "application/x-java-vm";
return {
browser: k,
version: a,
isStrict: I,
isQuirks: T,
isOpera: f,
isSafari: $,
isWebKit: b,
isChrome: m,
isAndroid: C,
isIPhone: x,
isIPod: v,
isIPad: y,
isIOS: j,
isWP7: S,
isMobile: A,
isNewIE: d,
isEdge: g,
isIE: u,
isIE6: p,
isIE7: h,
isIE8: c,
isFF: w,
isCustomEvents: R,
CustomEvent: F,
engineIE: N,
bugs: L,
isWindows: D,
isMac: E,
isSecure: O,
secureURL: t,
hasFlash: function() {
var t, e = _.plugins && _.plugins[H];
if (e) {
t = _.mimeTypes && _.mimeTypes[U];
return t && !t.enabledPlugin ? null : e.description;
}
if (window.ActiveXObject) try {
e = new window.ActiveXObject(z);
e.AllowScriptAccess = "always";
return e.GetVariable("$version");
} catch (t) {}
}(),
hasJava: function() {
var t = _.mimeTypes;
return u ? !S && ("javaEnabled" in _ && _.javaEnabled()) : t && (t = t[q]) && (t = t.enabledPlugin) ? t.name : void 0;
}(),
language: P,
getScrollbarSize: r,
getWindowClientHeight: e,
getWindowClientWidth: i,
isTextContent: W
};
}();
t.exports = r;
e(r, "jx_core_Browser");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = l.root, e = t.$("livechat").$("ui").$("mobile$bool"), i = t.$("livechat").$("ui").$("popout$bool"), n = t.$("livechat").$("ui").$("mockup$bool"), r = t.$("livechat").$("ui").$("tablet$bool");
d.popout = s(i);
d.mockup = s(n);
d.tablet = s(r);
d.mobile = function(t) {
if (e.getValue()) {
t.addClass("mobile");
t.removeClass("desktop");
} else {
t.addClass("desktop");
t.removeClass("mobile");
}
};
d.rtl = function(t) {
function e() {
_.unLanguage(i);
}
function i() {
if (_.rtl()) {
t.addClass("rtl");
t.removeClass("ltr");
} else {
t.addClass("ltr");
t.removeClass("rtl");
}
}
if (_ && _.onLanguage) {
_.onLanguage(i);
i();
t.onDestruction(e);
} else t.addClass("ltr");
};
d.windowPosition = o(t.$("livechat").$("settings").$("theme").$("chat_window").$("position$string"));
d.windowPositionMobile = o(t.$("livechat").$("settings").$("theme").$("chat_window").$("position_mobile$string"));
d.windowSize = o(t.$("livechat").$("settings").$("theme").$("chat_window").$("size$string"));
d.buttonPosition = o(t.$("livechat").$("settings").$("theme").$("chat_button").$("position$string"));
}
function o(t, e) {
e = e || "";
return function(i, n, o) {
n = n || "";
i.autobind(t, "value", r(i, e + n, o));
};
}
function r(t, e, i) {
var n;
return function(o) {
if (n != o) {
n && t.removeClass(e + n);
n = o;
n && t.addClass(e + n);
"function" == typeof i && i(n);
}
};
}
function s(t, e) {
e = e || t.name.split("$")[0];
return function(i, n) {
i.autobind(t, "value", a(i, e, n));
};
}
function a(t, e, i) {
return function(n) {
t[n ? "addClass" : "removeClass"](e);
"function" == typeof i && i(n);
};
}
var _ = i(7), l = i(5), d = {};
l.afterInit(n);
t.exports = d;
e(d, "meshim_widget_utils_BindClass");
return d;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
for (var i, n = document.createElement("div"), o = 0, r = P.length; o < r; o++) if (void 0 !== n.style[P[o]]) {
i = e[o];
break;
}
return i ? t ? function(t, e, n) {
t.autobind(e, i, n);
} : function(t, e, n) {
L && t.autounbind(e, i, n);
} : function() {};
}
function o(t, e) {
for (var i = {}, n = 0, o = e.length; n < o; n++) {
var r = e[n];
r in t && (i[r] = t[r]);
}
return i;
}
function r() {
for (var t, e, i = arguments.length, n = 1, o = arguments[0] || {}; n < i; n++) if (null != (t = arguments[n])) for (e in t) t.hasOwnProperty(e) && o !== t[e] && (o[e] = t[e]);
return o;
}
function s(t, e) {
for (var i in e) if (e.hasOwnProperty(i)) if (e[i] && e[i].constructor && e[i].constructor === Object) {
t[i] = t[i] || {};
s(t[i], e[i]);
} else t[i] = e[i];
return t;
}
function a(t, e) {
for (var i in e) if (e.hasOwnProperty(i)) {
if (!(i in t)) continue;
e[i] && e[i].constructor && e[i].constructor === Object ? a(t[i], e[i]) : delete t[i];
}
return t;
}
function _() {
if (void 0 === k) try {
k = l();
} catch (t) {}
return k;
}
function l() {
if (!window.getComputedStyle) return !1;
var t = document.createElement("div"), e = "border-box";
document.body.appendChild(t);
t.style.height = "10px";
t.style.padding = "5px";
t.style.boxSizing = e;
t.style.webkitBoxSizing = e;
t.style.mozBoxSizing = e;
var i = parseInt(window.getComputedStyle(t).height, 10);
document.body.removeChild(t);
return 10 != i;
}
function d(t) {
var e = t.getComputedStyle();
if ("auto" == e.height) return t.getHeight();
var i = parseInt(e.height, 10) || 0;
R.computedHeightBoxSizingBug() && (i += (parseInt(e.paddingTop, 10) || 0) + (parseInt(e.paddingBottom, 10) || 0) + (parseInt(e.borderTopWidth, 10) || 0) + (parseInt(e.borderBottomWidth, 10) || 0));
return i + "px";
}
function u(t) {
function e() {
this.addClass("hover");
}
function i() {
this.removeClass("hover");
}
if (I.bugs.noBoxSizing) {
t.on("mouseover", e);
t.on("mouseout", i);
}
}
function c(t, e) {
for (var i, n = e.split("."); n.length; ) {
i = n.shift();
T(t[i], !0) && (t[i] = {});
t = t[i];
}
return t;
}
function h(t, e) {
if (0 === e.indexOf(t.path)) {
for (var i, n = t.path.split(".").length, o = e.split(".").slice(n), r = t.update; o.length; ) {
i = o.shift();
if (!(i in r)) return;
r = r[i];
}
return r;
}
}
function p(t, e, i) {
t = t.split(".");
var n = t.pop();
if (n) {
for (var o = 0, r = t.length; o < r; o++) {
t[o] in i || (i[t[o]] = {});
i = i[t[o]];
}
i[n] = e;
}
}
function f(t) {
for (var e = t.split("."), i = "." + e.splice(e.length - 2, 2).join("."); e.length; ) {
var n = {
domain: i,
path: "/"
};
N.set("zte2095", "1", n);
if ("1" == N.get("zte2095")) {
N.remove("zte2095", n);
break;
}
i = "." + e.pop() + i;
}
return i;
}
function g(t) {
return M.test(t);
}
function m(t) {
return F.test(t);
}
function $(t) {
if (t && "object" == typeof t) {
var e = [];
for (var i in t) t.hasOwnProperty(i) && e.push(i);
return e;
}
}
function b(t) {
if (window.Image) try {
var e = new window.Image();
e.onload = e.onerror = function() {
t(!(1 != this.width || 1 != this.height));
};
e.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
} catch (e) {
t();
} else t();
}
function w(t, e) {
t = parseInt(t, 10);
isNaN(t) && (t = 0);
var i = t < 0;
t = Math.abs(t).toString().split("");
for (var n = Math.max(e - t.length, 0); n--; ) t.unshift("0");
i && t.unshift("-");
return t.join("");
}
function x(t, e) {
function i(t, e, i) {
return i.replace("<hours>", t).replace("<minutes>", e);
}
var n = B(0), o = B(1), r = B(2), s = "24" === e ? 24 : 12, a = function(t, e) {
return t - Math[t > 0 ? "floor" : "ceil"](t / e) * e;
}(Math[t > 0 ? "floor" : "ceil"](t / 60), s), _ = R.pad(Math.abs(t) % 60, 2);
if (24 === s) return i(R.pad(a, 2), _, n);
var l = 0 === a ? 12 : a;
return Math.abs(t / 60) % 24 < 12 ? i(l, _, o) : i(l, _, r);
}
function v(t) {
return t && t.replace(D.FILE_REPLACE_SOURCE, D.FILE_REPLACE_RESULT);
}
function y(t, e) {
e = parseInt(e, 10);
if (!e) return t.getValue();
var i = t.getKeys(), n = i.length, o = {};
if (n <= e) return t.getValue() || o;
for (var r = 0; r < n; r++) i[r] = parseInt(i[r], 10);
i = i.sort().slice(-e);
var s, a = t.getValue();
if (!a) return o;
for (r = 0, n = i.length; r < n; r++) {
s = i[r];
o[s] = a[s];
}
return o;
}
function j(t, e) {
var i;
if (t.leaf && t.parentNode) {
i = {};
i[t.name] = e;
t.parentNode.write(i);
} else t.write(e);
}
function C() {
if (I.isNewIE) try {
"body" !== document.activeElement.nodeName.toLowerCase() && document.activeElement.focus();
} catch (t) {}
}
function S() {
window.console && window.console.warn && window.console.warn("The Zopim widget embed code is invalid. Please email chat@zendesk.com with your account key: " + D.ACCOUNT_KEY);
}
function A(t, e, i) {
return D.AUTH_URL.replace("$NAME", t).replace("$KEY", e).replace("$MID", i);
}
var k, I = i(8), T = i(26), B = i(7), N = i(178), D = i(18), E = "-webkit- -moz- -o- -ms- ".split(" "), O = "webkit Moz O ms ".split(" "), P = [ "transition", "MozTransition", "OTransition", "WebkitTransition" ], L = [ "transitionend", "transitionend", "otransitionend", "webkitTransitionEnd" ], W = [ "animationend", "animationend", "oanimationend", "webkitAnimationEnd" ], R = {
contains: function() {
var t = document.documentElement;
return t.compareDocumentPosition ? function(t, e) {
t = t.dom || t;
e = e.dom || e;
return !!(16 & t.compareDocumentPosition(e));
} : t.contains ? function(t, e) {
t = t.dom || t;
e = e.dom || e;
var i = 9 === t.nodeType ? t.documentElement : t, n = e.parentNode;
return t === n || !!(n && 1 === n.nodeType && i.contains && i.contains(n));
} : function(t, e) {
t = t.dom || t;
e = e.dom || e;
for (;e = e.parentNode; ) if (e === t) return !0;
return !1;
};
}(),
onTransitionEnd: n(!0, L),
unTransitionEnd: n(!1, L),
onAnimationEnd: n(!0, W),
unAnimationEnd: n(!1, W),
css_prefixes: E,
cssom_prefixes: O,
isStyleSupported: function() {
function t(t) {
for (var e = t.charAt(0).toUpperCase() + t.slice(1), n = (t + " " + O.join(e + " ") + e).split(" "), o = 0; o < n.length; o++) if (void 0 !== i[n[o]]) return !0;
return !1;
}
var e = document.createElement("div"), i = e.style;
return t;
}(),
pick: o,
shallowExtend: r,
fullyExtend: s,
fullyDelete: a,
computedHeightBoxSizingBug: _,
getComputedHeight: d,
hoverFix: u,
getEffectiveTLD: f,
descendsObj: c,
insertObj: p,
getValueByReference: h,
isDefaultName: m,
getKeys: $,
supportsDataURI: b,
isIE: function() {
return I.isIE || /Trident\//.test(window.navigator.userAgent);
}(),
pad: w,
formatMinutesAsHours: x,
replaceFileHostname: v,
getLastLogEntries: y,
writeNode: j,
isAgentNick: g,
refocusActiveElement: C,
warnBadEmbed: S,
getAuthLoginUrl: A
}, F = /^Visitor [0-9]{3,}$/, M = /^agent:[0-9]+/i;
t.exports = R;
e(R, "meshim_widget_utils_Utils");
return R;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n, o = i(7), r = i(5), s = i(90), a = i(10), _ = i(91), l = o(4), d = o(5), u = o(6), c = o(7), h = o(8), p = o(9);
n = {
get: function(t) {
if (!t) return "";
var e, i;
if (t instanceof _) {
e = t.getValue();
i = a.descendsObj(s, t.path().slice(1).join("."));
} else {
e = r.root.$$(t).getValue();
i = a.descendsObj(s, t);
}
return (e && e.toString(10)) == (i && i.toString(10)) ? i : e || "";
},
status: {
online: o(10),
away: o(11),
offline: o(12)
},
error_message: {
text: o(13),
email: o(14),
textarea: o(15),
select: o(16),
radio: o(17),
checkbox: o(18),
checkbox_multiple: o(19),
department: o(20),
default: o(21)
},
placeholder: {
phone: o(22)
},
end_chat_menu_message: o(23),
external_login: {
facebook: o(24),
twitter: o(25),
google: o(26)
},
chat_log: {
"chat.memberjoin": o(27),
"chat.memberleave": o(28),
"chat.changename": o(29),
"chat.visitorjoin": o(30),
"chat.visitorleave": o(31),
"chat.comment": o(32),
"chat.rating": {
good: o(33),
bad: o(34),
cancel: o(35)
}
},
chat_panel: {
name_is_typing: o(36),
names_are_typing: o(37),
agents_are_typing: o(38),
chattextarea_placeholder: o(39),
sendbutton_text: o(40),
new_message_below: o(41),
new_messages_below: o(42)
},
chat_button: {
unread_one: o(43),
unread_many: o(44),
mobile_greeting: {
online: o(45),
offline: o(46)
}
},
chat_notification: {
attachment: o(47)
},
connection_status: {
reconnecting: o(48),
idle_disconnect: o(49),
disconnected: o(50),
resuming: o(51),
fast_init: o(52)
},
cookie_law: {
disabled: o(53),
disabled_mobile: o(54),
privacy_policy: o(55),
request_use_cookies_golion: c
},
profile: {
unlink: o(56)
},
system_msg: {
queue: p
},
branding: {
title_zendesk: "Zendesk",
title_golion: h
},
pre_chat_offline_form: {
button_message: o(57),
button_chat: o(58),
department_any: o(59),
department_any_required: o(60),
button_disabled: o(61),
operating_hours: {
closed: o(62),
period: o(63)
}
},
file_upload: {
error: {
size: o(64),
type: o(65),
disabled: o(66),
default: o(67)
}
},
set_assignee: {
error: {
default: o(68),
zendesk_agent_not_found: u
}
},
datetime: {
days: [ o(69), o(70), o(71), o(72), o(73), o(74), o(75) ],
weekday: o(76),
weekend: o(77),
everyday: o(78),
all_day: o(79)
},
back: l,
history: {
view_more: d
}
};
t.exports = n;
e(n, "meshim_widget_utils_Strings");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return !!t && "false" != t;
}
t.exports = i;
e(i, "jx_core_globals_parseBoolean");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "div";
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_div");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
var i = {}, n = {}, o = function(e) {
return !t.nodeType && t != window && t != document || ("FORM" != t.tagName || "submit" != e) && (!u.isCustomEvents && (u.isFF && u.isFF < 9 ? !document.createEvent("event")[e.toUpperCase()] : void 0 === t["on" + e]));
}, r = function(e, n, r) {
if (!e && "function" != typeof n) throw "bad arguments to on / addEventListener";
if (!(e in i)) {
i[e] = [];
o(e) || s(e);
}
i[e].push(n);
return t;
}, s = function(e) {
if (!(e in n)) {
n[e] = function(n) {
n && (n.stopPropagation || h(n));
var o, r = i[e], s = r.length, a = !0;
r._active = !0;
for (o = 0; o < s; o++) try {
if (!r[o]) continue;
!1 === r[o].call(t, u.isCustomEvents && n instanceof u.CustomEvent ? n.detail : n) && (a = !1);
} catch (t) {
c.fire("error", t);
}
r._active = !1;
if (r._dirty) {
for (o = 0; o < s; o++) if (!r[o]) {
o == s - 1 ? r.pop() : r[o--] = r.pop();
s--;
}
r._dirty = !1;
}
if (!1 === a) {
if (n) {
n.preventDefault();
n.returnValue = !1;
}
return !1;
}
};
t.attachEvent ? t.attachEvent("on" + e, n[e]) : t.addEventListener && t.addEventListener(e, n[e], !1);
}
}, a = function(e) {
var o = n[e];
if (o) {
t.attachEvent ? t.detachEvent("on" + e, o) : t.addEventListener && t.removeEventListener(e, o, !1);
delete n[e];
delete i[e];
}
}, _ = function(e, o) {
var r = i[e];
if (r) {
for (var s = 0, _ = r.length; s < _; s++) if (r[s] === o) {
1 == r.length ? n[e] ? a(e) : delete i[e] : r._active ? (r[s] = null, r._dirty = !0) : s == _ - 1 ? r.pop() : r[s] = r.pop();
break;
}
return t;
}
}, l = function() {
if (i && n) {
for (var t in n) n.hasOwnProperty(t) && a(t);
i = n = null;
}
}, d = function(e, n) {
if (!u.isCustomEvents || o(e)) {
var r = i[e], s = !0;
if (r && r.length) {
r._active = !0;
var a, _, l;
for (a = 0, _ = r.length; a < _; a++) try {
if (!r[a]) continue;
l = r[a].call(t, n);
!1 === l && (s = !1);
} catch (t) {
c.fire("error", t);
}
r._active = !1;
if (r._dirty) {
for (a = 0; a < _; a++) if (!r[a]) {
a == _ - 1 ? r.pop() : r[a--] = r.pop();
_--;
}
r._dirty = !1;
}
}
return s;
}
return t.dispatchEvent(new u.CustomEvent(e, {
bubbles: !1,
cancelable: !0,
detail: n
}));
}, h = function(t) {
t.preventDefault = h.preventDefault;
t.stopPropagation = h.stopPropagation;
t.target = t.srcElement;
};
h.preventDefault = function() {
this.returnValue = !1;
};
h.stopPropagation = function() {
this.cancelBubble = !0;
};
var p = {
fire: d,
on: r,
un: _,
unextendEvents: l
};
if (e) return p;
for (var f in p) p.hasOwnProperty(f) && (t[f] = p[f]);
u.bugs.leaksMemory && u.bugs.leaksMemory(function() {
for (var e in p) p.hasOwnProperty(e) && (t[e] = null);
});
return t;
}
function o(t) {
a(0, t);
}
function r(t) {
a(1, t);
}
function s(t) {
a(2, t);
}
function a(t, e) {
t <= h ? e() : p[t].push(e);
}
function _(t) {
for (;h < t; ) {
h++;
for (var e = 0; e < p[h].length; e++) p[h][e]();
p[h] = null;
}
}
function l() {
h > 0 || (document.body && document.body.firstChild ? _(1) : window.setTimeout(l, 200));
}
function d() {
_(2);
}
var u = i(8), c = {
extend: n,
body: n(document.body, !0),
window: n(window, !0),
document: n(document, !0),
runAfterScriptReady: o,
runAfterFirstChildReady: r,
runAfterDomReady: s
};
c.extend(c);
var h = 0, p = [ [], [], [], [] ];
l();
!function() {
var t;
if (u.isSafari) t = window.setInterval(function() {
if (/loaded|complete/i.test(document.readyState)) {
window.clearInterval(t);
d();
}
}, 20); else if (document.addEventListener) /loaded|complete/i.test(document.readyState) ? d() : document.addEventListener("DOMContentLoaded", d, !1); else if (u.isIE) {
window.attachEvent("onload", d);
var e = document.createElement("document:ready");
t = window.setInterval(function() {
if (/loaded|complete/i.test(document.readyState)) {
e = null;
window.clearInterval(t);
d();
} else {
try {
e.doScroll("left");
} catch (t) {
return;
}
e = null;
window.clearInterval(t);
d();
}
}, 200);
}
}();
t.exports = c;
e(c, "jx_core_Events");
return c;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
selectable: "false",
class: "icon_font"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = function() {
var t = {
zopim: "&#xe000;",
message: "&#x1f4ac;",
tick: "&#x2714;",
cross: "&#x2716;",
popout: "&#x2197;",
popin: "&#x2199;",
minimize: "&#x2212;",
plus: "&#x002b;",
smiley: "&#x263a;",
happy: "&#xe001;",
happier: "&#xe002;",
sad: "&#xe003;",
thumbsup: "&#x1f44d;",
thumbsdown: "&#x1f44e;",
sadder: "&#xe004;",
brand: "&#xe005;",
brand_suffix: "&#xe006;",
brand_extended: "&#xe005;&#xe006;",
avatar_placeholder: "&#xe007;",
email: "&#x1f4e7;",
facebook: "&#xe008;",
twitter: "&#xe009;",
google: "&#xe00a;",
facebook_out: "&#xe00d;",
twitter_out: "&#xe00c;",
google_out: "&#xe00b;",
badge_default: "&#xe00e;",
warning_sign: "&#x26a0;",
arrow_left: "&#x2190;",
arrow_up: "&#x2191;",
arrow_down: "&#x2193;",
arrow_down_long: "&#x21e9;",
arrow_right: "&#x2192;",
pencil: "&#x270e;",
dustbin: "&#xe00f;",
sound_on: "&#x1f50a;",
sound_off: "&#x1f507;",
send: "&#x000BB;",
upload: "&#x21e7;",
exclamation: "&#x0021;",
brand_zendesk: "&#xe010;",
google_2016: "&#xe011;",
google_2016_out: "&#xe012;",
paperclip: "&#x1f4ce;",
picture: "&#x1f5bc;",
zendesk_2016: "&#xe013;",
zendesk_chat_2016: "&#xe014;",
messenger_squircle: "&#xe015;",
twitter_squircle: "&#xe016;",
messenger_round: "&#xe017;",
twitter_round: "&#xe018;",
clock_stroke: "&#x1f550;"
};
c.setIcon = function(e) {
c.setHTML(t[e] || e || "");
};
c.setFont = function(t) {
c.setFontFamily(t || "");
};
}();
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
fontFamily: 'zopim, "Segoe UI Symbol", "Arial Unicode MS", "Lucida Sans Unicode", sans-serif',
speak: "none",
fontStyle: "normal",
fontWeight: "normal",
lineHeight: 1,
WebkitFontSmoothing: "antialiased"
},
"&:focus": {
outline: "none"
}
};
s(t, "meshim_widget_widgets_IconFont");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
s.ok("function" == typeof t, "1st argument to nextTick must be a function");
if (i) for (var n = l.length; n-- > 0; ) if (l[n][0] === t && l[n][1] === e) return;
l.push([ t, e ]);
r || (r = setTimeout(o, 0));
}
function o() {
var t = +new Date() + _, e = l;
l = [];
r && (r = clearTimeout(r));
for (var i = 0, n = e.length; i < n; i++) {
try {
e[i][0].apply(e[i][1]);
} catch (t) {
a.fire("error", t);
}
if (+new Date() > t) {
if (i < n - 1) {
e.splice(0, i + 1);
if (l.length) l = e.concat(l); else {
l = e;
r = setTimeout(o, 0);
}
}
break;
}
}
}
var r, s = i(94), a = i(14), _ = 100, l = [];
n.tick = o;
t.exports = n;
e(n, "jx_core_globals_nextTick");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(2), o = i(7), r = i(1), s = i(71), a = s, _ = i(6), l = i(5), d = i(9);
s = function(t, e, i, r, _) {
function u() {
c.fixOverflowTitle();
}
if (!(this instanceof s)) return new s(t, e, i, r, _);
if (!s.__jx__jcss_generated) {
n.generate(this, s.prototype.__jx__fqname, s.__jx__jcss, null, s);
s.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.type || (_.type = "button");
a.call(this, t, e, i, r, _);
d.mobile(this);
d.rtl(this);
var c = this;
if (r && 1 == r.length && ("string" == typeof r[0] || r[0].bind)) {
if (o && o.onLanguage) {
o.onLanguage(u);
this.onDestruction(function() {
o.unLanguage(u);
});
}
this.autobind(l.root.$("livechat").$("ui").$("theme_loaded$bool"), "value", function(t) {
t && c.fixOverflowTitle();
});
}
};
s.__jx__jcss = {
"**self": {
appearance: "none",
width: "48%",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap",
color: "$$buttonColor",
background: "$$buttonBg",
"paddingTop, paddingBottom": "$$buttonPadding",
"paddingLeft, paddingRight": "$$buttonPaddingHorizontal",
borderWidth: "$$buttonBorderWidth",
borderStyle: "$$buttonBorderStyle",
borderColor: "$$buttonBorderColor",
borderRadius: "$$buttonRadius",
boxShadow: "$$buttonShadow",
fontWeight: "$$buttonFontWeight",
wordWrap: "normal",
"*overflow": "visible",
cursor: "pointer",
"&:hover, &:focus": {
color: "$$buttonHoverColor",
background: "$$buttonHoverBg",
borderColor: "$$buttonHoverBorderColor",
boxShadow: "$$buttonHoverShadow"
},
"&:active": {
color: "$$buttonActiveColor",
background: "$$buttonActiveBg",
borderColor: "$$buttonActiveBorderColor",
boxShadow: "$$buttonActiveShadow"
}
},
"&.secondary": {
color: "$$buttonSecColor",
background: "$$buttonSecBg",
borderColor: "$$buttonSecBorderColor",
boxShadow: "$$buttonSecShadow",
"&:hover, &:focus": {
color: "$$buttonSecHoverColor",
background: "$$buttonSecHoverBg",
borderColor: "$$buttonSecHoverBorderColor",
boxShadow: "$$buttonSecHoverShadow"
},
"&:active": {
color: "$$buttonSecActiveColor",
background: "$$buttonSecActiveBg",
borderColor: "$$buttonSecActiveBorderColor",
boxShadow: "$$buttonSecActiveShadow"
}
},
"&.disabled": {
opacity: "0.5",
cursor: "default",
"&:hover, &:focus": {
color: "$$buttonColor",
background: "$$buttonBg",
borderColor: "$$buttonBorderColor",
boxShadow: "$$buttonShadow"
}
},
"&.fit": {
width: "auto",
"paddingLeft, paddingRight": "$$buttonPadding"
},
"&.wide": {
width: "100%"
},
"&.short": {
"paddingTop, paddingBottom": "$$buttonShortPadding"
},
"&.short.mobile": {
"paddingTop, paddingBottom": "$$buttonPadding"
},
"&.short.mobile.short_mobile": {
"paddingTop, paddingBottom": "$$buttonShortPadding"
}
};
s.prototype = r(a.prototype);
var u = [ "fontFamily", "fontSize", "fontWeight", "fontStyle" ];
s.prototype.fixOverflowTitle = function() {
if ("en" != o.language) {
s.dummy || (s.dummy = new _(this.doc.body, null, null, null, {
position: "absolute",
visibility: "hidden"
}));
var t = this.getText(), e = this.getComputedStyle();
if (e) {
for (var i = 0, n = u.length; i < n; i++) s.dummy.style[u[i]] = e[u[i]];
s.dummy.setText(t);
var r = s.dummy.getWidth(), a = parseInt(e.width, 10) || 0 - (parseInt(e.paddingLeft, 10) || 0) - (parseInt(e.paddingRight, 10) || 0) - (parseInt(e.borderLeftWidth, 10) || 0) - (parseInt(e.borderRightWidth, 10) || 0);
this.setTitle(r > 0 && a > 0 && r > a ? t : "");
}
} else this.setTitle("");
};
s.prototype.__jx__super = a;
t.exports = s;
e(s, "meshim_widget_widgets_Button");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
if (window.$zopim && window.$zopim.s) return window.$zopim.s.src;
for (var t, e = document.getElementsByTagName("script"), i = /.*zopim.(com|net|org)\//, n = 0, o = e.length; n < o; n++) {
t = e[n].src || "";
if (i.test(t)) return t;
}
return "";
}
function o(t) {
t && !p.test(t) && (t = null);
var e = "id." + (d.brandDomain || "zopim.com");
return "https://" + (t || e) + "/authenticated/web/jwt";
}
var r = i(26), s = i(46), a = i(8), _ = i(179), l = i(59), d = function() {
for (var t = n(), e = [ /\/?[?]/, /\/livechat\// ], i = [], o = 0; o < e.length; o++) {
i = t.split(e[o]);
if (i.length) break;
}
var r = i[1], s = i[0], a = /^(https?:)?\/\/[^\/]+/.exec(s), _ = s.replace(/^(https?:)?\/\//i, "").split("/")[0], l = _.replace(/(.+\.)(?=.+\..+)/, ""), d = i[0].split("/");
d = d.pop() == _ ? i[0] : d.join("/");
a = a && "zopim.com" !== _ ? a[0] : "https://v2.zopim.com";
return {
accountKey: r,
brandDomain: l,
baseURL: d,
rootURL: a
};
}(), u = "https://v2.zopim.com/widget", c = u + "/images", h = _.map([ ".zopim.com", ".zopim.org", ".zdch.at" ], l.escape), p = new RegExp("^[a-z][a-z0-9_-]*(\\.[a-z][a-z0-9_-]*)*(" + h.join("|") + ")(:\\d+)?$", "i");
r(s.baseURL, !0) && (s.baseURL = a.secureURL(d.baseURL));
var f = {
ASSETS_URL: u,
IMAGES_URL: c,
SOUNDS_URL: "https://v2.zopim.com/widget/sounds",
FONTS_URL: "https://v2.zopim.com/widget/fonts",
ASSETS_LEGACY: document.location.protocol + "//cdn.zopim.com/assets",
BRANDING_URL: "https://www.zopim.com",
AVATARS: {
CONCIERGE: c + "/avatar_simple_agent.png",
AGENT: c + "/avatar_simple_agent.png",
VISITOR: c + "/avatar_simple_visitor.png",
DEFAULT: c + "/avatar_simple_visitor.png"
},
ACCOUNT_KEY: d.accountKey,
BRAND_DOMAIN: d.brandDomain,
COUNTRY_CODE: function() {
var t = 'KR'.toUpperCase();
"<" == t.charAt(0) && (t = "geo");
return t;
}(),
AUTH_URL: "https://www.zopim.com/auth/$NAME/$KEY-$MID",
AUTH_LOGOUT_URL: "https://www.zopim.com/auth/logout/$KEY-$MID",
AUTH_SERVER_URL: o(),
IS_POPOUT: window.$zopim_popout,
POPOUT_WINDOW_PREFIX: "zlivechatpopout_",
POPOUT_URL: d.rootURL + "/widget/livechat.html",
CALLBACK_FILE_UPLOAD_PATH: "/client/widget/upload",
FILE_UPLOAD_PATH: "/client/widget/uploads",
FILE_UPLOAD_MAX: 20971520,
RESEND_MSG_TIMEOUT: 5e3,
FILE_REPLACE_SOURCE: /^(\s*https?\:\/\/v2(?:assets|uploads)\.zopim\.)com(\/)/i,
FILE_REPLACE_RESULT: "$1io$2",
CHAT_LOG_REMEMBER_COUNT: 10,
getAuthServerURL: o
};
t.exports = f;
e(f, "meshim_widget_Config");
return f;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "label");
r.call(this, t, e, i, o, s);
null == s.selectable && this.setSelectable(!1);
}
var o = i(1), r = i(6);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_Label");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return "function" == typeof t;
}
t.exports = i;
e(i, "jx_core_globals_isFunction");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return "string" == typeof t;
}
t.exports = i;
e(i, "jx_core_globals_isString");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return "[object Array]" == Object.prototype.toString.call(t);
}
t.exports = i;
e(i, "jx_core_globals_isArray");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
return _(t) && "%" == t.substr(t.length - 1) ? parseInt(t, 10) + "%" : parseInt(t, 10);
}
function o() {
if (!o.alreadyHacked) {
o.alreadyHacked = 1;
if (a.isStrict) {
document.body.parentNode.style.background = "#fff url(https://) fixed";
document.body.className = document.body.className;
} else if ("fixed" != document.body.currentStyle.backgroundAttachment) {
if ("none" != document.body.currentStyle.backgroundImage) {
var t, e, i = document.createElement("div"), n = i.style, r = document.body.currentStyle, s = !1, _ = 0;
n.backgroundAttachment = r.backgroundAttachment;
n.backgroundColor = r.backgroundColor;
n.backgroundImage = r.backgroundImage;
n.backgroundPositionX = r.backgroundPositionX;
n.backgroundPositionY = r.backgroundPositionY;
n.backgroundRepeat = r.backgroundRepeat;
n.position = "absolute";
n.zIndex = -1;
n.top = n.left = 0;
n.width = "100%";
document.body.insertBefore(i, document.body.firstChild);
var l = function() {
if (!s && _) {
t += document.body.clientWidth - _;
n.width = t + "px";
_ = document.body.clientWidth;
}
e || (e = setTimeout(function() {
n.width = 0;
document.body.className = document.body.className;
t = Math.max(document.body.scrollWidth, document.body.clientWidth);
n.width = t + "px";
_ = document.body.clientWidth;
s = document.body.scrollWidth > document.body.clientWidth;
e = null;
}, 0));
};
setTimeout(l, 0);
n.setExpression("height", 'document.body.scrollHeight+"px"');
l();
}
document.body.style.backgroundImage = "url(https://)";
document.body.style.backgroundAttachment = "fixed";
}
}
}
function r(t) {
for (;t.defaultPlacement; ) t = t.defaultPlacement;
return t;
}
function s(t, e, i, n, o) {
if (!(this instanceof s)) return new s(t, e, i, n, o);
if (t) {
o || (o = {});
this.jx_id = e = e || l.generateID();
this._top = this._bottom = this._left = this._right = this._width = this._height = NaN;
this._position = null;
this.pos = "";
this.offsetx = 0;
this.offsety = 0;
this._snaps = [ 0, 0, 0, 0 ];
this.useDisplay = !1;
this.doc = this.ownerDocument = t.ownerDocument;
this.parentNode = t;
this.attributes = o;
this.tagName = o.tagName;
this.isNew = !0;
this.dom = this.doc.createElement(this.tagName);
this.dom.jx_wrapper = this;
this.style = this.dom.style;
this.children = [];
this._autobinds = [];
w.call(this);
n && this.addChildren(n);
t.appendChild(t instanceof s ? this : this.dom);
this.setStyle(i);
this.setAttributes(o);
this.__jx__fqname && this.addClass(this.__jx__fqname);
e && l.set(e, this);
}
}
var a = i(8), _ = i(21), l = i(3), d = i(1), u = i(22), c = i(24), h = i(7), p = i(16), f = i(94), g = i(28), m = i(12), $ = i(26), b = i(186).toCamelCase, w = i(185);
a.isIE && document.execCommand("BackgroundImageCache", !1, !0);
var x = "background background-position border border-color border-style border-width color border-top border-right border-bottom border-left clear padding margin margin-top margin-right margin-bottom margin-left display line-height letter-spacing visibility outline overflow overflow-x overflow-y font-family font-size font-weight font-style text-align text-decoration text-transform vertical-align z-index cursor min-height min-width max-height max-width".split(" "), v = "title checked href media name src target dir data-test-id".split(" "), y = a.bugs.ie.cssFixed;
s.prototype = d(w.prototype);
s.prototype.addChildren = function(t) {
var e = t && t.length;
if (t && e) for (var i, n, o = r(this), s = o.ownerDocument, a = 0; a < e; a++) {
i = t[a];
if (u(i)) o.appendChild(i); else {
n = s.createTextNode(i);
o.appendChild(n);
"function" == typeof i.bind && i.bind(n);
}
}
};
s.prototype.appendChild = function(t) {
if (u(t)) return t[0](this, t[1], t[2], t[3], t[4]);
-1 == c(t, this.children) && 3 != t.nodeType && this.children.push(t);
t.parentNode && t.parentNode != this && t.parentNode.removeChild(t.parentNode instanceof s ? t : t.dom || t);
t.dom && (t.parentNode = this);
this.dom.appendChild(t.dom || t);
return t;
};
s.prototype.removeChild = function(t) {
try {
if (t.dom) {
this.dom.removeChild(t.dom);
t.parentNode = null;
} else this.dom.removeChild(t);
var e = c(t, this.children);
if (-1 != e) return this.children.splice(e, 1);
} catch (t) {}
};
s.prototype.insertBefore = function(t, e) {
var i = c(e, this.children);
e && -1 == i && (e = null);
if (t.parentNode) {
var n = c(t, this.children);
if (-1 != n) {
this.children.splice(n, 1);
i > n && i--;
} else t.parentNode.removeChild(t);
}
t.dom && (t.parentNode = this);
e ? this.children.splice(i, 0, t) : this.children.push(t);
this.dom.insertBefore(t.dom || t, e ? e.dom || e : null);
};
s.prototype.insertAfter = function(t, e) {
this.insertBefore(t, e && e.getNextSibling());
};
s.prototype.prependTo = function() {};
s.prototype.cloneNode = function(t) {
return this.dom.cloneNode(t);
};
s.prototype.getNextSibling = function() {
return this.dom.nextSibling && this.dom.nextSibling.jx_wrapper;
};
s.prototype.getPreviousSibling = function() {
return this.dom.previousSibling && this.dom.previousSibling.jx_wrapper;
};
s.prototype.getFirstChild = function() {
return this.dom.firstChild && this.dom.firstChild.jx_wrapper;
};
s.prototype.getLastChild = function() {
return this.dom.lastChild && this.dom.lastChild.jx_wrapper;
};
var j = a.isTextContent;
s.prototype.getText = function() {
return this.dom.textContent || this.dom.innerText || "";
};
s.prototype.setText = function(t) {
if (this.dom) {
h && h.unbind && h.unbind(this.dom);
t && "function" == typeof t.bind && t.bind(this.dom);
j ? this.dom.textContent = t : this.dom.innerText = t;
return this;
}
};
s.prototype.getHTML = function() {
return this.dom.innerHTML;
};
s.prototype.setHTML = function(t) {
this.dom.innerHTML = t;
return this;
};
s.prototype.destroy = function() {
if (this._destructors) for (var t = this._destructors, e = t.length, i = 0; i < e; i++) t[i].call(this);
this._autobinds && this.autounbind();
this.dom.jx_wrapper = null;
"function" == typeof this.empty && this.empty();
this.parentNode && this.parentNode.removeChild(this.parentNode instanceof s ? this : this.dom);
this.parentNode = null;
l.unset(this);
};
s.prototype.empty = function() {
for (var t; this.children.length; ) {
t = this.children.pop();
"function" == typeof t.destroy ? t.destroy() : 1 == t.nodeType && l.proto.destroy.call(t);
}
};
s.prototype.onDestruction = function(t) {
(this._destructors || (this._destructors = [])).push(t);
};
s.prototype.getClassName = s.prototype.getClass = function() {
return this.dom.className;
};
s.prototype.setClassName = s.prototype.setClass = function(t, e) {
this.dom.className = (e ? t : this.__jx__fqname + " " + t) + (this._pseudo ? " " + this._pseudo : "");
return this;
};
s.prototype.setAddClass = s.prototype.addClass = function(t) {
if (!t) return this;
this.dom.className ? this.hasClass(t) || (this.dom.className += " " + t) : this.dom.className = t;
return this;
};
s.prototype.removeClass = function(t) {
if (!t || !this.dom.className || !this.hasClass(t)) return this;
this.dom.className = (" " + this.dom.className + " ").replace(" " + t + " ", " ").slice(1, -1);
return this;
};
s.prototype.hasClass = function(t) {
return !!t && !!this.dom.className && -1 != (" " + this.dom.className + " ").indexOf(" " + t + " ");
};
s.prototype.autobind = function(t, e, i) {
if (this._autobinds) {
this._autobinds.push([ t, e, i ]);
t.on(e, i);
}
};
s.prototype.autounbind = function(t, e, i) {
if (this._autobinds) {
var n, o, r = this._autobinds;
if (t && e && i) for (n = r.length - 1; n >= 0; n--) {
o = r[n];
if (o[0] == t && o[1] == e && o[2] == i) {
r.splice(n, 1);
o[0].un(o[1], o[2]);
return;
}
} else if (t || e || i) ; else {
if (!r) return;
for (n = r.length - 1; n >= 0; n--) {
o = r[n];
o[0].un(o[1], o[2]);
}
delete this._autobinds;
}
}
};
s.prototype.getAttribute = function(t) {
return this.dom.getAttribute(t) || this.dom[t];
};
s.prototype.setAttribute = function(t, e) {
this.dom.setAttribute(t, e);
return this;
};
s.prototype.removeAttribute = function(t) {
this.dom.removeAttribute(t);
return this;
};
s.prototype.setAttributes = function(t) {
var e, i;
for (i in t) if (t.hasOwnProperty(i)) {
e = b("set-" + i);
"function" == typeof this[e] && this[e](t[i]);
}
return this;
};
s.prototype.getStyle = function(t) {
return this.dom.style[b(t)];
};
s.prototype.getComputedStyle = function(t) {
t = t && b(t);
var e;
if (window.getComputedStyle) e = window.getComputedStyle(this.dom, null); else {
if (!this.dom.currentStyle) return;
e = this.dom.currentStyle;
}
return t ? e[t] : e;
};
s.prototype.setStyle = function(t) {
var e, i;
if (1 == arguments.length && _(t)) {
if (!t) return this;
t = t.split(";");
for (e = 0; e < t.length; e++) if (!t[e].match(/^\s*$/)) {
i = t[e].match(/\s*([^:]+):\s*(.*?)\s*$/);
!i && t[e].length || this.setOneStyle(i[1], i[2]);
}
} else if (1 == arguments.length && "object" == typeof t) for (var n in t) t.hasOwnProperty(n) && this.setOneStyle(n, t[n]); else if (arguments.length > 1) for (e = 0; e < arguments.length; e += 2) this.setOneStyle(arguments[e], arguments[e + 1]);
return this;
};
s.prototype.setOneStyle = function(t, e) {
var i = b("set-" + t);
"function" == typeof this[i] ? this[i](e) : this.setCSSStyle(t, e);
return this;
};
s.prototype.setCSSStyle = function(t, e) {
try {
this.dom.style[b(t)] = e;
} catch (t) {}
return this;
};
s.prototype.getScrollWidth = function() {
return this.dom.scrollWidth;
};
s.prototype.getScrollHeight = function() {
return this.dom.scrollHeight;
};
s.prototype.getClientWidth = function() {
return this.dom.clientWidth;
};
s.prototype.getClientHeight = function() {
return this.dom.clientHeight;
};
s.prototype.getTop = function() {
return this.dom.offsetTop;
};
s.prototype.getLeft = function() {
return this.dom.offsetLeft;
};
s.prototype.getWidth = function() {
return this.dom.offsetWidth;
};
s.prototype.getHeight = function() {
return this.dom.offsetHeight;
};
s.prototype.setTop = function(t) {
this._top = n(t);
this.solveConstraints();
return this;
};
s.prototype.setLeft = function(t) {
this._left = n(t);
this.solveConstraints();
return this;
};
s.prototype.setBottom = function(t) {
this._bottom = n(t);
this.solveConstraints();
return this;
};
s.prototype.setRight = function(t) {
this._right = n(t);
this.solveConstraints();
return this;
};
s.prototype.setWidth = function(t) {
this._width = n(t);
this.solveConstraints();
return this;
};
s.prototype.setHeight = function(t) {
this._height = n(t);
this.solveConstraints();
return this;
};
s.prototype.getScrollLeft = function() {
return this.dom.scrollLeft;
};
s.prototype.setScrollLeft = function(t) {
this.dom.scrollLeft = t;
return this;
};
s.prototype.getScrollTop = function() {
return this.dom.scrollTop;
};
s.prototype.setScrollTop = function(t) {
this.dom.scrollTop = t;
return this;
};
s.prototype.setFloat = function(t) {
function e() {
var e = h && h.flip ? h.flip(t) : t;
a.isIE ? i.dom.style.styleFloat = e : i.dom.style.cssFloat = e;
}
var i = this;
if (h && h.onLanguage && !this._onLanguageFloat) {
h.onLanguage && h.onLanguage(e);
this.onDestruction(function() {
h.unLanguage && h.unLanguage(e);
});
this._onLanguageFloat = !0;
}
e();
return this;
};
s.prototype.solveConstraints = function() {
isNaN(this._top) || isNaN(this._height) || (this._bottom = NaN);
isNaN(this._left) || isNaN(this._width) || (this._right = NaN);
this._width < 0 && (this._width = 0);
this._height < 0 && (this._height = 0);
this.applyConstraints();
};
s.prototype.applyConstraints = function() {
var t = this.dom.style, e = this;
if (l.hasParentNode(this.dom)) if (a.bugs.ie.cssFixed && "fixed" == this._position) p(function() {
e.dom && e.hackFixed();
}); else {
if (a.bugs.ie.cssBottomRight && (!isNaN(this._left) && !isNaN(this._right) || !isNaN(this._top) && !isNaN(this._bottom))) {
this.appendToParent && this.appendToParent(!0);
o();
var i, n, r = isNaN(this._left) ? "" : this._left, s = isNaN(this._right) ? "" : this._right, d = isNaN(this._width) ? "" : this._width, u = isNaN(this._top) ? "" : this._top, c = isNaN(this._bottom) ? "" : this._bottom, h = isNaN(this._height) ? "" : this._height, f = "BackCompat" == this.dom.ownerDocument.compatMode;
if ("fixed" == this._position && this.dom.ownerDocument == document) if (f) {
n = "document.body.clientHeight";
i = "document.body.clientWidth";
} else {
n = "document.documentElement.clientHeight";
i = "document.documentElement.clientWidth";
} else {
n = "this.offsetParent.clientHeight";
i = "this.offsetParent.clientWidth";
}
if (a.isIE6) {
if (!isNaN(this._left) && !isNaN(this._right)) {
s = "";
d = [ i, this._left, this._right ].join("-");
}
if (!isNaN(this._top) && !isNaN(this._bottom)) {
c = "";
h = [ n, this._top, this._bottom ].join(" - ");
}
}
var g = function(e, i) {
t[e] = "";
t.removeExpression(e);
"number" == typeof i ? t[e] = i + "px" : _(i) && "%" == i.substr(i.length - 1) ? t[e] = i : _(i) && i.length && t.setExpression(e, i);
};
g("left", r);
g("right", s);
g("width", d);
g("top", u);
g("bottom", c);
g("height", h);
}
!function() {
t.left = _(e._left) ? e._left : isNaN(e._left) ? "" : e._left + "px";
t.right = _(e._right) ? e._right : isNaN(e._right) ? "" : e._right + "px";
if (e._width != e.__width) {
t.width = _(e._width) ? e._width : isNaN(e._width) ? "" : e._width + "px";
e.__width = e._width;
}
}();
!function() {
t.top = _(e._top) ? e._top : isNaN(e._top) ? "" : e._top + "px";
t.bottom = _(e._bottom) ? e._bottom : isNaN(e._bottom) ? "" : e._bottom + "px";
if (e._height != e.__height) {
t.height = _(e._height) ? e._height : isNaN(e._height) ? "" : e._height + "px";
e.__height = e._height;
}
}();
}
};
s.prototype.hackFixed = function() {
var t = this.dom.style;
o();
this.appendToParent && this.appendToParent(!0);
this._bottom < 0 && (this._bottom = 0);
this._right < 0 && (this._right = 0);
f.ok(isNaN(this._left) != isNaN(this._right), "One and only one of left/right must be set");
f.ok(isNaN(this._top) != isNaN(this._bottom), "One and only one of top/bottom must be set");
f.ok(!isNaN(this._width), "Width must be set");
f.ok(!isNaN(this._height), "Height must be set");
f.ok(this.ownerDocument == document, "Fixed element must be top level element");
if (this._height != this.__height) {
t.height = this._height + "px";
this.__height = this._height;
}
if (this._width != this.__width) {
t.width = this._width + "px";
this.__width = this._width;
}
var e, i, n, r, s = this.getHeight(), l = this.getWidth();
if (a.isQuirks) {
r = "document.body.clientHeight";
n = "document.body.clientWidth";
e = "(dummye34cf6=document.body.scrollLeft)+";
i = "(dummye34cf6=document.body.scrollTop )+";
} else {
r = "document.documentElement.clientHeight";
n = "document.documentElement.clientWidth";
e = "(dummye34cf6=document.documentElement.scrollLeft)+";
i = "(dummye34cf6=document.documentElement.scrollTop )+";
}
isNaN(this._left) ? _(this._left) ? e += parseInt(this._left, 10) / 100 * (a.isQuirks ? document.body : document.documentElement).clientWidth : e += n + "-" + (l + this._right) : e += this._left;
isNaN(this._top) ? _(this._top) ? i += parseInt(this._top, 10) / 100 * (a.isQuirks ? document.body : document.documentElement).clientHeight : i += r + "-" + (s + this._bottom) : i += this._top;
a.isIE6 && "rtl" == document.body.currentStyle.direction && (a.isQuirks ? e += "-(document.body.scrollWidth-document.body.clientWidth)" : e += "-(document.documentElement.scrollWidth-document.documentElement.clientWidth)");
t.setExpression("left", e + '+"px"');
t.setExpression("top", i + '+"px"');
};
s.prototype.dock = function(t, e, i) {
this.pos = t;
g(e) && (this.offsetx = e);
g(i) && (this.offsety = i);
this.doDock();
this.on("jx:resize", this.doDock);
};
s.prototype.doDock = function() {
var t, e, i, n, o, r, s, a = isNaN(this._width) ? this.dom.offsetWidth : this._width, _ = isNaN(this._height) ? this.dom.offsetHeight : this._height;
t = e = i = n = NaN;
o = r = s = 0;
switch (this.pos.charAt(0)) {
case "t":
t = 0;
break;

case "m":
t = "50%";
break;

case "b":
e = 0;
}
switch (this.pos.charAt(1)) {
case "l":
i = 0;
break;

case "c":
i = "50%";
break;

case "r":
n = 0;
}
"50%" == t && (o = -_ / 2);
"50%" == i && (r = -a / 2);
this.offsety >= 0 || !isNaN(t) || "string" == typeof t ? o += this.offsety : s = -this.offsety;
r += this.offsetx;
this.setMargin([ o + "px", 0, s + "px", r + "px" ].join(" ")).setTop(t).setBottom(e).setLeft(i).setRight(n);
};
s.prototype.setBounds = function(t) {
if (!u(t)) {
t = t.split(" ");
t[0] = parseInt(t[0], 10);
t[1] = parseInt(t[1], 10);
t[2] = parseInt(t[2], 10);
t[3] = parseInt(t[3], 10);
}
if (y) {
t[1] = Math.max(0, t[1]);
t[2] = Math.max(0, t[2]);
}
this._bounds = t;
return this;
};
s.prototype.setSnaps = function(t) {
if (!u(t)) {
t = t.split(" ");
t[0] = parseInt(t[0], 10);
t[1] = parseInt(t[1], 10);
t[2] = parseInt(t[2], 10);
t[3] = parseInt(t[3], 10);
}
this._snaps = [ Math.max(0, t[0]), Math.max(0, t[1]), Math.max(0, t[2]), Math.max(0, t[3]) ];
return this;
};
s.prototype.applyBounds = function() {
if (this._bounds) {
this._left < this._bounds[3] + this._snaps[3] && (this._left = this._bounds[3]);
this._right < this._bounds[1] + this._snaps[1] && (this._right = this._bounds[1]);
this._top < this._bounds[0] + this._snaps[0] && (this._top = this._bounds[0]);
this._bottom < this._bounds[2] + this._snaps[2] && (this._bottom = this._bounds[2]);
var t = a.isQuirks ? document.body : document.documentElement, e = isNaN(this._width) ? this.dom.offsetWidth : this._width, i = t.clientWidth - e, n = t.clientHeight - this.dom.offsetHeight;
i - this._left <= this._bounds[1] + this._snaps[1] && (this._left = i - this._bounds[1]);
i - this._right <= this._bounds[3] + this._snaps[3] && (this._right = i - this._bounds[3]);
n - this._top <= this._bounds[2] + this._snaps[2] && (this._top = n - this._bounds[2]);
n - this._bottom <= this._bounds[0] + this._snaps[0] && (this._bottom = n - this._bounds[0]);
}
};
s.prototype.moveTo = function(t, e) {
this._bottom = this._right = NaN;
this._top = e;
this._left = t;
this.applyBounds();
this.applyConstraints();
return this;
};
s.prototype.move = function(t, e) {
isNaN(this._left) && isNaN(this._right) && (this._left = 0);
isNaN(this._top) && isNaN(this._bottom) && (this._top = 0);
isNaN(this._left) || (this._left += t);
isNaN(this._right) || (this._right -= t);
isNaN(this._top) || (this._top += e);
isNaN(this._bottom) || (this._bottom -= e);
this.applyBounds();
this.applyConstraints();
};
s.prototype.resizeBy = function(t, e, i, n) {
if (t) {
isNaN(this._width) && (this._width = this.dom.offsetWidth);
this._width = Math.max(i || 0, this._width + t);
}
if (e) {
isNaN(this._height) && (this._height = this.dom.offsetHeight);
this._height = Math.max(n || 0, this._height + e);
}
this.applyBounds();
this.applyConstraints();
this.fire("jx:resize");
return this;
};
s.prototype.setVisible = function(t) {
"none" != t && "block" != t || (this.useDisplay = !0);
"none" != t && "hidden" != t && "false" != t && t ? this.show() : this.hide();
return this;
};
s.prototype.isVisible = function() {
var t = this.dom.style;
return this.useDisplay ? "none" != t.display : "visible" == t.visibility;
};
s.prototype.show = function() {
var t = this.dom.style;
if (this.useDisplay) {
if (t.display != (this._initialDisplay || "block")) {
t.display = this._initialDisplay || "block";
this.fire("show");
}
} else if ("visible" != t.visibility) {
t.visibility = "visible";
this.fire("show");
}
return this;
};
s.prototype.hide = function() {
var t = this.dom.style;
if (this.useDisplay) {
if ("none" != t.display) {
this._initialDisplay = "none" != t.display && t.display;
t.display = "none";
this.fire("hide");
}
} else if ("hidden" != t.visibility) {
t.visibility = "hidden";
this.fire("hide");
}
return this;
};
s.prototype.toggle = function() {
return this.isVisible() ? this.hide() : this.show();
};
s.prototype.getXY = function() {
var t, e, i = this.dom.offsetParent;
t = this.dom.offsetLeft;
e = this.dom.offsetTop;
for (;i; ) {
t += i.offsetLeft;
e += i.offsetTop;
i = i.offsetParent;
}
return [ t, e ];
};
s.prototype.getFixedXY = function() {
var t, e, i = this.dom, n = this.dom.ownerDocument, o = n.documentElement, r = n.defaultView || i.parentWindow || !1, s = {
top: 0,
left: 0
}, a = o.clientTop || 0, _ = o.clientLeft || 0, l = r.pageYOffset || o.scrollTop, d = r.pageXOffset || o.scrollLeft;
"getBoundingClientRect" in i && (s = i.getBoundingClientRect());
e = s.top + l - a;
t = s.left + d - _;
return [ t, e ];
};
s.prototype.setOpacity = function(t) {
t = Math.max(Math.min(t, 1), 0);
a.isIE < 9 ? this.dom.style.filter = (this.dom.style.filter || "").replace(/progid:DXImageTransform.Microsoft.Alpha\([^\)]*\),? ?/gi, "") + (t >= 1 ? "" : "progid:DXImageTransform.Microsoft.Alpha(opacity=" + 100 * t + "), ") : this.dom.style.opacity = t;
return this;
};
s.prototype.setPosition = function(t) {
switch (t) {
case "static":
case "relative":
case "absolute":
case "fixed":
this._position = t;
}
null !== this._position && this.setCSSStyle("position", y && "fixed" == this._position ? "absolute" : this._position);
return this;
};
s.prototype.setBackgroundImage = function(t) {
this.dom.style.backgroundImage = 'url("' + t + '")';
return this;
};
s.prototype.setRotation = function(t) {
if (a.isFF) this.dom.style.MozTransform = t ? "rotate(" + t + "deg)" : ""; else if (a.isSafari) this.dom.style.WebkitTransform = t ? "rotate(" + t + "deg)" : ""; else if (a.isIE) {
this.dom.style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
if (a.isIE8 && t) {
var e = this.parentNode.getElementsByTagName("iframe");
if (a.isIE8 && e.length) {
e[0].style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
this.dom.style.overflow = "visible";
}
}
}
return this;
};
s.prototype.appendToParent = function(t) {
l.hasParentNode(this.dom) || this.parentNode.appendChild(this.parentNode instanceof s ? this : this.dom);
this.parentNode != document.body || "absolute" != this.style.position && "fixed" != this.style.position || this.parentNode.insertBefore(this.dom, this.parentNode.firstChild);
if (t && !this.inDOM) {
this.parentNode.appendToParent && this.parentNode.appendToParent(t);
this.inDOM = !0;
}
};
s.prototype.focus = function() {
try {
this.dom.focus();
} catch (t) {}
return this;
};
s.prototype.blur = function() {
try {
this.dom.blur();
} catch (t) {}
return this;
};
s.prototype.click = function() {
this.dom.click && this.dom.click();
return this;
};
s.prototype.validate = function(t) {
for (var e = !0, i = 0, n = this.children.length; i < n; i++) {
var o = this.children[i];
o instanceof s && "function" == typeof o.validate && (o.validate(!!t && e) || (e = !1));
}
return e;
};
s.prototype.getSelectable = function() {
return this.selectable;
};
s.prototype.setSelectable = function(t) {
function e() {
return !1;
}
if (m(t)) {
this.selectable = !0;
this.setStyle("user-select", "text");
a.isFF && this.setStyle("-moz-user-select", "text");
a.isWebKit && this.setStyle("-webkit-user-select", "text");
a.isIE > 9 && this.setStyle("-ms-user-select", "text");
(a.isIE < 10 || a.isOpera) && this.un("selectstart", e);
} else {
this.selectable = !1;
this.setStyle("user-select", "none");
a.isFF && this.setStyle("-moz-user-select", "none");
a.isWebKit && this.setStyle("-webkit-user-select", "none");
a.isIE > 9 && this.setStyle("-ms-user-select", "none");
(a.isIE < 10 || a.isOpera) && this.on("selectstart", e);
}
return this;
};
s.prototype.getDisabled = function() {
return this.dom.disabled;
};
s.prototype.setDisabled = function(t) {
t = m(t);
for (var e = 0, i = this.children.length; e < i; e++) this.children[e] instanceof s && this.children[e].setDisabled(t);
this[t ? "addClass" : "removeClass"]("disabled");
this.dom.disabled = t;
return this;
};
s.prototype.getReadOnly = function() {
return this.dom.readOnly;
};
s.prototype.setReadOnly = function(t) {
t = m(t);
for (var e = 0, i = this.children.length; e < i; e++) this.children[e] instanceof s && this.children[e].setReadOnly(t);
this.dom.readOnly = t;
return this;
};
s.prototype.getValue = function() {
return this.dom.value;
};
s.prototype.setValue = function(t) {
this.dom.value = $(t, "allowNull") ? "" : t;
return this;
};
s.prototype.getType = function() {
return this.getAttribute("type");
};
s.prototype.setType = function(t) {
try {
this.dom.setAttribute("type", t);
} catch (t) {}
return this;
};
s.prototype.getName = function() {
return this.getAttribute("name");
};
s.prototype.setName = function(t) {
return this.setAttribute("name", t);
};
s.prototype.getTabIndex = s.prototype.getTabindex = function() {
try {
return this.dom.tabIndex;
} catch (t) {}
};
s.prototype.setTabIndex = s.prototype.setTabindex = function(t) {
try {
this.dom.tabIndex = t;
} catch (t) {}
return this;
};
s.prototype.setPlacement = function(t) {
if (t && this.parentNode && this.parentNode instanceof s) {
var e = this.parentNode.getContainer(t);
if (e) {
if (!m(this.attributes.discardPlacement)) {
e.appendChild(e instanceof s ? this : this.dom);
return this;
}
for (;this.children.length; ) e.appendChild(this.children[0]);
this.destroy();
}
}
};
s.prototype.setContainer = function(t) {
this.attributes.container = t;
return this;
};
s.prototype.getContainer = function(t) {
if (t) {
if (this.attributes.container == t) return this;
for (var e, i = this.children.length, n = 0; n < i; n++) if ("function" == typeof this.children[n].getContainer) {
e = this.children[n].getContainer(t);
if (e) return e;
}
}
};
s.prototype.getPseudo = function() {
return this._pseudo;
};
s.prototype.setPseudo = function(t) {
this._pseudo && this.removeClass(t);
this._pseudo = t;
this._pseudo && this.addClass(t);
return this;
};
s.prototype.setUseDisplay = function(t) {
this.useDisplay = m(t);
return this;
};
s.prototype.getElement = function(t) {
return l.get(this.jx_id + "__" + t);
};
s.prototype.setLabel = function(t) {
this.label = t;
return this;
};
s.prototype.getLabel = function() {
return this.label || "";
};
for (var C = 0; C < x.length; C++) s.prototype[b("set-" + x[C])] = function(t) {
return function(e) {
try {
this.dom.style[t] = e;
} catch (t) {}
return this;
};
}(b(x[C]));
for (C = 0; C < v.length; C++) s.prototype[b("set-" + v[C])] = function(t) {
return function(e) {
this.dom.setAttribute(t, e);
return this;
};
}(v[C]);
s.__jx__no_fqname = !0;
t.exports = s;
e(s, "jx_ui_HTMLElement");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
"use strict";
if (null == this) throw new TypeError();
var e = Object(this), i = e.length >>> 0;
if (0 === i) return -1;
var n = 0;
if (arguments.length > 0) {
n = Number(arguments[1]);
n != n ? n = 0 : 0 != n && n != 1 / 0 && n != -1 / 0 && (n = (n > 0 || -1) * Math.floor(Math.abs(n)));
}
if (n >= i) return -1;
for (var o = n >= 0 ? n : Math.max(i - Math.abs(n), 0); o < i; o++) if (o in e && e[o] === t) return o;
return -1;
}
function n(t, e, i) {
return o.call(e, t, i);
}
var o = Array.prototype.indexOf;
"function" == typeof o && /\[native code\]/.test(o.toString()) || (o = i);
t.exports = n;
e(n, "jx_core_globals_indexOf");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
H("UIController init");
se.mobile && se.popout && ee();
te();
o();
_e.userShowBadgeOrWindow = h;
_e.userShowWindow = p;
_e.userHideWindow = f;
_e.userHideBanner = g;
_e.userHideBubble = m;
_e.userDismissMobileNotification = le;
_e.userReplyMobileNotification = $;
_e.showWindow = b;
_e.hideWindow = w;
_e.toggleWindow = x;
_e.showBanner = v;
_e.hideBanner = y;
_e.showButton = j;
_e.hideButton = C;
_e.showMobileNotification = T;
_e.hideMobileNotification = B;
_e.disableMobileNotifications = N;
_e.hideAll = S;
_e.showBubble = A;
_e.hideBubble = k;
_e.resetBubble = I;
_e.setWindowUserHidden = E;
_e.setBannerUserHidden = O;
_e.setBubbleUserHidden = P;
_e.resetBubbleUserHidden = L;
_e.setHideWhenOffline = W;
_e.mobileNotificationsIgnoreChatButtonVisibility = D;
_e.showMenu = R;
_e.showProfileMenu = F;
_e.getAPIState = M;
_e.resetState = U;
}
function o() {
nt = !1;
q = Zt.root;
G = q.$("livechat");
Y = G.$("settings");
X = Y.$("theme");
K = G.$("ui");
Z = K.$("chat_window");
Q = K.$("chat_button");
Et = G.$("profile").$("logged_in$bool");
Ot = G.$("profile").$("auth").$("type$string");
Pt = Y.$("login").$("allowed_types_count$int");
Lt = G.$("settings").$("login").$("restrict_profile$bool");
Nt = Z.$("menu_stack_name$string");
Dt = Z.$("profile_menu").$("index$int");
J = K.$("popout$bool");
tt = K.$("mobile$bool");
et = K.$("mockup$bool");
it = K.$("mobile_overlay$bool");
Ht = K.$("current_display$string");
Vt = K.$("previous_display$string");
V(J, "popout", function() {
l();
_();
});
V(tt, "mobile", function() {
l();
_();
});
V(it, "mobile_overlay", _);
V(et, "mockup");
pt = q.$("connection").$("message$string");
V(pt, "connection_message", _);
ft = q.$("connection").$("status$string");
V(ft, "connection_status", function() {
Gt(se.connection_status) && se.connection_status && (/disconnect|shutdown/.test(se.connection_status) || Jt.fromRefTime("conn_status_" + se.connection_status, .25));
r();
_();
});
gt = G.$("account").$("status$string");
V(gt, "account_status", function() {
l();
_();
});
mt = G.$("channel").$("chatting$bool");
It = K.$("chat_window").$("pre_chat_form").$("submitted$bool");
V(mt, "chatting", function() {
r();
_();
});
$t = G.$("channel").$("served$bool");
V($t, "chat_served", _);
bt = Y.$("behavior").$("do_not_display$bool");
wt = Y.$("banner").$("enabled$bool");
vt = Y.$("bubble").$("enabled$bool");
Ct = Y.$("chat_button").$("hide_when_offline$bool");
St = Z.$("user_hidden$bool");
At = Z.$("user_hidden_banner$bool");
kt = Z.$("user_hidden_bubble$bool");
xt = X.$("chat_window").$("use_banner$bool");
jt = Q.$("bubble").$("display$bool");
yt = X.$("chat_button").$("use_bubble$bool");
V(bt, "do_not_display", _);
V(wt, "banner_enabled", _);
V(vt, "bubble_enabled", _);
V(Ct, "hide_when_offline", _);
V(St, "chat_window_user_hidden", _);
V(At, "banner_user_hidden", _);
V(kt, "bubble_user_hidden", l);
V(xt, "use_banner", _);
V(jt, "bubble_display", l);
V(yt, "use_bubble", l);
Tt = G.$("settings").$("forms").$("pre_chat_form").$("required$bool");
Tt.bindValue(s);
It.bindValue(s);
Wt = Q.$("display$bool");
Rt = Z.$("display$bool");
Ft = Z.$("main_stack_name$string");
Mt = K.$("chat_notification").$("display$bool");
Wt.bindValue(a);
Rt.bindValue(a);
Ft.bindValue(a);
Mt.bindValue(a);
nt = !0;
}
function r() {
if (se.chatting && se.connection_status == oe.REATTACHED) {
H("UIController: setting pre_chat_form_submitted to true");
It.update(!0);
}
}
function s() {
var t = Tt.getValue(), e = It.getValue(), i = t && !e;
if (i != Bt) {
Bt = i;
_();
}
}
function a() {
var t, e, i = Wt.getValue(), n = Rt.getValue(), o = Ft.getValue(), r = Mt.getValue();
t = Yt(i) && Yt(n) && Yt(r) ? ie.UNDEFINED : n ? o == ne.NEW_CHAT_FORM ? ie.BANNER : ie.WINDOW : i ? ie.BUTTON : r ? ie.NOTIFICATION : ie.NONE;
e = o;
if (t != zt || e != Ut) {
zt = t;
Ut = e;
_();
}
}
function _() {
function t() {
if (Bt) {
z(e, "pre_chat_form_required");
u([ ne.PRE_CHAT_OFFLINE_FORM ]);
} else {
z(e, "!pre_chat_form_required");
u([ ne.CHAT_PANEL, ne.AGENT_LIST, ne.CARD_FORM, ne.POST_CHAT_FORM, ne.ABOUT_PANEL, ne.COOKIE_FORM ]);
}
}
if (nt) if (_t) H("UIController update: abort - display settings updating"); else if (st) H("UIController update: abort - api updating"); else if (at) H("UIController update: abort - user updating"); else if (ot) H("UIController update: abort - updating loop"); else {
ot = !0;
var e = [];
if (se.account_status == re.BANNED) {
z(e, re.BANNED);
if (se.popout) {
z(e, "popout");
d(ie.WINDOW);
u([ ne.PRE_CHAT_OFFLINE_FORM ]);
} else {
z(e, "!popout");
d(ie.UNDEFINED);
}
} else if (ae.api_display && ae.api_stack) z(e, "api_display && api_stack"); else if (!se.do_not_display || se.popout || ae.api_display || se.chatting || zt != ie.UNDEFINED) if (!se.mobile || se.mobile_overlay || se.popout) {
if (se.connection_status == oe.COOKIE_LAW) {
z(e, "cookie_law");
if (ae.api_display) z(e, "api_display"); else if (zt == ie.NONE) z(e, "none"); else if (se.popout) {
z(e, "popout");
d(ie.WINDOW);
} else {
z(e, "!popout");
if (zt == ie.UNDEFINED) {
z(e, "undefined");
d(ie.BUTTON);
} else z(e, "!undefined");
}
u([ ne.COOKIE_FORM ]);
} else if (se.connection_status == oe.REGISTERED || se.connection_status == oe.REATTACHED || se.connection_message == oe.FAST_INIT) {
z(e, "registered/reattached/fast_init");
if (se.chatting) {
z(e, "chatting");
if (ae.api_display) {
z(e, "api_display");
if (se.mobile_overlay && (zt === ie.BUTTON || ae.mobile_notifications_ignore_chat_button_visibility && zt !== ie.WINDOW) && ut) {
z(e, "overlay && (displaying button || ignoring chat button visibility && not displaying window) && has mobile notification");
d(ie.NOTIFICATION);
} else {
z(e, "!overlay || !displaying button && !(ignoring chat button visibility && not displaying window) || !has mobile notification");
if (zt !== ie.NOTIFICATION || ut) z(e, "!displaying notification || has mobile notification"); else {
z(e, "displaying notification && !has mobile notification");
d(ae.api_display);
}
}
} else {
z(e, "!api_display");
if (se.mobile_overlay) {
z(e, "overlay");
if (se.chat_window_user_hidden) {
z(e, "user hidden");
if (ut) {
z(e, "has mobile notification");
d(ie.NOTIFICATION);
} else {
z(e, "!has mobile notification");
d(ie.BUTTON);
}
} else {
z(e, "!user hidden");
if (dt) {
z(e, "user_shown_window_before");
d(ie.WINDOW);
} else {
z(e, "!user_shown_window_before");
if (ut) {
z(e, "has mobile notification");
d(ie.NOTIFICATION);
} else {
z(e, "!has mobile notification");
d(ie.BUTTON);
}
}
}
} else {
z(e, "!overlay");
if (se.chat_window_user_hidden) {
z(e, "user hidden");
if (se.popout) {
z(e, "popout");
d(ie.WINDOW);
} else {
z(e, "!popout");
if (zt == ie.UNDEFINED) {
z(e, "undefined");
d(ie.BUTTON);
} else z(e, "!undefined");
}
} else {
z(e, "!user hidden");
d(ie.WINDOW);
}
}
}
u(se.chat_served ? [ ne.CHAT_PANEL, ne.AGENT_LIST, ne.CARD_FORM, ne.ABOUT_PANEL, ne.RATING_PANEL, ne.COOKIE_FORM ] : [ ne.CHAT_PANEL, ne.AGENT_LIST, ne.CARD_FORM, ne.ABOUT_PANEL, ne.COOKIE_FORM ]);
} else if (se.account_status == re.ONLINE || se.account_status == re.AWAY) {
z(e, "online/away");
if (ae.api_display) {
z(e, "api_display");
t();
} else if (se.popout || zt == ie.WINDOW) {
z(e, "popout/window");
if (se.popout) {
z(e, "popout");
d(ie.WINDOW);
} else z(e, "window");
t();
} else if (zt == ie.NONE) z(e, "none"); else if (se.banner_enabled && se.use_banner) {
z(e, "show banner");
switch (zt) {
case ie.UNDEFINED:
z(e, "none");
if (se.banner_user_hidden) {
z(e, "user hidden");
d(ie.BUTTON);
} else {
z(e, "!user hidden");
d(ie.BANNER);
}
break;

case ie.BUTTON:
z(e, "button");
if (se.banner_user_hidden) z(e, "user hidden"); else {
z(e, "!user hidden");
d(ie.BANNER);
}
break;

case ie.BANNER:
z(e, "banner");
}
} else {
z(e, "!show banner");
if (zt === ie.BUTTON) z(e, "button"); else {
z(e, zt);
d(ie.BUTTON);
}
}
} else if (se.account_status == re.OFFLINE) {
z(e, re.OFFLINE);
if (ae.api_display) z(e, "api_display"); else if (se.popout) {
z(e, "popout");
d(ie.WINDOW);
} else if (zt == ie.NONE) z(e, "none"); else if (se.hide_when_offline) {
z(e, "hide when offline");
d(ie.UNDEFINED);
} else {
z(e, "!hide when offline");
if (zt == ie.WINDOW) z(e, "window"); else {
z(e, "!window");
d(ie.BUTTON);
}
}
u([ ne.PRE_CHAT_OFFLINE_FORM ]);
}
}
} else {
z(e, "mobile");
if (ae.api_display) z(e, "api_display"); else {
z(e, "!api_display");
if (zt == ie.NONE) z(e, "none"); else {
z(e, "!none");
if (se.do_not_display || se.account_status == re.OFFLINE && se.hide_when_offline) {
z(e, "do_not_display || (account_status == offline && hide_when_offline)");
if (se.chatting) {
z(e, "chatting");
d(ie.BUTTON);
} else {
z(e, "!chatting");
d(ie.UNDEFINED);
}
} else {
z(e, "!(do_not_display || (account_status == offline && hide_when_offline))");
d(ie.BUTTON);
}
}
}
} else z(e, "do not display, !popout, !api_display");
H("UIController update: " + (e.join(" > ") || "no path"));
ot = !1;
} else H("UIController update: abort - binding not complete");
}
function l() {
if (nt) if (lt) H("UIController Bubble update: abort - bubble settings updating"); else if (st) H("UIController Bubble update: abort - api updating"); else if (at) H("UIController Bubble update: abort - user updating"); else if (rt) H("UIController Bubble update: abort - updating loop"); else {
rt = !0;
var t = [];
if (se.mobile || se.popout) {
z(t, "mobile || popout");
c(!1);
} else {
z(t, "!mobile && !popout");
if (se.use_bubble) {
z(t, "use_bubble");
if (ae.api_bubble) z(t, "bubble_api"); else {
z(t, "!bubble_api");
if (se.bubble_enabled) {
z(t, "bubble_enabled");
if (se.account_status == re.ONLINE || se.account_status == re.AWAY) {
z(t, "online || away");
if (se.bubble_user_hidden) {
z(t, "user_hidden_bubble");
c(!1);
} else {
z(t, "!user_hidden_bubble");
if (Yt(se.bubble_display)) {
z(t, "undefined");
c(!0);
} else z(t, "!undefined");
}
} else {
z(t, re.OFFLINE);
c(void 0);
}
} else {
z(t, "!bubble_enabled");
c(!1);
}
}
} else {
z(t, "!use_bubble");
c(void 0);
}
}
H("UIController Bubble update: " + (t.join(" > ") || "no path"));
rt = !1;
} else H("UIController Bubble update: abort - binding not complete");
}
function d(t) {
H("UIController setDisplay: " + t);
ct = Rt.getValue();
_t = !0;
var e = Ht.getValue();
if (e !== t) {
Vt.update(e);
Ht.update(t);
}
switch (t) {
case ie.UNDEFINED:
Wt.update(void 0);
Rt.update(void 0);
Mt.update(void 0);
break;

case ie.NONE:
Wt.update(!1);
Rt.update(!1);
Mt.update(!1);
break;

case ie.BUTTON:
Wt.update(!0);
Rt.update(!1);
Mt.update(!1);
break;

case ie.BANNER:
if (Ft.getValue() != ne.NEW_CHAT_FORM) {
ht = Ft.getValue();
Ft.update(ne.NEW_CHAT_FORM);
}
Wt.update(!1);
Rt.update(!0);
Mt.update(!1);
break;

case ie.NOTIFICATION:
Wt.update(!1);
Rt.update(!1);
Mt.update(!0);
break;

case ie.WINDOW:
if (Ft.getValue() == ne.NEW_CHAT_FORM) {
u(ht ? [ ht ] : [ ne.PRE_CHAT_OFFLINE_FORM, ne.CHAT_PANEL, ne.POST_CHAT_FORM, ne.COOKIE_FORM, ne.CARD_FORM, ne.AGENT_LIST, ne.RATING_PANEL ]);
ht = null;
}
Wt.update(!1);
Mt.update(!1);
Rt.update(!0);
}
st || (ct && t != ie.WINDOW ? _e.fire("API:window:hide") : ct || t != ie.WINDOW || _e.fire("API:window:show"));
_t = !1;
}
function u(t) {
if (t && t.length) {
-1 == Xt(Ut, t) && Ft.update(t[0]);
}
}
function c(t) {
H("UIController setBubble: " + t);
lt = !0;
jt.update(t);
lt = !1;
}
function h() {
if (!se.mobile) {
at = !0;
var t = Ft.getValue();
d(se.banner_enabled && t == ne.NEW_CHAT_FORM && se.use_banner ? ie.BANNER : ie.WINDOW);
ae.api_display = !1;
ae.api_stack = !1;
at = !1;
_();
}
}
function p() {
if ((!se.mobile || se.mobile_overlay) && zt != ie.WINDOW) {
at = !0;
St.update(!1);
dt = !0;
d(ie.WINDOW);
ae.api_display = !1;
ae.api_stack = !1;
at = !1;
_();
}
}
function f() {
if ((!se.mobile || se.mobile_overlay) && zt != ie.BUTTON) {
at = !0;
_e.setWindowUserHidden();
d(se.do_not_display ? ie.NONE : ie.BUTTON);
ae.api_display = !1;
ae.api_stack = !1;
at = !1;
_();
}
}
function g() {
if (!se.mobile && zt != ie.BUTTON) {
at = !0;
_e.setBannerUserHidden();
d(se.do_not_display ? ie.NONE : ie.BUTTON);
ae.api_display = !1;
ae.api_stack = !1;
at = !1;
_();
}
}
function m() {
if (!se.mobile) {
at = !0;
_e.setBubbleUserHidden();
c(!1);
ae.api_bubble = !1;
at = !1;
l();
}
}
function $() {
ut = !1;
p();
}
function b() {
H("API update: showWindow");
if (se.mobile && !se.mobile_overlay) Qt.openPopout(!0); else {
st = !0;
ut && (ut = !1);
d(ie.WINDOW);
ae.api_display = ie.WINDOW;
st = !1;
_();
}
}
function w() {
if (!se.mobile || se.mobile_overlay) {
H("API update: hideWindow");
st = !0;
if (se.do_not_display) {
d(ie.NONE);
ae.api_display = ie.NONE;
} else {
d(ie.BUTTON);
ae.api_display = ie.BUTTON;
}
st = !1;
_();
}
}
function x() {
if (!se.mobile || se.mobile_overlay) {
H("API update: toggleWindow");
zt == ie.WINDOW ? _e.hideWindow() : _e.showWindow();
}
}
function v() {
if (!se.mobile && se.use_banner) {
H("API update: showBanner");
st = !0;
d(ie.BANNER);
ae.api_display = ie.BANNER;
ae.api_stack = ie.BANNER;
st = !1;
_();
}
}
function y() {
if (!se.mobile) {
H("API update: hideBanner");
st = !0;
if (se.do_not_display) {
d(ie.NONE);
ae.api_display = ie.NONE;
} else {
d(ie.BUTTON);
ae.api_display = ie.BUTTON;
}
ae.api_stack = !1;
st = !1;
_();
}
}
function j() {
H("API update: showButton");
st = !0;
d(ie.BUTTON);
ae.api_display = ie.BUTTON;
st = !1;
_();
}
function C() {
H("API update: hideButton");
st = !0;
if (se.mobile) {
ut && (ut = !1);
ae.api_display = ie.NONE;
d(ie.NONE);
} else {
ae.api_display = ie.WINDOW;
d(ie.WINDOW);
}
st = !1;
_();
}
function S() {
H("API update: hideAll");
st = !0;
d(ie.NONE);
ae.api_display = ie.NONE;
ut && (ut = !1);
st = !1;
_();
}
function A() {
if (!se.mobile) {
H("API update: showBubble");
st = !0;
c(!0);
ae.api_bubble = !0;
st = !1;
l();
}
}
function k() {
if (!se.mobile) {
H("API update: hideBubble");
st = !0;
c(!1);
ae.api_bubble = !0;
st = !1;
l();
}
}
function I() {
if (!se.mobile) {
H("API update: resetBubble");
st = !0;
_e.resetBubbleUserHidden();
c(!0);
ae.api_bubble = !0;
st = !1;
l();
}
}
function T() {
if ((zt === ie.BUTTON || ae.mobile_notifications_ignore_chat_button_visibility && zt !== ie.WINDOW) && !ae.disable_mobile_notifications) {
ut = !0;
_();
}
}
function B() {
ut = !1;
_();
}
function N(t) {
Yt(t) && (t = !0);
ae.disable_mobile_notifications = t;
}
function D(t) {
Yt(t) && (t = !0);
ae.mobile_notifications_ignore_chat_button_visibility = t;
}
function E() {
St.update(!0);
}
function O() {
At.update(!0);
}
function P() {
kt.update(!0);
}
function L() {
kt.update(!1);
}
function W(t) {
Ct.update(t);
}
function R(t) {
Nt.update(t);
}
function F() {
if (!Lt.getValue()) {
_e.showMenu("profile_menu");
Dt.update(Et.getValue() ? Ot.getValue() ? 1 : 2 : se.mobile ? 2 : Pt.getValue() ? 0 : 2);
}
}
function M() {
return ae;
}
function V(t, e, i) {
t && Kt(t.bindValue) && t.bindValue(function(t) {
if (se[e] != t) {
se[e] = t;
Kt(i) && i();
}
});
}
function H(t) {}
function z(t, e) {}
function U() {
dt = void 0;
ut = void 0;
ae = {
api_display: !1,
api_stack: !1,
api_bubble: !1
};
}
var q, G, Y, X, K, Z, Q, J, tt, et, it, nt, ot, rt, st, at, _t, lt, dt, ut, ct, ht, pt, ft, gt, mt, $t, bt, wt, xt, vt, yt, jt, Ct, St, At, kt, It, Tt, Bt, Nt, Dt, Et, Ot, Pt, Lt, Wt, Rt, Ft, Mt, Vt, Ht, zt, Ut, qt = i(14), Gt = i(21), Yt = i(26), Xt = i(24), Kt = i(20), Zt = i(5), Qt = i(72), Jt = i(56), te = i(355), ee = i(354), ie = {
UNDEFINED: "undefined",
NONE: "none",
BUTTON: "button",
BANNER: "banner",
WINDOW: "window",
NOTIFICATION: "notification"
}, ne = {
NEW_CHAT_FORM: "new_chat_form",
PRE_CHAT_OFFLINE_FORM: "pre_chat_offline_form",
CHAT_PANEL: "chat_panel",
POST_CHAT_FORM: "post_chat_form",
COOKIE_FORM: "cookie_form",
CARD_FORM: "card_form",
AGENT_LIST: "agent_list",
ABOUT_PANEL: "about_panel",
RATING_PANEL: "rating_panel"
}, oe = {
COOKIE_LAW: "cookie_law",
REATTACHED: "reattached",
REGISTERED: "registered",
FAST_INIT: "fast_init"
}, re = {
ONLINE: "online",
AWAY: "away",
OFFLINE: "offline",
BANNED: "banned"
}, se = {}, ae = {
api_display: !1,
api_stack: !1,
api_bubble: !1
}, _e = qt.extend({
init: n
}), le = B;
t.exports = _e;
e(_e, "meshim_widget_controllers_UIController");
return _e;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = function(t) {
return function(t, e) {
return e ? null == t : void 0 === t;
};
}();
t.exports = i;
e(i, "jx_core_globals_isUndefined");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function o() {
A = k = I = !1;
T = [];
B = [];
N = [];
D = [];
E = [];
O = [];
P = [];
W = {};
S = z.root;
S.$("connection").$("status$string").bindValue(r);
S.$("connection").$("message$string").bindValue(s);
L = S.$("tmp").$("api_settings");
R = S.$("tmp").$("server_settings");
G.bindToConnectionStatus(S.$("connection").$("status$string"));
F = window.zE ? "web_widget" : "standalone";
}
function r(t) {
if ("reattached" == t) {
I = !0;
l();
} else if ("registered" == t || "cookie_law" == t) {
k = !0;
_();
}
}
function s(t) {
if ("fast_init" == t) {
A = !0;
a();
}
}
function a() {
h(T);
T.length = 0;
h(D);
}
function _() {
h(B);
B.length = 0;
h(E);
}
function l() {
h(N);
N.length = 0;
h(O);
}
function d(t, e) {
e && D.push(t);
A ? p(t) : e || T.push(t);
}
function u(t, e) {
e && E.push(t);
k ? p(t) : e || B.push(t);
}
function c(t, e) {
e && O.push(t);
I ? p(t) : e || N.push(t);
}
function h(t) {
if (t && M(t)) for (var e = 0; e < t.length; e++) p(t[e]);
}
function p(t) {
var e = K.call(arguments, 1);
try {
t.apply(null, e);
} catch (e) {
if (!window.console) return;
if (!V(window.console.log)) return;
var i = "Error in LiveChatAPI call", n = [];
e.name && n.push(e.name);
e.message && n.push(e.message);
n.length && (i += ": " + n.join(" - "));
window.console.log(i);
V(window.console.dir) && window.console.dir(e);
window.console.log(t.toString());
}
}
function f(t) {
return function() {
var e = Array.prototype.slice.call(arguments);
setTimeout(function() {
t.apply(null, e);
}, 0);
};
}
function g(t) {
return Z.test(t);
}
function m(t) {
U.fullyExtend(W, t);
L && L.update(W);
}
function $(t) {
U.fullyDelete(W, t);
if (L) {
L.update(null);
L.update(W);
}
}
function b(t) {
return t ? R.getValue(t) : R.getValue();
}
function w(t, e) {
P.push([ t, e ]);
}
function x() {
return P;
}
function v() {
var t;
try {
t = q.parse(H().get("api_calls"));
} catch (t) {}
return M(t) ? t : [];
}
function y() {
return Y;
}
function j(t, i, n) {
if (!e(n.interval) || !e(n.limit)) throw new Error("requires numeric interval and limit");
return function() {
var e = Date.now();
if (n.start > e - n.interval) {
n.count || (n.count = 0);
n.count++;
if (n.count > n.limit) {
window.console && window.console.log && window.console.log(X.getPrefix() + ": " + i + " has been ratelimited. This call has been ignored.");
return;
}
} else {
n.start = e;
n.count = 1;
}
return t.apply(this, arguments);
};
}
function C(t) {
G.increment("jsapi.usage", [ "source:" + F, "method:" + t ]);
}
var S, A, k, I, T, B, N, D, E, O, P, L, W, R, F, M = i(22), V = i(20), H = i(35), z = (i(57), 
i(5)), U = i(10), q = i(58), G = i(356), Y = "Zendesk Chat", X = {
init: o,
callNow: p,
handleDelayed: h,
callOnFastInit: d,
callOnRegistered: u,
callOnReattached: c,
isHexColor: g,
getCallbackCaller: f,
saveAPISettings: m,
resetAPISettings: $,
getServerSettings: b,
savePopoutAPICalls: w,
getPopoutAPICalls: x,
parseAPIFromQuery: v,
getPrefix: y,
rateLimit: j,
instrument: C
}, K = Array.prototype.slice, Z = /^#[0-9A-F]{6}$/i;
t.exports = X;
n(X, "meshim_widget_controllers_liveChatAPI_APIHelper");
return X;
}();
}).call(this, i(28), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return "number" == typeof t;
}
t.exports = i;
e(i, "jx_core_globals_isNumber");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_AbsolutePaddingContainer = i(164);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_AbsolutePaddingContainer, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(5), e = i(9), n = t.root.$("livechat").$("ui").$("mobile$bool").getValue(), o = h.setAbsPaddingBottom;
h.setAbsPaddingBottom = function() {
n || o.apply(h, arguments);
};
!function() {
e.mobile(h);
e.tablet(h);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_AbsolutePaddingContainer.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_AbsolutePaddingContainer;
t.__jx__jcss = {
"**self": {},
"&.mobile": {
margin: "0 auto",
height: "auto",
border: "none",
maxWidth: "$$mobileMaxWidthS"
},
"&.tablet": {
maxWidth: "$$mobileMaxWidth"
}
};
s(t, "meshim_widget_widgets_ChatWindowContent");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "inner", "", [], {
id: "inner",
addClass: "scrollable_inner",
container: "default"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "scrollable_fixed_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "scrollable_fixed_bottom"
} ] ], {
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__inner");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
h.defaultPlacement = p;
var f = function() {
function t() {
s && window.clearTimeout(s);
s = window.setTimeout(e, 10);
}
function e() {
s && window.clearTimeout(s);
s = null;
if (h.dom) {
h[n() ? "addClass" : "removeClass"]("scroll_top");
h[o() ? "addClass" : "removeClass"]("scroll_bottom");
h[r() ? "addClass" : "removeClass"]("scrollable");
}
}
function n() {
return !p.getScrollTop();
}
function o() {
return p.getScrollTop() + p.getHeight() >= p.getScrollHeight();
}
function r() {
return p.getScrollHeight() > p.getHeight();
}
var s, a = i(5), _ = i(9), l = a.root.$("livechat").$("ui").$("theme_loaded$bool"), d = a.root.$$("livechat.ui.mobile$bool");
p.on("scroll", t);
h.updateScrollStyles = t;
h.getScrollHeight = function() {
return p.getScrollHeight();
};
h.getScrollTop = function() {
return p.getScrollTop();
};
h.getHeight = function() {
return p.getHeight();
};
h.setScrollTop = function(t) {
return p.setScrollTop(t);
};
!function() {
h.autobind(l, "value", t);
t();
_.mobile(h);
_.popout(h);
_.windowSize(h, "sf_");
d.getValue() && h.addClass("mobile");
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self, .scrollable_inner": {
position: "relative",
"width, height": "100%"
},
".scrollable_inner": {
overflowX: "hidden",
overflowY: "auto",
paddingBottom: "0 !important"
},
".scrollable_fixed_top, .scrollable_fixed_bottom": {
position: "absolute",
"left, right": 0,
pointerEvents: "none"
},
".scrollable_fixed_top": {
top: 0,
height: "$$scrollableFrameTopHeight",
background: "$$scrollableFrameTopBackground",
backgroundColor: "$$scrollableFrameTopBackgroundColor"
},
".scrollable_fixed_bottom": {
bottom: 0,
height: "$$scrollableFrameBottomHeight",
background: "$$scrollableFrameBottomBackground",
backgroundColor: "$$scrollableFrameBottomBackgroundColor"
},
"&.scroll_top .scrollable_fixed_top": {
display: "none"
},
"&.scroll_bottom .scrollable_fixed_bottom": {
display: "none"
},
"&.scroll .scrollable_inner": {},
"&.sf_small": {
padding: "$$scrollableFramePaddingSmall",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingSmall"
}
},
"&.sf_medium": {
padding: "$$scrollableFramePaddingMedium",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingMedium"
}
},
"&.sf_large": {
padding: "$$scrollableFramePaddingLarge",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingLarge"
}
},
"&.popout": {
"@media only screen and (max-width: 300px)": {
padding: "$$scrollableFramePaddingSmall",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingSmall"
}
},
"@media only screen and (min-width: 300px) and (max-width: 500px)": {
padding: "$$scrollableFramePaddingMedium",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingMedium"
}
},
"@media only screen and (min-width: 500px)": {
padding: "$$scrollableFramePaddingLarge",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingLarge"
}
}
},
"&.mobile": {
borderBottom: "none",
".scrollable_inner": {
padding: "10px"
}
}
};
s(t, "meshim_widget_widgets_ScrollableFrame");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "span";
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_span");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
addClass: "bottom"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(9);
!function() {
t.mobile(h);
t.windowSize(h, "bottom_");
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"bottom, left": 0,
width: "100%",
textAlign: "center",
"*overflow": "hidden",
paddingTop: "$$margin",
paddingBottom: 0,
height: "$$bottomHeight",
borderWidth: "$$bottomBorderWidth",
borderStyle: "$$bottomBorderStyle",
borderColor: "$$bottomBorderColor",
"&.bottom_padding_bottom": {
paddingBottom: "$$margin",
height: "$$bottomHeightBottomPadding"
},
"&.bottom_small": {
"paddingLeft, paddingRight": "10px"
},
"&.bottom_medium": {
"paddingLeft, paddingRight": "20px"
},
"&.bottom_large": {
"paddingLeft, paddingRight": "50px"
}
},
"&.note": {
height: "auto",
fontSize: "$$fontSizeXS",
padding: "$$margin",
borderWidth: "$$bottomNoteBorderWidth",
borderStyle: "$$bottomNoteBorderStyle",
borderColor: "$$bottomNoteBorderColor"
},
"&.padding_bottom": {
height: "$$bottomHeightBottomPadding"
},
"&.mobile": {
position: "relative",
padding: "$$margin",
height: "auto"
}
};
s(t, "meshim_widget_widgets_Bottom");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
m = P.throttle(r, 2e3);
$ = P.debounce(s, 100);
b = L.root.$("livechat");
w = b.$("channel");
x = w.$("chatting$bool");
j = w.$("log");
y = w.$("rating$string");
v = w.$("last_read");
A = b.$("profile").$("nick$string");
S = b.$("ui").$("chat_button").$("unread_count$int");
I = 0;
N = 0;
T = 0;
B = [];
w.on("value", function(t) {
null === t && (E = D = void 0);
});
A.on("value", function(t) {
if (t && t !== k) {
k && v.$(k).$("timestamp$int").un("value", l);
k = t;
v.$(t).$("timestamp$int").on("value", l);
}
});
x.on("value", d);
j.on("value", function(t) {
C = t;
});
j.on("keys", o);
}
function o(t) {
if (t && t.length && k) {
for (var e, i, n, o, r = 0, s = t.length; r < s; r++) {
e = C[t[r]];
if (e) {
i = e.timestamp$int;
n = e.type$string;
o = e.nick$string;
i > N && (N = i);
switch (n) {
case "chat.comment":
w.update({
last_comment_ts$int: i
});
break;

case "chat.rating":
w.update({
last_rating_ts$int: i
});
break;

case "chat.memberjoin":
case "chat.join":
W.isAgentNick(o) && u(i);
break;

case "chat.memberleave":
W.isAgentNick(o) ? c(i) : p();
break;

case "chat.mention":
case "chat.msg":
o != k && -1 === B.indexOf(i) && B.push(i);
_(i, o, t[r]);

default:
W.isAgentNick(o) && 0 === I && u(i);
}
}
}
$();
}
}
function r() {
x.getValue() && b.$("ui").$("chat").write({
read_ts$int: N
});
}
function s() {
for (;B[0] <= T; ) B.shift();
S.update(B.length);
}
function a() {
S.update(0);
B = [];
m();
}
function _(t, e, i) {
if (e != k) {
if (!D) {
D = t;
w.update({
first_account_msg_id$string: i,
first_account_msg_ts$int: t
});
}
} else if (!E) {
E = t;
w.update({
first_visitor_msg_ts$int: t
});
}
}
function l(t) {
if (!O(t, !0)) {
T = t;
N > 0 && $();
}
}
function d(t) {
if (!1 === t) {
a();
w.getValue("served$bool") && f();
}
}
function u(t) {
I++;
h(t);
}
function c(t) {
I = Math.max(I - 1, 0);
h(t);
}
function h(t) {
if (0 === I) w.update({
last_agent_leave_ts$int: t
}); else {
1 === I && w.update({
served$bool: !0
});
w.getValue("last_agent_leave_ts$int") && w.update({
last_agent_leave_ts$int: null
});
}
}
function p() {
f();
}
function f() {
I = 0;
w.update({
served$bool: !1,
first_visitor_msg_ts$int: null,
first_account_msg_ts$int: null,
first_account_msg_id$string: null,
last_agent_leave_ts$int: null,
last_comment_ts$int: null,
last_rating_ts$int: null
});
E = D = void 0;
N = T = 0;
B = [];
}
function g() {
f();
k = void 0;
}
var m, $, b, w, x, v, y, j, C, S, A, k, I, T, B, N, D, E, O = i(26), P = i(39), L = i(5), W = i(10), R = {
init: n,
resetUnreadCount: a,
updateUnreadCount: $,
resetState: g
};
t.exports = R;
e(R, "meshim_widget_controllers_ChatLogListener");
return R;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
return window.document.documentElement.clientWidth > window.document.documentElement.clientHeight;
}
function o(t) {
}
function r() {
return y && g.test(v);
}
function s() {
return y && /(iemobile|windows phone)/i.test(x);
}
function a() {
return y && p.test(v) && !f.test(x);
}
function _() {
var t = window.document.documentElement.clientWidth, e = window.document.documentElement.clientHeight, i = t / e > b, n = window.screen.width, o = window.screen.height;
if (i && n < o) {
!0;
n = window.screen.height;
o = window.screen.width;
}
var r = window.innerWidth, _ = t / n;
window.devicePixelRatio && a() && !d.isIOS ? _ *= window.devicePixelRatio : s() && (_ *= 1.5);
var l = t / r / _;
l = (l / j.MOBILE_ZOOM_ADDITIONAL).toFixed(2);
return l;
}
function l() {
var t = window, e = t.document.documentElement, i = t.document.body, n = null, o = {
top: 0,
left: 0
};
u(e.getBoundingClientRect) && (u(t.getComputedStyle) ? "relative" == t.getComputedStyle(i).position ? n = i : "relative" == t.getComputedStyle(e).position && (n = e) : i.currentStyle ? "relative" == i.currentStyle.position ? n = i : "relative" == e.currentStyle.position && (n = e) : "relative" == i.style.position ? n = i : "relative" == e.style.position && (n = e));
if (n) {
var r = n.getBoundingClientRect();
o.top = r.top + t.pageYOffset - e.clientTop;
o.left = r.left + t.pageXOffset - e.clientLeft;
}
return o;
}
var d = i(8), u = i(20), c = i(176), h = i(377), p = /google inc\./i, f = /chrome/i, g = /apple computer, inc\./i, m = /crios/i, $ = /OS ([_0-9]+) like Mac OS X/i, b = 1.45, w = c.getVariable("navigator"), x = w.userAgent || "", v = w.vendor || "", y = h(), j = {
isMobileBrowser: y,
isMobileWhitelist: function() {
for (var t, e = [ /(android [2-9])|(iemobile\/(?![5-9]))|(ucbrowser)|(Webkit.+Chrome)|(ipod|iphone|ipad).+applewebkit.+(CriOS|Version\/[5-9]|Mobile)/i ], i = 0, n = e.length; i < n; i++) if (e[i].test(x)) {
t = !0;
break;
}
/android.+ucbrowser/i.test(x) && (t = !1);
return t;
}(),
isMobileTablet: function() {
var t, e = window.document.documentElement.clientWidth;
t = n() ? e > C : e > S;
return t;
}(),
isAndroid: function() {
return y && p.test(v);
}(),
isIOS: r(),
isWP: s(),
isIEMobile: s(),
isChromeIOSMobile: function() {
return y && g.test(v) && m.test(x);
}(),
isSafariIOSMobile: function() {
return y && g.test(v) && !m.test(x);
}(),
isChromeAndroidMobile: function() {
return y && p.test(v) && f.test(x);
}(),
isOperaAndroidMobile: function() {
return y && /(opera|opr).*android|android.*(opera|opr)/i.test(x);
}(),
isNativeAndroidMobile: a(),
isUCBrowserMobile: function() {
return y && /ucbrowser/i.test(x);
}(),
iOSVersion: function() {
if (r()) {
var t = x.match($);
return t && parseFloat(t[1].split("_").slice(0, 2).join("."));
}
}(),
hideVirtualKeyboard: o,
checkLandscape: n,
getZoomLevel: _,
getOffset: l,
MOBILE_ZOOM_ADDITIONAL: 1.2
}, C = 640, S = 320;
t.exports = j;
e(j, "meshim_widget_utils_Mobile");
return j;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
if (!(this instanceof n)) {
_ || n._initSingleton(window);
return _;
}
if (t) return n.parseQuery(t);
this.store = {};
}
function o(t, e, i) {
if (void 0 === e && void 0 === i) return t;
void 0 === e && (e = "string");
if (!(e in a)) throw "invalid type requested";
return void 0 === t ? void 0 !== i ? i : a[e] : "boolean" === e ? s.test(t) : "integer" === e ? !0 === t ? 1 : parseInt(t, 10) : "float" === e ? !0 === t ? 1 : parseFloat(t) : t;
}
var r = i(22), s = /^(1|on|true)$/i, a = {
boolean: !1,
integer: 0,
float: 0,
string: ""
}, _ = null;
n._initSingleton = function(t) {
_ = new n(t.location.search);
};
n.buildQuery = function(t) {
var e, i, n, o, s, a, _ = [], l = [];
for (s in t) t.hasOwnProperty(s) && _.push(s);
_.sort();
for (e = 0, n = _.length; e < n; e++) {
s = _[e];
a = t[s];
s = window.encodeURIComponent(s);
if (r(a)) if (1 !== a.length || !0 !== a[0]) for (i = 0, o = a.length; i < o; i++) l.push(s + "=" + window.encodeURIComponent(a[i] + "")); else l.push(s); else l.push(s + "=" + window.encodeURIComponent(a + ""));
}
return l.join("&");
};
n.parseQuery = function(t) {
var e, i, o = new n();
t = t.replace(/^\?|\/+$/g, "");
var r, s, a = t.split("&");
for (e = 0, i = a.length; e < i; e++) {
var _ = a[e];
if (_.length) {
var l = _.indexOf("=");
if (l <= -1) {
r = _;
s = !0;
} else {
r = _.slice(0, l);
s = window.decodeURIComponent(_.slice(l + 1));
}
o.add(window.decodeURIComponent(r), s);
}
}
return o;
};
n.getHash = function(t, e) {
var i = e || window.location.hash;
return n.parseQuery(i.replace(/^#/, "")).get(t);
};
var l = n.prototype;
l.add = function(t, e) {
this.has(t) ? this.store[t].push(e) : this.store[t] = [ e ];
};
l.has = function(t) {
return this.store.hasOwnProperty(t);
};
l.getLast = function(t, e, i) {
return this.has(t) ? this.getAt(t, this.store[t].length - 1, e, i) : o(void 0, e, i);
};
l.getFirst = function(t, e, i) {
return this.getAt(t, 0, e, i);
};
l.getAt = function(t, e, i, n) {
return o(this.has(t) ? this.store[t][e] : void 0, i, n);
};
l.getRaw = function(t) {
return this.has(t) ? this.store[t].concat() : [];
};
l.get = l.getLast;
l.toString = function() {
return n.buildQuery(this.store);
};
t.exports = n;
e(n, "meshim_common_QueryString");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
type: "button"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(9);
!function() {
t.mobile(h);
t.rtl(h);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
background: "transparent",
border: "none",
position: "relative",
width: "100%",
overflow: "hidden",
cursor: "pointer",
"*zoom": 1,
textAlign: "left",
padding: "$$menuItemPadding",
"*": {
cursor: "pointer"
}
},
"&.rtl": {
textAlign: "right"
},
"&:hover": {
background: "$$menuItemHoverBg"
},
"&.mobile": {
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor"
}
};
s(t, "meshim_widget_widgets_menu_Item");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, a) {
if (!(this instanceof n)) return new n(t, e, i, r, a);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, r, a);
}
var o = i(2), r = i(1), s = i(6);
n.__jx__jcss = {
"**self": {
lineHeight: "1.2",
marginBottom: "$$marginL"
},
"&.short": {
marginBottom: "0"
}
};
n.prototype = r(s.prototype);
n.prototype.__jx__super = s;
t.exports = n;
e(n, "meshim_widget_widgets_Body");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Branding = i(87);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "container_and_brand_wrapper", "", [ [ e.__$$__jx_ui_Widget, "$$defaultplacement$$", "", [], {
container: "default",
addClass: "container",
id: "$$defaultplacement$$"
} ], [ e.__$$__meshim_widget_widgets_Branding, "branding", "", [], {
id: "branding",
addClass: "chat_window_panel_branding",
hideOnDesktop: "true"
} ] ], {
id: "container_and_brand_wrapper",
addClass: "container_and_brand_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__container_and_brand_wrapper"), f = n.get(s + "__$$defaultplacement$$"), g = n.get(s + "__branding");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
h.defaultPlacement = f;
var m = function() {
function t() {
var i;
if (v) {
i = "free_flow_with_fixed_titlebar_layout";
if (d.isStyleSupported("overflow-scrolling")) {
e();
l(p);
}
} else i = w ? "free_flow_layout" : "full_frame_layout";
if (i !== t.lastClassName) {
h.removeClass(t.lastClassName);
h.addClass(i);
t.lastClassName = i;
}
}
function e() {
function t() {
p.setCSSStyle("webkitOverflowScrolling", "auto");
setTimeout(function() {
p.setCSSStyle("webkitOverflowScrolling", "touch");
}, 50);
}
h.autobind(b.$("chat_window").$("display$bool"), "value", function(e) {
e && t();
});
}
function n() {
var t;
t = o ? "cwp_mini" : w || x ? "cwp_full" : "cwp_" + y.getValue();
if (t !== n.lastClassName) {
h.removeClass(n.lastClassName);
h.addClass(t);
n.lastClassName = t;
}
}
var o, r = i(24), s = i(12), a = i(5), _ = i(9), l = i(358), d = i(10), u = i(168), c = i(167), f = i(166), m = i(353), $ = a.root, b = $.$("livechat").$("ui"), w = b.getValue("mobile$bool"), x = b.getValue("popout$bool"), v = b.getValue("mobile_overlay$bool"), y = $.$("livechat").$("settings").$("theme").$("chat_window").$("size$string");
h.setTitleBar = function(t) {
if (!h.titleBar) {
var e = t.split(",");
if (-1 == r("none", e)) {
h.titleBar = new u(h);
h.addClass("has_title_bar");
for (var i = 0, n = e.length; i < n; i++) switch (e[i]) {
case "hidePopout":
h.titleBar.setHidePopout(!0);
}
} else {
h.titleBar = !0;
h.removeClass("has_title_bar");
}
}
};
h.getDraggableNode = function() {
return h.titleBar instanceof u ? h.titleBar : null;
};
h.setActionBar = function(t) {
if (!h.actionBar) {
var e = t.split(",");
if (-1 == r("none", e)) if (w) {
if (-1 != r("default", e)) {
h.actionBar = new f(h);
h.actionBar.addClass("mobile_options_menu_icon");
}
} else {
h.addClass("has_action_bar_at_bottom");
-1 != r("default", e) ? h.actionBar = new m(h) : h.actionBar = new c(h);
} else {
h.actionBar = !0;
h.removeClass("has_action_bar_at_bottom");
}
}
};
h.setMiniSize = function(t) {
o = s(t);
n();
};
h.setHideBrandingMobile = function(t) {
t = s(t);
w && t ? g.addClass("hidden") : g.removeClass("hidden");
};
!function() {
_.rtl(h);
h.autobind(y, "value", n);
t();
}();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
margin: "$$chatWindowPanelMargin"
},
".container": {
position: "relative",
background: "$$windowContentBg",
borderWidth: "$$windowContentBorderWidth",
borderStyle: "$$windowContentBorderStyle",
borderColor: "$$windowContentBorderColor"
},
".mobile_options_menu_icon": {
position: "absolute",
zIndex: "102"
},
".chat_window_panel_branding": {
display: "block",
padding: "5px",
margin: "10px 0",
textAlign: "center",
"&.hidden": {
display: "none !important"
}
},
".container_and_brand_wrapper": {
"width, height": "100%"
},
"&.full_frame_layout": {
overflow: "hidden",
"width, height": "100%",
".container": {
"width, height": "100%",
overfow: "hidden"
}
},
"&.free_flow_layout": {
overflow: "auto",
"width, height": "auto",
".container": {
"width, height": "auto"
}
},
"&.free_flow_with_fixed_titlebar_layout": {
overflow: "hidden",
"width, height": "100%",
".container_and_brand_wrapper": {
overflow: "auto",
"-webkit-overflow-scrolling": "touch"
},
".container": {
"width, height": "auto"
}
},
"&.has_title_bar": {
paddingTop: "$$titleBarHeight"
},
"&.has_action_bar_at_bottom": {
paddingBottom: "$$actionBarHeight"
},
"&.cwp_small": {
width: "$$windowSmallWidth",
height: "$$windowSmallHeight"
},
"&.cwp_medium": {
width: "$$windowMediumWidth",
height: "$$windowMediumHeight"
},
"&.cwp_large": {
width: "$$windowLargeWidth",
height: "$$windowLargeHeight"
},
"&.cwp_full": {
"width, height": "100%"
},
"&.cwp_mini": {
width: "$$windowMiniWidth",
height: "$$windowMiniHeight"
},
"&.ltr": {
".mobile_options_menu_icon": {
"top, left": 0
}
},
"&.rtl": {
".mobile_options_menu_icon": {
"top, right": 0
}
}
};
s(t, "meshim_widget_widgets_ChatWindowPanel");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
function i() {
a = !a;
t.apply(o, n);
}
var n, o, r, s, a = !0;
return function() {
n = Array.prototype.slice.call(arguments);
o = this;
if (a) {
s = setTimeout(function() {
a = !0;
}, e);
return i();
}
s && clearTimeout(s);
r && clearTimeout(r);
r = setTimeout(i, e);
};
}
function o(t, e) {
function i() {
t.apply(o, n);
}
var n, o, r;
return function() {
r && clearTimeout(r);
n = Array.prototype.slice.call(arguments);
o = this;
r = setTimeout(i, e);
};
}
function r(t, e) {
function i() {
s = +new Date();
r = null;
t.apply(o, n);
}
var n, o, r, s = 0;
return function() {
n = Array.prototype.slice.call(arguments);
o = this;
if (!r) {
var t = +new Date() - s;
t >= e ? i() : r = setTimeout(i, e - t);
}
};
}
function s(t, e) {
function i() {
s = +new Date();
n = o.length > 1 ? setTimeout(i, e) : null;
t.apply(r.shift(), o.shift());
}
var n, o = [], r = [], s = 0;
return function() {
o.push(Array.prototype.slice.call(arguments));
r.push(this);
if (!n) {
var t = +new Date() - s;
t >= e ? i() : n = setTimeout(i, e - t);
}
};
}
var a = (i(40), {
debounceExceptFirst: n,
debounce: o,
throttle: r,
queue: s
});
t.exports = a;
e(a, "meshim_common_AsyncUtils");
return a;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
if (!r(t)) throw new TypeError("FunctionUtils.bind - what is trying to be bound is not callable");
if (r(t.bind) && !("prototype" in t.bind)) return t.bind.apply(t, a.call(arguments, 1));
var i = a.call(arguments, 2), n = function() {}, o = function() {
return t.apply(this instanceof n && e ? this : e, i.concat(a.call(arguments)));
};
n.prototype = o.prototype;
o.prototype = new n();
return o;
}
function o(t) {
var e;
return function() {
if (!e) {
e = !0;
return t.apply(this, a.call(arguments));
}
};
}
var r = i(20), s = {
bind: n,
once: o
}, a = Array.prototype.slice;
t.exports = s;
e(s, "jx_core_FunctionUtils");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
c = b.root;
h = c.$("livechat").$("settings").$("cookie_law");
p = h.$("enabled$bool");
f = c.$("livechat").$("profile");
g = f.$("allow_cookies$bool");
var t = $.getAllowCookieLaw();
"boolean" == typeof t && f.write({
allow_cookies$bool: t
});
}
function o() {
c.$("connection").$("status$string").getValue() ? window.console && window.console.log && window.console.log("Zendesk Chat: Cookie Law mode must be enabled immediately after embedding script") : h.write({
enabled$bool: !0
});
}
function r(t) {
t = m(t);
var e = a(), i = _();
if (t !== e) {
$.setAllowCookieLaw(t);
f.write({
allow_cookies$bool: t
});
if (s()) {
!1 === t && b.livechat.clearAll();
t !== i && b.livechat.reconnect();
}
}
}
function s() {
return !!p.getValue();
}
function a() {
return g.getValue();
}
function _() {
var t = a();
return "boolean" != typeof t || t;
}
function l() {
var t = s(), e = _();
return t && !1 === e;
}
function d() {
"boolean" != typeof a() && r(!1);
}
function u() {
if (x.isCookieDenied()) {
var t = w.cookie_law.request_use_cookies_golion + "\n\n" + w.cookie_law.privacy_policy + ": https://www.zendesk.com/privacy";
if (window.confirm(t)) {
x.setUserChoice(!0);
return !0;
}
return !1;
}
return !0;
}
var c, h, p, f, g, m = i(12), $ = i(112), b = i(5), w = i(11), x = {
init: n,
enableCookieLaw: o,
setUserChoice: r,
isCookieDenied: l,
setDefaultImplicitConsent: d,
requestPermission: u
};
t.exports = x;
e(x, "meshim_widget_controllers_CookieLaw");
return x;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
r.tagName || (r.tagName = "form");
r.method || (r.method = "post");
s.call(this, t, e, i, o, r);
this.on("submit", function(t) {
this.validate() || t.preventDefault();
});
this.on("reset", function(t) {
t.preventDefault();
this.reset();
});
}
var o = i(1), r = i(12), s = i(6);
n.prototype = o(s.prototype);
n.prototype.submit = function() {
this.dom.submit();
return this;
};
n.prototype.reset = function() {
for (var t = this.getElements(), e = 0; e < t.length; e++) t[e].reset && t[e].reset();
return this;
};
n.prototype.getElements = function() {
for (var t = [], e = 0, i = this.dom.elements.length; e < i; e++) t.push(this.dom.elements[e].jx_wrapper || this.dom.elements[e]);
return t;
};
n.prototype.getAutocomplete = n.prototype.getAutoComplete = function() {
return this.dom.autocomplete;
};
n.prototype.setAutocomplete = n.prototype.setAutoComplete = function(t) {
if (void 0 === this.dom.autocomplete) return this;
if ("on" === t || "off" === t) {
this.dom.autocomplete = t;
return this;
}
t = r(t);
this.dom.autocomplete = t ? "on" : "off";
return this;
};
n.prototype.getNoValidate = function() {
return this.dom.noValidate;
};
n.prototype.setNoValidate = function(t) {
this.dom.noValidate = r(t);
return this;
};
n.prototype.getMethod = function() {
return this.dom.method;
};
n.prototype.setMethod = function(t) {
this.dom.method = t;
return this;
};
t.exports = n;
e(n, "jx_ui_Form");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, s) {
if (!(this instanceof n)) return new n(t, e, i, r, s);
s || (s = {});
s.tagName || (s.tagName = "input");
l.call(this, t, e, i, r, s);
if (o.engineIE <= 8 && s.type && s.tagName && "input" == s.tagName.toLowerCase()) {
var a = this.parentNode;
this.parentNode.removeChild(this.parentNode instanceof u ? this : this.dom);
this.dom = t.doc.createElement("<" + s.tagName + ' type="' + s.type + '" name="' + (s.name || "") + '"/>');
this.dom.jx_wrapper = this;
this.style = this.dom.style;
a.appendChild(a instanceof u ? this : this.dom);
this.setStyle(i);
this.setAttributes(s);
this.addClass(this.__jx__fqname);
}
s.initialValue && this.setValue(s.initialValue);
this.setAttribute("id", this.jx_id);
s.label && this.setLabel(s.label);
s.errorMessage && this.setErrorMessage(s.errorMessage);
this.on("blur", function() {
this.onAutoValidate();
});
}
var o = i(8), r = i(1), s = i(12), a = i(24), _ = i(19), l = i(6), d = i(42), u = i(23), c = /^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+([a-z0-9][a-z0-9-]*[a-z0-9])$/i, h = /^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i, p = {
required: 1,
pattern: 2,
maxlength: 4,
min: 8,
max: 16,
step: 32
}, f = {
button: 1,
checkbox: 1,
email: 7,
hidden: 0,
number: 57,
password: 3,
radio: 1,
range: 25,
reset: 0,
search: 7,
select: 1,
submit: 0,
tel: 7,
text: 63,
textarea: 1,
url: 7
};
n.prototype = r(l.prototype);
n.prototype.getLabel = function() {
return this.label && this.label.getText();
};
n.prototype.setLabel = function(t) {
t && this.createLabel(t);
this.label && this.label.setText(t);
return this;
};
n.prototype.createLabel = function(t) {
if (this.label instanceof u) return this;
if (!this.dom.parentNode) return this;
this.label = new _(this.parentNode, null, null, null, {
tagName: "label"
});
this.getNextSibling() != this.label && this.parentNode.insertBefore(this.label, this.getNextSibling());
this.label.setAttribute("for", this.jx_id || "");
this.label.addClass("label");
this.label.addClass(this.attributes.type || this.getInputType() || "");
this.label.setText(t || this.attributes.label || "");
this.defaultLabel = !0;
return this;
};
n.prototype.getLabelElement = function() {
return this.label;
};
n.prototype.setLabelElement = function(t) {
if (!(t instanceof u)) return this;
this.defaultLabel && this.label.destroy();
this.label = t;
this.label.setAttribute("for", this.jx_id || "");
this.defaultLabel = !1;
return this;
};
n.prototype.getErrorMessage = function() {
return this.errorMessage && this.errorMessage.getText();
};
n.prototype.setErrorMessage = function(t) {
t && this.createErrorMessage(t);
this.errorMessage && this.errorMessage.setText(t);
return this;
};
n.prototype.showErrorMessage = function() {
this.errorMessage && this.errorMessage.setVisible(!0).setDisplay("");
return this;
};
n.prototype.hideErrorMessage = function() {
this.errorMessage && this.errorMessage.setVisible(!1);
return this;
};
n.prototype.createErrorMessage = function(t) {
if (this.errorMessage instanceof u) return this;
if (!this.dom.parentNode) return this;
this.errorMessage = new _(this.parentNode, null, null, null, {
tagName: "label"
});
(this.label ? this.label.getNextSibling() : this.getNextSibling()) != this.errorMessage && this.parentNode.insertBefore(this.errorMessage, this.label ? this.label.getNextSibling() : this.getNextSibling());
this.errorMessage.setAttribute("for", this.jx_id || "");
this.errorMessage.addClass("error_message");
this.errorMessage.addClass(this.attributes.type || this.getInputType() || "");
this.setErrorMessage(t || this.attributes.errorMessage || "");
this.hideErrorMessage();
this.defaultErrorMessage = !0;
return this;
};
n.prototype.getErrorMessageElement = function() {
return this.errorMessage;
};
n.prototype.setErrorMessageElement = function(t) {
if (!(t instanceof u)) return this;
this.defaultErrorMessage && this.errorMessage.destroy();
this.errorMessage = t;
this.errorMessage.setAttribute("for", this.jx_id || "");
this.defaultErrorMessage = !1;
return this;
};
n.prototype.validate = function(t) {
var e = this.getInputType(), i = this.getValue(), n = f[e], o = this.dom, r = (!(n & p.required) || !o.required || "" !== (i || "").trim() && null != i) && (!(n & p.pattern) || !o.pattern || new RegExp(o.pattern).test(i)) && (!(n & p.maxlength) || !(o.maxLength && o.maxLength >= 0) || i.length <= o.maxLength) && (!(n & p.min) || !o.min || parseFloat(i) >= parseFloat(o.min)) && (!(n & p.max) || !o.max || parseFloat(i) <= parseFloat(o.max)) && ("email" != e || (o.required ? c.test(i) : "" === i || c.test(i))) && ("url" != e || (o.required ? h.test(i) : "" === i || h.test(i)));
!r && t && this.focus();
this.setValidity(r);
return r;
};
n.prototype.getValidity = function() {
return this.validity;
};
n.prototype.setValidity = function(t) {
this.validity = s(t);
this.validity ? (this.hideErrorMessage(), this.addClass("valid"), this.removeClass("invalid")) : (this.showErrorMessage(), 
this.removeClass("valid"), this.addClass("invalid"));
return this;
};
n.prototype.getAutoValidate = function() {
return this.autoValidate;
};
n.prototype.setAutoValidate = function(t) {
this.autoValidate = s(t);
return this;
};
n.prototype.onAutoValidate = function() {
if (this.autoValidate && !this.getDisabled() && !this.getReadOnly()) return this.validate();
};
n.prototype.reset = function() {
var t = this.getType();
if ("submit" == t || "reset" == t) return this;
this.setValue(this.getInitialValue() || "").setValidity(!0);
return this;
};
var g = "textarea button select".split(" ");
n.prototype.getInputType = function() {
return -1 != a(this.tagName, g) ? this.tagName : this.getType();
};
n.prototype.getType = function() {
return this.validationType || l.prototype.getType.call(this);
};
n.prototype.setType = function(t) {
this.validationType = t;
l.prototype.setType.call(this, t);
};
n.prototype.getInitialValue = function() {
return o.engineIE <= 8 ? this._initialValue : this.dom.getAttribute("value");
};
n.prototype.setInitialValue = function(t) {
o.engineIE <= 8 ? this._initialValue = t && (t.toString ? t.toString() : t) : this.setAttribute("value", t);
return this;
};
n.prototype.getRequired = function() {
return this.dom.required;
};
n.prototype.setRequired = function(t) {
this.dom.required = s(t);
return this;
};
n.prototype.getPattern = function() {
return this.dom.pattern;
};
n.prototype.setPattern = function(t) {
this.dom.pattern = t;
return this;
};
n.prototype.getMin = function() {
return this.dom.min;
};
n.prototype.setMin = function(t) {
this.dom.min = t;
return this;
};
n.prototype.getMax = function() {
return this.dom.max;
};
n.prototype.setMax = function(t) {
this.dom.max = t;
return this;
};
n.prototype.getMaxLength = function() {
return this.dom.maxLength;
};
n.prototype.setMaxLength = function(t) {
this.dom.maxLength = parseInt(t, 10);
return this;
};
n.prototype.getStep = function() {
return this.dom.step;
};
n.prototype.setStep = function(t) {
this.dom.step = t;
return this;
};
n.prototype.getMultiple = function() {
return this.dom.multiple;
};
n.prototype.setMultiple = function(t) {
this.dom.multiple = s(t);
return this;
};
n.prototype.getAutocomplete = n.prototype.getAutoComplete = d.prototype.getAutocomplete;
n.prototype.setAutocomplete = n.prototype.setAutoComplete = d.prototype.setAutocomplete;
n.prototype.select = function() {
this.dom.select && this.dom.select();
return this;
};
n.prototype.getForm = function() {
return this.dom.form && (this.dom.form.jx_wrapper || this.dom.form);
};
t.exports = n;
e(n, "jx_ui_Input");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "a";
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_a");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
p = t;
}
function o(t) {
j = t ? b.getAuthServerURL(t) : b.AUTH_SERVER_URL;
}
function r(t) {
c = t;
}
function s() {
return c;
}
function a(t) {
if (h) {
+new Date() - h.issued_at >= h.expires_in - 6e4 ? w.authenticate(function(e) {
if (e) {
p && p.$("visitor").$("auth_status$string").update("failed");
t(e, null);
} else t(null, h.id_token);
}) : t(null, h.id_token);
} else t(null, null);
}
function _() {
c = void 0;
h = void 0;
p && p.$("visitor").$("authenticated$bool").update(!1);
}
function l() {
return !!h;
}
function d(t) {
c && c(g.once(function(e) {
e && f(e) ? w.exchangeToken({
account_key: b.ACCOUNT_KEY,
auth_url: j,
site_jwt: e,
state: h && h.state ? h.state : null
}, function(e, i) {
h = i;
p && p.$("visitor").$("authenticated$bool").update(!e);
t(e);
}) : t({
reason: "invalid jwt in callback"
});
}));
}
function u(t, e) {
var i = new m();
i.on("success", function(t) {
"object" != typeof t && e && e({
reason: x
});
t.success ? e && e(void 0, {
issued_at: +new Date(),
id_token: t.id_token,
expires_in: 1e3 * t.expires_in,
state: t.state
}) : e && e({
reason: y,
details: t.details
});
});
i.on("error", function() {
e && e({
reason: v
});
});
var n = {
account_key: t.account_key,
token: t.site_jwt,
format: "dataiframe"
};
t.state && (n.state = t.state);
i.load(t.auth_url + "?" + $.buildQuery(n));
}
var c, h, p, f = i(21), g = i(40), m = i(113), $ = i(35), b = i(18), w = {
authenticate: d,
isAuthenticated: l,
getSiteJWTFunc: s,
retrieveIDToken: a,
clearIdentity: _,
setOverrideHost: o,
setSiteJWTFunc: r,
setDataNode: n,
exchangeToken: u
}, x = "format error", v = "network/security error", y = "jwt verification error", j = b.AUTH_SERVER_URL;
t.exports = w;
e(w, "meshim_widget_controllers_IdentityController");
return w;
}();
}).call(this, i(0));
}, function(t, e) {
var i = {
build_number: "20180828.040699",
git_commit: "8f8193c138248a44231e2f1de3868d4838327c3d",
release_tag: "!ERR"
};
t.exports = i;
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
function s(e) {
if (e) for (var i in e) e.hasOwnProperty(i) && i in h && h[i](e[i], t);
}
if (!(this instanceof n)) return new n(t, e, i, o, r);
c.root.$("tmp").$("api_settings").$("settings").$("theme").$("custom_fonts").$("config$json").on("value", s);
}
function o(t, e) {
for (var i = 0, n = t.urls.length; i < n; i++) d(e, null, null, null, {
href: t.urls[i]
});
}
function r(t, e) {
d(e, null, null, null, {
href: l(t.families, t.text)
});
}
function s(t, e) {
var i = t.projectId, n = t.version;
new u(e, null, null, null, {
src: "//fast.fonts.net/jsapi/" + i + ".js" + (n ? "?v=" + n : "")
});
}
function a(t, e) {
var i = e.ownerDocument;
0 === i.documentElement.getElementsByTagName("script").length && new u(e);
var n = t.api || "https://use.typekit.net";
!function(e) {
var i, o = {
kitId: t.id,
scriptTimeout: 3e3
}, r = e.documentElement, s = setTimeout(function() {
r.className = r.className.replace(/\bwf-loading\b/g, "") + " wf-inactive";
}, o.scriptTimeout), a = e.createElement("script"), _ = !1, l = e.getElementsByTagName("script")[0];
r.className += " wf-loading";
a.src = n + "/" + o.kitId + ".js";
a.async = !0;
a.onload = a.onreadystatechange = function() {
i = this.readyState;
if (!(_ || i && "complete" != i && "loaded" != i)) {
_ = !0;
clearTimeout(s);
try {
(e.defaultView ? e.defaultView : e.parentWindow).Typekit.load(o);
} catch (t) {}
}
};
l.parentNode.insertBefore(a, l);
}(i);
}
function _(t, e) {
var i = window.location.hostname, n = t.id;
new u(e, null, null, null, {
src: "//f.fontdeck.com/s/css/js/" + i + "/" + n + ".js"
});
}
function l(t, e) {
for (var i = "//fonts.googleapis.com/css?family=", n = [], o = [], r = 0, s = t.length; r < s; r++) {
var a = t[r].split(":");
3 === a.length && o.push(a.pop().replace(/ /g, "+"));
var _ = 2 == a.length && "" != a[1] ? ":" : "";
n.push(a.join(_).replace(/ /g, "+"));
}
i += n.join("%7C");
o.length > 0 && (i += "&subset=" + o.join(","));
e && e.length > 0 && (i += "&text=" + window.encodeURIComponent(e));
return i;
}
var d = i(254), u = i(253), c = i(5), h = {
custom: o,
google: r,
monotype: s,
typekit: a,
fontdeck: _
};
t.exports = n;
e(n, "meshim_widget_widgets_fontLoader_CustomFonts");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(9);
!function() {
t.mobile(h);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
padding: "5px 0",
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor",
"*borderTop": "none",
"*zoom": 1,
"*position": "relative"
},
"&:first-child": {
borderTop: "none"
},
"&.flow": {
padding: "0",
margin: "10px"
},
"&.mobile": {
padding: "0",
borderTop: "0 none"
},
"&.border_top": {
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor"
}
};
s(t, "meshim_widget_widgets_menu_Section");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "primary", "", [], {
id: "primary",
addClass: "button_container left",
container: "primary"
} ], [ e.__$$__jx_ui_Widget, "secondary", "", [], {
id: "secondary",
addClass: "button_container right",
container: "secondary"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "clear_both"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__primary"), f = n.get(s + "__secondary");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
var t = !!(e && e.rtl && e.rtl()), i = o != t;
p.addClass(i ? "right" : "left");
p.removeClass(i ? "left" : "right");
f.addClass(i ? "left" : "right");
f.removeClass(i ? "right" : "left");
}
var e = i(7), n = i(5), o = n.root.$("livechat").$("ui").$("mobile$bool").getValue() || !1;
!function() {
t();
if (e && e.onLanguage) {
e.onLanguage(t);
h.onDestruction(function() {
e.unLanguage(t);
});
}
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".button_container": {
width: "48%"
},
".left": {
float: "left"
},
".right": {
float: "right"
},
".clear_both": {
clear: "both"
}
};
s(t, "meshim_widget_widgets_Controls");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(20), o = i(22), r = i(26), s = function() {
function t() {
if (d || u) return !0;
var t, e = window[window.GoogleAnalyticsObject || "ga"];
if (n(e)) {
u = e;
t = !0;
}
if (window._gaq && window._gat) {
d = window._gaq;
c = window._gat;
t = !0;
}
return t;
}
function e(t) {
var e;
t == p.NEW && u ? n(u.getAll) && (e = u.getAll()) : t == p.OLD && c && (n(c._getTrackers) ? e = c._getTrackers() : n(c._getTrackerByName) && (e = [ c._getTrackerByName() ]));
return o(e) ? e : [];
}
function i(t, e, i, n) {
try {
s(t, e, i, n);
} catch (t) {}
}
function s(e, i, n, o) {
if (!g && t() && e) {
u && a(e, i, n, o);
d && _(e, i, n, o);
}
}
function a(t, i, o, s) {
h = e(p.NEW);
var a = {
hitType: "event",
eventCategory: o || f,
eventAction: t
};
r(i, !0) || (a.eventLabel = i);
r(s, !0) || (a.eventValue = s);
if (h.length) for (var _ = 0, l = h.length; _ < l; _++) n(h[_].send) && h[_].send("event", a); else u("send", a);
}
function _(t, i, o, s) {
h = e(p.OLD);
d.push(function() {
for (var e = 0, a = h.length; e < a; e++) if (n(h[e]._trackEvent)) {
r(i, !0) && (i = void 0);
r(s, !0) && (s = void 0);
h[e]._trackEvent(o || f, t, i, s);
}
});
}
function l(t) {
g = t;
}
var d, u, c, h, p = {
OLD: "ga.js",
NEW: "analytics.js"
}, f = "Zopim Livechat", g = !1;
return {
trackEvent: i,
setDisabled: l
};
}();
t.exports = s;
e(s, "meshim_widget_controllers_GoogleAnalytics");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "td";
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_td");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "tr";
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_tr");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "tbody";
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_tbody");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "table";
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_table");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(2), o = i(1), r = i(171), s = r;
r = function(t, e, i, o, a) {
if (!(this instanceof r)) return new r(t, e, i, o, a);
if (!r.__jx__jcss_generated) {
n.generate(this, r.prototype.__jx__fqname, r.__jx__jcss, null, r);
r.__jx__jcss_generated = !0;
}
a || (a = {});
s.call(this, t, e, i, o, a);
};
r.__jx__jcss = {
"**self": {
"width, height": "100%"
}
};
r.prototype = o(s.prototype);
r.prototype.__jx__super = s;
t.exports = r;
e(r, "meshim_widget_widgets_ViewStack");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
t.bindValue(o);
}
function o(t) {
if ("registered" == t || "reattached" == t || "cookie_law" == t) {
_ = !0;
a.flush();
} else _ = !1;
}
function r() {
if (_ && this.queue.length) {
p.root.$("livechat").$("ui").$("mockup$bool").getValue() || l(a.send) && a.send({
__type: "instrumentation",
metrics: this.queue
});
this.queue = [];
}
}
function s() {
var t = [];
t.push("client_country_code:" + f.COUNTRY_CODE);
t.push("browser:" + d.browser);
var e, i;
if (h.isMobileBrowser) {
e = h.isMobileTablet ? "tablet" : "mobile";
i = h.isAndroid ? "android" : h.isIOS ? "ios" : h.isWP ? "wp" : "other";
} else {
e = "desktop";
i = d.isWindows ? "win" : d.isMac ? "mac" : "other";
}
t.push("device:" + e);
t.push("platform:" + i);
t.push("rev:" + u.git_commit);
return t;
}
var a, _, l = i(20), d = i(8), u = i(46), c = i(175), h = i(34), p = i(5), f = i(18);
!function() {
a = new c();
a.setTags(s());
a.bindToConnectionStatus = n;
a.flush = r;
}();
t.exports = a;
e(a, "meshim_widget_controllers_InstrumentationController");
return a;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
if ("prerender" != document.visibilityState) {
document.removeEventListener("visibilitychange", e);
Lt.connect();
}
}
rt = t.isCookieDenied;
st = t.overrideProxy;
at = t.source;
_t = t.lastHost;
lt = t.source_ver;
U = t.activity_window || window;
q = U.document;
G = t.root;
Z = G.$("tmp").$("api_settings");
Q = G.$("tmp").$("server_settings");
J = G.$("livechat").$("settings").$("cached$bool");
Y = G.$("connection");
tt = Y.$("server_retired$bool");
it = Y.$("server_ready$bool");
it.bindValue(a);
tt.bindValue(s);
K = G.$("livechat").$("ui").$("mockup$bool").getValue();
if (K) Y.$("status$string").update("reattached"); else {
G.$("livechat").$("profile").bindValue(r);
Y.$("status$string").bindValue(o);
Y.$("socket_status$string").bindValue(I);
G.bindWrite(P);
Y.$("reconnect$bool").bindValue(g);
if (window.__z_sdk) H = !0; else {
H = !1;
"visibilityState" in document && "prerender" == document.visibilityState ? document.addEventListener("visibilitychange", e) : Lt.connect();
}
}
}
function o(t) {
Tt = "reattached" == t;
if (Tt) {
Y.update({
client_reattached_timestamp$int: +new Date()
});
P();
}
Tt && !1 === H && T();
if ("idle_disconnect" == t || "shutdown" == t || "error" == t) {
var e = G.$("livechat").$("account").$("status$string").getValue(), i = G.$("connection").$("backoff"), n = i.$("active$int").getValue() || 0, o = i.$("max_seconds$int").getValue();
"invalid_account_key" == e ? bt.warnBadEmbed() : "widget_v2" == at && "shutdown" == t && n && o && p(o);
c();
}
I();
}
function r(t) {
t && (rt() || ft.IS_POPOUT || t.mid$string && gt.setIdentity(t.mid$string));
}
function s(t) {
et = !0 === t;
}
function a(t) {
nt = !1 !== t;
if (nt) {
Dt = !1;
_();
}
}
function _() {
for (var t = 0, e = Nt.length; t < e; t++) {
var i = Nt[t];
ut(i) && i();
}
Nt = [];
}
function l(t) {
if (!nt || et) {
Y.update({
server_ready$bool: !1
});
Nt.push(t);
if (!Dt) {
Dt = !0;
X.reconnect();
}
} else t();
}
function d(t) {
X && X.send(t);
}
function u(t) {
for (var e = -1, i = 0; i < kt.length; i++) if (kt[i].socket == t) {
e = i;
break;
}
if (-1 !== e) {
var n = kt[e].expiryTimer;
t.close();
clearTimeout(n);
}
}
function c(t) {
X && u(X);
z = !t;
X = null;
It = "";
}
function h() {
window.clearTimeout(Lt.reconnectTimer);
c(!0);
Lt.connect();
}
function p(t) {
window.clearTimeout(Lt.reconnectTimer);
Lt.reconnectTimer = window.setTimeout(function() {
Lt.reconnect();
}, 1e3 * t);
}
function f() {
Y.update({
status$string: "idle_disconnect"
});
}
function g(t) {
t && h();
}
function m(t) {
var e = dt || new wt(t, "W", null, jt);
e.on("open", function() {
x(t, e);
});
return e;
}
function $() {
var t = b();
try {
ot = At.getGeoAccess(st, t, 3, 2);
} catch (t) {
window.console && window.console.log("Unable to compute host list");
return;
}
w(Ct);
}
function b() {
return _t || Y.$("server$string").getValue() || "";
}
function w(t) {
function e() {
clearTimeout(o);
n.un("close", e);
w(t);
}
if (!X && !z) {
var i = ot.getNextHost();
if (i) {
Et++;
var n = m(i);
kt.push({
socket: n,
expiryTimer: setTimeout(function() {
n != X && n.close();
}, St)
});
if (ot.hasNext()) {
var o = setTimeout(e, t);
n.on("close", e);
}
}
}
}
function x(t, e) {
if (!K) if (X) u(e); else {
Y.update({
socket_open_timestamp$int: +new Date(),
socket_status$string: null,
disconnection_status$string: null
});
It = t;
$t.increment("conn", [ "tries:" + Et ]);
Et = 0;
$t.start("conn_open", e.starttime);
$t.end("conn_open", .25, [ "proxy:" + t ]);
X = e;
X.on("break", y);
X.on("message", v);
X.on("reopen", C);
X.on("resume", j);
X.on("error", function() {
var t = this.connect_attempts, e = this.recv_messages;
if (t > 3 && 0 == e) {
c(!0);
w(Ct);
}
});
A();
}
}
function v(t) {
if (t) {
if (t.raw && t.raw.__messageID in Pt) {
var e = Pt[t.raw.__messageID];
delete Pt[t.raw.__messageID];
e(t);
}
var i = G;
if ("update" in t) {
var n = bt.getValueByReference(t, "livechat.account");
if (n) {
Q.$("account").update(n);
bt.fullyExtend(n, Z.getValue("account"));
}
var o = bt.getValueByReference(t, "livechat.settings");
if (o) {
Q.$("settings").update(o);
bt.fullyExtend(o, Z.getValue("settings"));
}
var r = bt.getValueByReference(t, "livechat.profile.mid$string");
if (r && r !== gt.getIdentity()) {
G.$("livechat").$("channel").update(null);
G.$("livechat").$("profile").update(null);
G.$("livechat").$("ui").$("chat_button").$("unread_count$int").update(0);
}
t.path && (i = i.descend(t.path));
i.update(t.update);
Lt.fire("message", t);
}
}
}
function y() {
Y.update({
socket_status$string: "break"
});
}
function j() {
Y.update({
socket_resume_timestamp$int: +new Date(),
socket_status$string: "resume"
});
}
function C() {
Y.update({
socket_open_timestamp$int: +new Date(),
socket_status$string: "reconnect"
});
Tt = !1;
A();
}
function S() {
var t = gt.getIdentity(), e = rt(), i = G.$("livechat").$("ui").getValue("mobile$bool") ? "mobile" : "desktop", n = G.$("livechat").$("settings").$("theme").getValue("name$string"), o = {
__type: "register",
accountKey: ft.ACCOUNT_KEY,
mID: t,
ua: U.navigator.userAgent,
dt: i,
theme: n,
cookie_law: e,
rev: ct.git_commit,
source: at,
source_ver: lt
};
if (G.$("livechat").$("ui").$("popout$bool").getValue()) o.popout = !0; else {
o.title = q.title;
o.url = U.location.href;
o.ref = U.document.referrer;
}
var r = Lt._register;
if (r) for (var s in r) r.hasOwnProperty(s) && (o[s] = r[s]);
return o;
}
function A() {
if (ft.ACCOUNT_KEY) {
X || Lt.connect();
var t = S();
mt.retrieveIDToken(function(e, i) {
if (e) M(); else {
if (i) {
delete t.mID;
t.idt = i;
}
d(t);
}
});
}
}
function k() {
return !!J.getValue();
}
function I() {
var t = Y.getValue("status$string"), e = Y.getValue("socket_status$string");
window.clearTimeout(B.timer);
if ("error" != t) if ("break" == e) if ("idle_disconnect" == t) Y.update({
message$string: "idle_disconnect"
}); else {
Y.update({
message$string: "reconnecting"
});
B.timer = window.setTimeout(B, 6e4);
} else if (null === e && "registered" == t) Y.update({
message$string: "resuming"
}); else if (ht(t) && ht(e)) {
var i = k() ? "fast_init" : "first_init";
Y.update({
message$string: i
});
} else Y.update({
message$string: null
}); else B.timer = window.setTimeout(B, 5e3);
}
function T() {
X && G.$("livechat").$("profile").write({
disconnect_timeout$int: W(X.rtt)
});
}
function B() {
Y.update({
message$string: "disconnected"
});
}
function N() {
var t = X;
return t ? {
connect_attempts: t.connect_attempts,
connections: t.connections,
disconnects: t.disconnects,
timeout_server: t.timeout_server,
timeout_response_soft: t.timeout_response_soft,
timeout_response_hard: t.timeout_response_hard,
sent_bytes: t.sent_bytes,
recv_bytes: t.recv_bytes,
sent_messages: t.sent_messages,
recv_messages: t.recv_messages,
sent_frames: t.sent_frames,
recv_frames: t.recv_frames,
lost_frames: t.lost_frames,
ooo_frames: t.ooo_frames,
bytes_at_connect: t.bytes_at_connect,
rtt: t.rtt,
clock_skew: t.clock_skew,
reconnect_delay: t.reconnect_delay,
quality: t.quality,
host: t.host,
status: t.status,
zone: window.__$__GEO,
last_frame_time: t.last_frame_time,
local_time: +new Date()
} : {
status: "not connected"
};
}
function D() {
return It;
}
function E() {
return +new Date() - (X ? X.clock_skew : 0);
}
function O(t) {
Ot += 1;
Pt[Ot] = t;
return Ot;
}
function P(t) {
if (t) {
var e = {};
e.path = t.path;
e.value = t.value;
ut(t.func) && (e.__messageID = O(t.func));
Bt.push(e);
}
if (X && Tt) for (;Bt.length; ) X.send(Bt.shift());
}
function L(t) {
return t ? Q.getValue(t) : Q.getValue();
}
function W(t) {
var e, i, n = 10 * yt.SECOND, o = 1 * yt.SECOND, r = 120 * yt.SECOND, s = 20 * yt.SECOND;
t = Math.round(t) || 0;
t = Math.max(o, Math.min(t, n));
e = (t - o) / (n - o);
i = s + function(t) {
return t;
}(e) * (r - s);
return Math.floor(i / 1e3);
}
function R(t) {
dt = t;
}
function F() {
V();
}
function M() {
Y.update({
disconnection_status$string: "disconnecting"
});
c();
kt.forEach(function(t) {
u(t.socket);
t.socket.fire("close");
});
B.timer = clearTimeout(B.timer);
Y.update({
disconnection_status$string: "disconnected"
});
}
function V() {
it.unbindValue(a);
tt.unbindValue(s);
G.$("livechat").$("profile").unbindValue(r);
Y.$("status$string").unbindValue(o);
Y.$("socket_status$string").unbindValue(I);
Y.$("reconnect$bool").unbindValue(g);
M();
kt = [], It = "", Tt = !1, Bt = [], Nt = [], Dt = !1, Et = 0, Ot = 0, Pt = {}, H = z = G = Y = X = K = Z = Q = J = tt = et = it = nt = ot = rt = st = at = _t = lt = dt = null;
}
var H, z, U, q, G, Y, X, K, Z, Q, J, tt, et, it, nt, ot, rt, st, at, _t, lt, dt, ut = i(20), ct = i(46), ht = i(26), pt = i(14), ft = i(18), gt = i(112), mt = i(45), $t = i(56), bt = i(10), wt = i(375), xt = i(370), vt = i(369), yt = i(174), jt = {
FLUSH_DELAY_MS: 0,
RECONNECT_DELAY_MS: 1e4
}, Ct = 3e3, St = 6e4, At = new vt(xt, '{"CLUSTERS":{"US":["us08","us10","us12","us14","us16","us18","us20","us22","us24","us26","us28","us30","us32","us34","us36","us38","us40","us42","us44","us46"],"DE":["de04","de06","de08","de10","de12","ie02","ie04","ie06","ie08","ie10","ie12","ie14","ie16","de14","de16","de18","de20","ie18","ie20","ie22","ie24","de22","de24","de26","de28"],"SG":["sg06","sg08","sg10","sg12","sg14","sg16","sg18","sg20"],"JP":["jp02","jp04","jp06","jp08"],"AU":["au02","au04"],"BR":["br02","br04","br06","br08","br10","br12"]},"FALLBACKS":{"US":["DE"],"DE":["US"],"SG":["US"],"JP":["US"],"AU":["SG","US"],"BR":["US"]},"NEAR_MAP":{"AL":"DE","AD":"DE","AM":"DE","AT":"DE","BY":"DE","BE":"DE","BA":"DE","BG":"DE","CH":"DE","CY":"DE","CZ":"DE","DE":"DE","DK":"DE","EE":"DE","ES":"DE","EU":"DE","FO":"DE","FI":"DE","FR":"DE","GB":"DE","GE":"DE","GI":"DE","GR":"DE","HU":"DE","HR":"DE","IE":"DE","IM":"DE","IS":"DE","IT":"DE","LT":"DE","LU":"DE","LV":"DE","MC":"DE","MK":"DE","MT":"DE","NO":"DE","NL":"DE","PK":"DE","PO":"DE","PT":"DE","RO":"DE","SA":"DE","SE":"DE","SI":"DE","SK":"DE","SM":"DE","TR":"DE","UA":"DE","VA":"DE","ZA":"DE","NG":"DE","MA":"DE","AP":"SG","BD":"SG","BN":"SG","CN":"SG","ID":"SG","IN":"SG","LA":"SG","KH":"SG","LK":"SG","MM":"SG","MY":"SG","SG":"SG","TH":"SG","VN":"SG","AU":"AU","NZ":"AU","HK":"JP","KR":"JP","JP":"JP","PH":"US","RU":"JP","TW":"JP","AR":"BR","BO":"BR","BR":"BR","CL":"BR","PE":"BR","PY":"BR","UY":"BR","DEFAULT":"US"}}'), kt = [], It = "", Tt = !1, Bt = [], Nt = [], Dt = !1, Et = 0, Ot = 0, Pt = {}, Lt = pt.extend({
init: n,
send: d,
connect: $,
reconnect: h,
clientDisconnect: M,
destroy: V,
disconnect: f,
getConnectionStats: N,
getHost: D,
getServerTime: E,
getServerSettings: L,
reconnectIfServerRetired: l,
registerCallback: O,
getDCTimeoutValue: W,
setSocket: R,
reset: F
});
t.exports = Lt;
e(Lt, "meshim_widget_controllers_ConnectionController");
return Lt;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
return '"' + t.replace(u, o) + '"';
}
function o(t) {
return c[t] || "\\u" + ("0000" + t.charCodeAt(0).toString(16)).slice(-4);
}
function r(t) {
switch (typeof t) {
case "string":
return n(t);

case "number":
return isFinite(t) ? t.toString() : "null";

case "boolean":
return String(t);

case "object":
if (!t) return "null";
var e, i, o = [];
if (l(t)) {
for (e = 0, i = t.length; e < i; e++) o[e] = r(t[e]) || "null";
return "[" + o.join(",") + "]";
}
var s, a, _ = [];
for (s in t) t.hasOwnProperty(s) && _.push(s);
_.sort();
for (e = 0, i = _.length; e < i; e++) {
s = _[e];
a = r(t[s]);
a && o.push(n(s) + ":" + a);
}
if (o.length) return "{" + o.join(",") + "}";
}
}
function s(t, e, i) {
return e ? f[e] : String.fromCharCode(parseInt(i, 16));
}
function a(t) {
var e, i, n, o, r, a = t.match(h), _ = a.length, l = a[0];
"{" == l ? (e = {}, r = 1) : "[" == l ? (e = [], r = 1) : (e = [], r = 0, i = !0);
var d = [ e ];
for (_ = a.length; r < _; ++r) {
l = a[r];
switch (l.charCodeAt(0)) {
case 91:
o = d[0];
d.unshift(o[n || o.length] = []);
n = void 0;
break;

case 93:
d.shift();
break;

case 123:
o = d[0];
d.unshift(o[n || o.length] = {});
n = void 0;
break;

case 125:
d.shift();
break;

case 102:
o = d[0];
o[n || o.length] = !1;
n = void 0;
break;

case 110:
o = d[0];
o[n || o.length] = null;
n = void 0;
break;

case 116:
o = d[0];
o[n || o.length] = !0;
n = void 0;
break;

case 34:
l = l.substring(1, l.length - 1);
-1 !== l.indexOf(m) && (l = l.replace(p, s));
o = d[0];
if (void 0 == n) {
if (!(o instanceof Array)) {
n = l || g;
break;
}
n = o.length;
}
o[n] = l;
n = void 0;
break;

default:
o = d[0];
o[n || o.length] = +l;
n = void 0;
}
}
if (i) {
if (1 == d.length) return e[0];
} else if (!d.length) return e;
throw "error";
}
var _ = i(26), l = i(22), d = (i(24), !_(window) && window.JSON || {
parse: a,
stringify: r
});
d = {
parse: a,
stringify: r
};
var u = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, c = {
"\b": "\\b",
"\t": "\\t",
"\n": "\\n",
"\f": "\\f",
"\r": "\\r",
"\\": "\\\\",
'"': '\\"'
}, h = new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))', "g"), p = new RegExp("\\\\(?:([^u])|u(.{4}))", "g"), f = {
'"': '"',
"/": "/",
"\\": "\\",
b: "\b",
f: "\f",
n: "\n",
r: "\r",
t: "\t"
}, g = new String(""), m = "\\";
t.exports = d;
e(d, "jx_data_JSON");
return d;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = "[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+([a-z0-9][a-z0-9-]*[a-z0-9])", n = "(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)", o = {
email: new RegExp("^" + i + "$", "i"),
ip_token: new RegExp("^" + n + "$"),
ip: new RegExp("^(?:" + n + "\\.){3}" + n + "$"),
tld: /^(AERO|ARPA|ASIA|A[CDEFGILMNOQRSTUWXZ]|BIZ|B[ABDEFGHIJMNORSTVWYZ]|CAT|COM|COOP|C[ACDFGHIKLMNORUVXYZ]|D[EJKMOZ]|EDU|E[CEGRSTU]|F[IJKMOR]|GOV|G[ABDEFGHILMNPQRSTUWY]|H[KMNRTU]|INFO|INT|I[DELMNOQRST]|JOBS|J[EMOP]|K[EGHIMNPRWYZ]|L[ABCIKRSTUVY]||MIL|MOBI|MUSEUM|M[ACDEGHKLMNOPQRSTUVWXYZ]|NAME|NET|N[ACEFGILOPRUZ]|ORG|OM|PRO|P[AEFGHKLMNRSTWY]|QA|R[EOSUW]|S[ABCDEGHIJKLMNORTUVYZ]|TEL|TRAVEL|T[CDFGHJKLMNOPRTVWZ]|U[AGKSYZ]|V[ACEGINU]|W[FS]|XN|Y[ET]|Z[AMW])$/i,
search: {
email: new RegExp(i, "ig"),
email_lws: new RegExp("(^|\\s+)" + i, "ig"),
hurl: /(^|\s+)(?:(?:https?|ftps?):\/\/)(?:\S+)/gi,
url: /(^|\s+)(?:[\w-]+\.)+(\w{2,})(?::[0-9]+)?(?:\/\S*)?/g,
phone_number: /(?:^|\s+)(?:(?:\+?\d{1,3}|\(\d{1,3}\))([-.\s])?)?\d{3,10}(?:([-.\s])\d{3,10})?/gi
},
escape: function(t) {
return t.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
};
t.exports = o;
e(o, "meshim_common_Regex");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
if (!t._vmlstyled) {
var i = t.createElement("style");
i.setAttribute("type", "text/css");
i.styleSheet.cssText = "v\\:*{behavior:url(#default#VML); display: inline-block;} .vml{behavior:url(#default#VML); display: inline-block;}";
t.getElementsByTagName("head")[0].appendChild(i);
i = null;
t._vmlstyled = !0;
}
return t.createElement("<" + e + ' xmlns="urn:schemas-microsoft.com:vml">');
}
function o(t) {
var e = t.split(/\s+/);
if (4 !== e.length) throw "bad viewBox: " + t;
for (var i = 0; i < 4; i++) {
e[i] = parseInt(e[i], 10);
if (isNaN(e[i])) throw "bad viewBox: " + t;
}
return {
x: e[0],
y: e[1],
width: e[2],
height: e[3]
};
}
function r(t) {
var e = t.split(" ");
return {
offsetX: parseInt(e[0], 10),
offsetY: parseInt(e[1], 10),
blurRadius: parseInt(e[2], 10),
color: e[3],
opacity: parseFloat(e[4]),
rgba: "rgba(" + C(e[3]).toArray().join(",") + "," + e[4] + ")"
};
}
function s(t) {
var e = /from\(([^)]+\){0,1})\)/.exec(t), i = /to\(([^)]+\){0,1})\)/.exec(t), n = [];
e && n.push({
stop: "0%",
color: new C(e[1])
});
t.replace(/color-stop\(([^)]+\){0,1})\)/g, function(t, e) {
e = a(e);
n.push({
stop: e.substring(0, e.indexOf(" ")),
color: new C(e.substring(e.indexOf(" ")))
});
});
i && n.push({
stop: "100%",
color: new C(i[1])
});
return n;
}
function a(t) {
return t.replace(/[,\s]+/g, " ").trim();
}
function _(t, e) {
function i(t, e, i, n) {
for (var o = 0; o < arguments.length; o++) arguments[o] = parseFloat(arguments[o]);
var r = (n - e) / (i - t);
return Math.round(270 - 180 * Math.atan(r) / Math.PI);
}
e = a(e);
var n, o, r, _ = e.split(" "), l = [];
_.shift();
switch (_[0]) {
case "left":
_.shift();
n = "270";
break;

case "top":
_.shift();
n = "180";
break;

case "right":
_.shift();
n = "90";
break;

case "bottom":
_.shift();
n = "0";
break;

default:
n = i.apply(null, _.splice(0, 4));
}
o = s(e);
for (var d = 0, u = o.length; d < u; d++) {
r = o[d];
l.push(r.stop + " " + r.color.toStrRGB());
}
var c = j.createVMLNode(t, "fill");
c.className = "vml";
c.setAttribute("on", "true");
c.setAttribute("type", "gradient");
c.setAttribute("angle", n);
c.setAttribute("colors", l.join(","));
c.setAttribute("method", "sigma");
r && 1 !== r.color.alpha && c.setAttribute("opacity", r.color.alpha);
return c;
}
function l(t, e) {
e = a(e);
var i, n = e.split(" ");
n.shift();
switch (n[0]) {
case "left":
n.shift();
i = "0% 0% 100% 0%".split(" ");
break;

case "top":
n.shift();
i = "0% 0% 0% 100%".split(" ");
break;

case "right":
n.shift();
i = "100% 0% 0% 0%".split(" ");
break;

case "bottom":
n.shift();
i = "0% 100% 0% 0%".split(" ");
break;

default:
i = n.splice(0, 4);
}
var o = t.createElementNS("http://www.w3.org/2000/svg", "linearGradient"), r = "grad_" + new Date().getTime() + Math.round(1001 * Math.random());
o.setAttribute("id", r);
o.setAttribute("x1", i[0]);
o.setAttribute("y1", i[1]);
o.setAttribute("x2", i[2]);
o.setAttribute("y2", i[3]);
o.setAttribute("gradientUnits", "objectBoundingBox");
for (var _, l, d = s(e), u = 0; u < d.length; u++) {
l = d[u];
l.stop.indexOf("%") > -1 ? l.stop = parseFloat(l.stop) / 100 : l.stop = parseFloat(l.stop);
_ = t.createElementNS("http://www.w3.org/2000/svg", "stop");
_.setAttribute("offset", l.stop);
_.setAttribute("stop-color", l.color.toStrRGB());
_.setAttribute("stop-opacity", l.color.alpha);
o.appendChild(_);
}
return o;
}
function d(t) {
function e(t) {
for (var e = t.length; e--; ) t[e] += a[e % 2];
n(t);
return t;
}
function i(t, e) {
_.push({
command: S[t],
coords: e
});
}
function n(t) {
if (2 == t.length) {
h.x.push(t[0]);
h.y.push(t[1]);
} else {
if (6 != t.length) throw "problem with updateBBox";
var e = o(a.concat(t));
h.x.push(e.minX, e.maxX);
h.y.push(e.minY, e.maxY);
}
}
function o(t) {
var e = t[0], i = t[1], n = t[2], o = t[3], s = t[4], a = t[5], _ = t[6], l = t[7], d = [ e, _ ].concat(r(e, n, s, _)), u = [ i, l ].concat(r(i, o, a, l));
return {
minX: Math.min.apply(null, d),
minY: Math.min.apply(null, u),
maxX: Math.max.apply(null, d),
maxY: Math.max.apply(null, u)
};
}
function r(t, e, i, n) {
var o, r, s, a = [], _ = [];
if (t - 3 * e + 3 * i - n != 0) {
r = (Math.sqrt(-t * i + t * n + e * e - e * i - e * n + i * i) - t + 2 * e - i) / (3 * e - t - 3 * i + n);
s = (-Math.sqrt(-t * i + t * n + e * e - e * i - e * n + i * i) - t + 2 * e - i) / (3 * e - t - 3 * i + n);
a.push(r, s);
} else if (t - 3 * e + 3 * i - n == 0 && t - 2 * e + i !== 0) {
o = (t - e) / (2 * (t - 2 * e + i));
a.push(o);
}
for (var l = 0; l < a.length; l++) {
o = a[l];
o < 0 || o > 1 || _.push(Math.pow(1 - o, 3) * t + 3 * (1 - o) * (1 - o) * o * e + 3 * (1 - o) * o * o * i + o * o * o * n);
}
return _;
}
t = t.replace(/[A-Za-z]/g, " $& ").replace(/,/g, " ").replace(/-/g, " -").replace(/\s+/g, " ").trim();
for (var s = t.split(" "), a = [ 0, 0 ], _ = [ {
command: "beginPath"
} ], l = 0, d = s.length; l < d; l++) if (!/^[A-Za-z]/.test(s[l])) {
s[l] = parseFloat(s[l]);
if (isNaN(s[l])) throw new window.Error("Bad path after " + s.slice(0, l).join(" "));
}
for (var u, c = [], h = {
x: [],
y: []
}; s.length; ) {
/^[a-z]$/i.test(s[0]) && (u = s.shift());
switch (u) {
case "M":
c = s.splice(0, 2);
n(c);
i("M", c);
a = c;
break;

case "m":
c = e(s.splice(0, 2));
i("M", c);
a = c;
break;

case "Z":
case "z":
i("Z", []);
break;

case "l":
c = e(s.splice(0, 2));
i("L", c);
a = c;
break;

case "L":
c = s.splice(0, 2);
n(c);
i("L", c);
a = c;
break;

case "c":
c = e(s.splice(0, 6));
i("C", c);
a = [ c[4], c[5] ];
break;

default:
throw new window.Error("Unknown canvas command: " + u);
}
}
var p = function(t) {
for (var e = 0, i = _.length; e < i; e++) {
var n = _[e];
t[n.command].apply(t, n.coords);
}
};
p.bBox = {
minX: Math.min.apply(null, h.x),
minY: Math.min.apply(null, h.y),
maxX: Math.max.apply(null, h.x),
maxY: Math.max.apply(null, h.y)
};
return p;
}
function u(t) {
function e(t, n) {
t = new t.constructor(t, i);
t.id && !n && y.set(t.id, t);
t.attributes && t.setAttributes(t.attributes);
if (t.childrens) for (var o = 0, r = t.childrens.length; o < r; o++) t.childrens[o] = e(t.childrens[o]);
return t;
}
var i = new c(t);
v.extend(i);
e(i, "ignore-id");
return i;
}
function c(t, e) {
t || (t = {});
this.id = t.id;
e && (this.root = e);
this.attributes = t.attributes;
this.childrens = t.childrens;
}
function h(t) {
return t.replace(/^\w/, function(t) {
return t.toUpperCase();
});
}
function p(t, e) {
switch (t) {
case "viewBox":
return o(e);

case "path":
return d(e);

case "fill":
return f(e);

case "shadow":
return r(e);

default:
return e;
}
}
function f(t) {
t = a(t);
return /linear/.test(t) ? function(e, i) {
return g(t, e, i);
} : function() {
return t;
};
}
function g(t, e, i) {
t = t.replace(/,/g, " ").replace(/\s+/g, " ");
var n, o = t.split(" ");
o.shift();
switch (o.shift()) {
case "left":
n = e.createLinearGradient(i.minX, i.minY, i.maxX, i.minY);
break;

case "top":
n = e.createLinearGradient(i.minX, i.minY, i.minX, i.maxY);
break;

case "right":
n = e.createLinearGradient(i.maxX, i.minY, i.minX, i.minY);
break;

case "bottom":
n = e.createLinearGradient(i.minX, i.maxY, i.minX, i.minY);
}
for (var r, a = s(t), _ = 0; _ < a.length; _++) {
r = a[_];
r.stop.indexOf("%") > -1 ? r.stop = parseFloat(r.stop) / 100 : r.stop = parseFloat(r.stop);
n.addColorStop(r.stop, r.color.toStrRGBA());
}
return n;
}
function m(t) {
var e = $(t);
if (t.border) {
var i = {}, n = t.border;
for (var o in t) t.hasOwnProperty(o) && (i[o] = t[o]);
i.x += n;
i.y += n;
i.width -= 2 * n;
i.height -= 2 * n;
i.rx && (i.rx = Math.max(i.rx - n, 1));
i.ry && (i.ry = Math.max(i.ry - n, 1));
e += $(i, "CCW");
}
return e;
}
function $(t, e) {
var i = t.rx, n = t.ry, o = t.width, r = t.height, s = t.x, a = t.y, _ = Math.round(a + r / 2), l = "";
if (i || n) {
var d = .5522848 * i, u = .5522848 * n, c = o - 2 * i, h = r - 2 * n;
l = e ? w("M", s + o, a + n) + (t.corner2 ? b(-i, -n, d, u, 1) : w("l", 0, -n, -i, 0)) + w("l", -c, 0) + (t.corner1 ? b(-i, n, d, u, 1) : w("l", -i, 0, 0, n)) + w("l", 0, h) + (t.corner4 ? b(i, n, d, u, 1) : w("l", 0, n, i, 0)) + w("l", c, 0) + (t.corner3 ? b(i, -n, d, u, 1) : w("l", i, 0, 0, -n)) + "z" : w("M", s, a + n) + (t.corner1 ? b(i, -n, d, u) : w("l", 0, -n, i, 0)) + w("l", c, 0) + (t.corner2 ? b(i, n, d, u) : w("l", i, 0, 0, n)) + w("l", 0, h) + (t.corner3 ? b(-i, n, d, u) : w("l", 0, n, -i, 0)) + w("l", -c, 0) + (t.corner4 ? b(-i, -n, d, u) : w("l", -i, 0, 0, -n)) + "z";
} else {
e && (r = -r);
l = w("M", s, _) + w("l", 0, e ? a - r - _ : a - _) + w("l", o, 0) + w("l", 0, r) + w("l", -o, 0) + "z";
}
return l;
}
function b(t, e, i, n, o) {
var r = t > 0 ? 1 : -1, s = e > 0 ? 1 : -1, a = o ? -r * s : r * s;
return w("c", 1 == a ? r * i : 0, 1 == a ? 0 : s * n, 1 == a ? t : t - r * i, 1 == a ? e - s * n : e, t, e);
}
function w(t) {
var e = " ", i = Array.prototype.slice.apply(arguments);
if ("string" == typeof i[0] && /^[A-Za-z]$/.test(i[0])) {
e += t;
i.shift();
}
for (var n = 0, o = i.length; n < o; n++) e += Math.round(i[n]) + " ";
return e;
}
var x = i(8), v = (i(7), i(14)), y = i(3), j = {
parseViewBox: o,
parseShadow: r,
detectedGraphicType: function() {
var t = document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1");
return document.createElement("canvas").getContext ? "canvas" : document.createElementNS && t ? "svg" : x.isIE ? "vml" : "none";
}(),
getGradColors: s,
parseCanvasData: u,
CanvasData: c,
generateVmlLinearGradient: _,
generateSvgLinearGradient: l,
generateCanvasGradient: g,
generate_drawing_function: d,
generateRectPath: m,
createVMLNode: n
}, C = i(119), S = {
M: "moveTo",
L: "lineTo",
C: "bezierCurveTo",
Z: "closePath"
};
c.prototype.setAttribute = function(t, e) {
this.attributes[t] = p(t, e);
this.refresh();
return this;
};
c.prototype.setAttributes = function(t) {
for (var e in t) if (t.hasOwnProperty(e)) {
var i = "set" + h(e);
"function" == typeof this[i] && this[i](t[e]);
}
};
c.prototype.refresh = function() {
this.root ? this.root.fire("update") : this.fire("update");
return this;
};
c.prototype.getAttribute = function(t) {
return this.attributes[t];
};
c.prototype.destroy = function() {
this.id && y.unset(this);
this.root = null;
var t = this.childrens;
if (t) for (var e = 0, i = t.length; e < i; e++) t[e] instanceof c && t[e].destroy();
};
for (var A = "opacity fill stroke strokeWidth d path shadow viewBox".split(" "), k = 0; k < A.length; k++) {
var I = A[k];
c.prototype["set" + h(I)] = function(t) {
return function(e) {
return this.setAttribute(t, e);
};
}(I);
}
t.exports = j;
e(j, "meshim_common_Graphic");
return j;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, a) {
if (!(this instanceof n)) return new n(t, e, i, o, a);
s.call(this, t, e, i, o, a);
this.setBase64(r);
this.setFont("zopim");
}
var o = i(1), r = {
woff: "d09GRgABAAAAADIsABEAAAAAR7AAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAyCAAAABsAAAAcgsGZ0EdERUYAADHsAAAAHAAAAB4AJwA9T1MvMgAAAfAAAABAAAAAVldBZERjbWFwAAACpAAAASsAAAL6l/mEk2N2dCAAAAW0AAAACgAAAAoAkwCIZnBnbQAAA9AAAAGxAAACZVO0L6dnYXNwAAAx5AAAAAgAAAAIAAAAEGdseWYAAAYwAAApagAAOdxpm0wGaGVhZAAAAYAAAAAwAAAANi00RRtoaGVhAAABsAAAAB4AAAAkI2YeimhtdHgAAAIwAAAAcQAAAMTrWAZ/bG9jYQAABcAAAABwAAAAcCcBNHJtYXhwAAAB0AAAACAAAAAgAWQDPG5hbWUAAC+cAAABWgAAAmfHg21lcG9zdAAAMPgAAADpAAACWlRkBd5wcmVwAAAFhAAAAC4AAAAusPIrFHdlYmYAADIkAAAABgAAAAbQTVsoeNpjYGRgYADi2bdWvoznt/nKIM/CAALX/Rq8oPTp/3/+c8pngMU5GJhAFABxFQzDeNpjYGRgYGH495WBQT7z/x8gmcEAFEEB2gCAnwUvAAAAAQAAADcBmwAVAAAAAAACAAEAAgAWAAABAAGdAAAAAHjaY2BkDWacwMDKwMLUyXSGgYGhH0IzvmYwYuRgYGBiYGVmwAoC0lxTGBwYFP//ZwHzWRgYuYEUI4gNAMzvCTl42mNhgADGUAYGFgYGHiAG0cxAfJyF4f9/IH0EKlYMxBVQtgSIZvwCZusA1f2BiP//C6RToWrUgTgaiNWAOIonlyGCw44hAiqHhMF2cAHxN6iYjeAjiDrWHgYB4QYGBvlMsDgTGDJC3cvGAAcAMWMTtwAAAHjazdDNSsNAFAXgM2mqUDVqW0uXnWKSRUXq76KPICi+igo+R6GL2l0fwDeoS9cupREMwU3ovu6C48nccSOI4MqBb87MMCFzL4AqgArtUY0eoThDLXmq7HnFnfu4Y3bR4cqDRg8zPdJjPdG5XnTrYRENomkcxM24lbWN4V25M/zhDowxbyYxZ+ltepNep2G6+1q8NJLn5Crx52b+0dmRt/wy1u17+27Xtv8VZV09x6eZw5r1kEZcrzDHoqxTTwTWmLko/6AXAhtsQV0gAMJCYBOIBgJbzKnANhAHAvwmbgo0mC0B7jNGVr6dNS/P6YLrfea9BfSZTxZwwMwt4BDqfdUCjpg1CzhmXlrACfPBAk7ZK9b81VjlcfK+dVS53snw8Y9H9Y/ffQIcXVxYAHjaXVG7TltBEN0NDwOBxNggOdoUs5mQxnuhBQnE1Y1iZDuF5QhpN3KRi3EBH0CBRA3arxmgoaRImwYhF0h8Qj4hEjNriKI0Ozuzc86ZM0vKkap36WvPU+ckkMLdBs02/U5ItbMA96Tr642MtIMHWmxm9Mp1+/4LBpvRlDtqAOU9bykPGU07gVq0p/7R/AqG+/wf8zsYtDTT9NQ6CekhBOabcUuD7xnNussP+oLV4WIwMKSYpuIuP6ZS/rc052rLsLWR0byDMxH5yTRAU2ttBJr+1CHV83EUS5DLprE2mJiy/iQTwYXJdFVTtcz42sFdsrPoYIMqzYEH2MNWeQweDg8mFNK3JMosDRH2YqvECBGTHAo55dzJ/qRA+UgSxrxJSjvjhrUGxpHXwKA2T7P/PJtNbW8dwvhZHMF3vxlLOvjIhtoYEWI7YimACURCRlX5hhrPvSwG5FL7z0CUgOXxj3+dCLTu2EQ8l7V1DjFWCHp+29zyy4q7VrnOi0J3b6pqqNIpzftezr7HA54eC8NBY8Gbz/v+SoH6PCyuNGgOBEN6N3r/orXqiKu8Fz6yJ9O/sVoAAAC4Af+FsAGNAEuwCFBYsQEBjlmxRgYrWCGwEFlLsBRSWCGwgFkdsAYrXFhZsBQrAAAAAAA9AFsASwA4AAAAAAAqACoAKgB2AI4AogDKAO4BEgE2AVABagGUAcoB4AHoAs4DDgNCA3YDsgP0BIgE7gV8Bd4HEgigCV4JqAosC1QMKAyWDNQN8A6+EP4RqhIkE1YVMBWkFjQWpBdEGHYZkBnCGkYagBr0G+YchBzueNqNewl4HMd1Zlf3zPTc091z9Nz39AzmBHqOnsE1AAiCuAiCJAiCNymK933osESKUkTJpC1Zki3HtuQr+RTZsZykBrRkr+xs6GzWtjaZT/E6y00+R7ZjJ458RhsrkuUVhvuqZwBBtJINMOipru6urnrvf6/+96pAMRTF/C3FMa9SeoqnfBTFOVxypSTForpSpSi7HLqoUizHysnuAHJodVotw2g05E9HaxjE/AhqdFqTDs41OqRF8IEGKTPlZb7P/JyyU34qTOUprClgXxOLBRxoIhwpYOoGlLBDxgGuEUYZ7JaxodmIogzV3aM4gqgYkQdRmS/lUSwStSInVaqQvsSiDF/kzZFqlH4lUovAZykWrUbQ1epsrZZKVb/+ZKQagQ/9vfb30nGon60iAX2kdYKCrt1sMa8yP6ZMFMVHoKVIOcLH+Ah6/Fvo8dbpb7VOow/BX/uMgvsZys38DfMTSktRigHZLYhhvv124ffQp1u3udGP0C9b28eL5L5vQrtRaNdOUYJDRESCSQOCA/Rfx6JvBtCHA3N9wdYLaCwQsCUdqUDrHB2cC7ROBvo2B9EkVM8FbDYE1RS0d/Mm9Qrzz0wVNELRJQVVZGiTjB4a1UVRED0Kt0OTfV1paLP1YmAO+aHi0WCwdSq4uS+AplovBkm//gL6FYJ+QTtKCUYgldpNsdCM9Bft+/qhA490ntyfDpDOkDZa54KbSWUfaYeivg9y6yXtcOr4oE8EIyw0GX2P7tC/gWfPBVYPm4yLOkedYU4zZykjRQ0iBSUjfBJZ0TlDBF16jR79+9ajkRk8H0FHfrj0x6+3HoxoyTN3U+eZO5jz5BmFF9EgcoFExbv/Hp2LzNT10dYDr52nN72OLkY0g/PR1sf+AUQG70pBfz8LmBYpqq1jPuYQdK4+BFovyhUJJMm8evrtN099XhcMPfu9zwVDOlfrpdZLKXS59TPk/HN0JOZo/RREFXMhpfUS9MN980fMt5mXoUWBQthdwNob2NxseFTMCtIgCiGeoNTJK5Uggj5aURJFDN0zoX9QZpQfhWYKpnDrCff6UOtRpMwMGD2YPplUlOTSU18QTfX17tYvggY3iqtyotCHmFfpecCfQGGqgBmwGk2hoVXfRVDLvPq2G33oW23drPz0UIDULOj8axoKbFmhhqgJahP1HQqbCzjXxKMFPNHE6wu4XsQbm7hXxtECFqHtzapF+pvYzzVqYI4DTTzANaagtKGJN3CNJJSEZmMOvireF+v4rT+mnBmjFWs4zFxvyOgtXLxOXWM0cjEPP2ilhIe8qFHz8wLW1/AA/4IYMXYXhtfExRqeEhZz5tFarYY38Iuu6BiUqEbODLcaa3iUb3SX4dKE0Kjw8L2ev+ZPUsPkuY0CFmrdPXaHS2R0QSTXkasoKxUFjE1KSlFWx+rEEjmXRZfocjpIBRiOZENKBcyxoqoIvBoLz1aUSDRWWXZ42e6cFxmsgv6/Tq6/cPRQf73ef+jor0lhoFLavvPGzu2lCikcm1xns3zUifTp3CtxOR6X9YZNxzYZWj+hNd8g5x4PXZ38UF/rN3rOoHu/D1o59ubRQwODgwOHjl44ttLKsZ3byhW/znjkZbOxfN/7irGY1xM/VV67tvTNYjxejIEfvfk26PKnzGXKCqjzUV5qEfSaAY1hgfhThP2FRkDFhNRxmUmUJ9DTqO6S1UWZIhPTsAMyw8j9rKd1yTO6xtu6hL4QrAZtNiV4jt94bjKTmczQn8yEQpml21nFHyjbOPQvrb8kfpy6ucT8nPkeWJSO8lCUM4HAiSQVkcgXxAkCZ1WJs+hQ640iMqB/ei39Swtn4nR6oylaHPAFXC7OyuxEhp7WW+g3v0z9wmZ3BPzxiBQtIpPeajRTqr9bop6C9xyAEVL0IO0KIWLmompFNmJHUgEhiTFI1T5A67PiQK/DaXaIrbhJy+c8cbem9TORlqqSwaledpgdzr5+uGzQcyatxq1FDrf6HuoA+J8HmUcpEG5FqtQRAEJ9HUELvM2G1HfqogXEWpF0zmp1fPe7DoslVS5DITgfdLRr4AgnUCiXn1UvQSFlsZB7go7lCkcwqD5Mrcw7P4DxhahFD9Ghvblo9xgz14bsjCGDsK/Q8LeNu0SFYfgEu+/8KtCnMIVS6JNPalqv6VijFbywLxhNdOV6yvaLT7b2t/4O/fR/o9Djmtb3WIPBYrZZbCYzq0e0/tn3PYZCRJdJKs58i/k3mI+zVJV6gMI6Yvs4XsCVIk43cbeMcK3jB65F/JQ+gyXVIeTA6kvNa3wpB1Xg8XpRphGhwFBDNezncbCGJaERS4OZ5sCSRR2xaV5o9FTgu8RjWw2bBWwF646LvHCNMluDYMfEgsnQ2rZbLklRXdtWowRV6rmdGOYAUi9pywTRQEFg3koODx45ceHiiSMDQz7JV5Tntn5r65xc8iZ9pcp0BT7075TJd5mm7jt9bGjNcP3oyfsdPp/j0MJ8sVQubd1+0O52o4xULks71cPO5SKR0w4qwXyEeYOyga4y4D+xi7AWzBRwVxGGj2Mgp6wqJ07GbBOzbQaTbBJBNVgimEANh/mG0wUCSAoNnx9cm+qx+lB7QBkEQ2qPvz38ZKSbRauGuKOSQKRPKFFhqpVde763d6dSpd/+a0TfB+OC0TF1qVKRdiYqlUSr68ze3Uqtpuzed9qsQefUyp1wGcYiwVi+ybwJOu+m+qmTFDapPAx03lskE0IJxjKgjkULOtcSnaeaWMs1emBE1eY1rtoDVc5mY3BZ53QNa3nM1Bo9KV5YNJp8RNsc3yj3wneV+Gbs5LG9pvI40F95tS9Wz4l+Y6rXuFUiq5UsgTqLPXNbXyKqBTUP1UHn9x0/MlgvgVhU2UjlZUXP2X0++6FtHe0esrs9wqXTx4dGQPOn6OOqpFbrGUQDstlOSaDnN4EL+sA2QM8W1R5Az4kikFEcAtmkVNmYZRAPkQqYKI41G10gDC0RhoUYQMMlwtBjQoPnlvW8Alu7GOkuK+/MTKt1vL2jScT0IKLj7+/ZVakS/RIIM0Mr6Hz7YxatfkXF9KfeAaueWrhpMJ9gWpSBcoBPK1Ej1GZqK3UPoqlF8HeZa6mFg2fiYpHAdEheFIjj8TTxnYVFunasWCziXc2GZp8s4+4mLsp4F4ct4Rt8Y+duuBSB6eXeAjbewK4mdnFknsG2JrZxjTiUEs2GXIYHE1yjH06zTZzlGgtQuqeJt8v4Hq5xFk7ONPEZrnEISgebjQsgtYALQGMxCwCaRn8CnESqG0oLWfALaybmtoBfaJy9BwS7q4bP8HhPDR8S8D7wHJQAlXM17OEXkbSFPH0nywsvGG1OVyDbTx7bFYFznTy/dduOPap7EcsIeJITRZz2UiVMpvxYVKo42h6HoBAwiIr86tNyzF5Wgx7iieBu5FDNUwfqg6mCeCSFjwGBdMI9IvkDrhfj1ViJ1a0UnfwCcrdeR99u/QK5R59B6JnPPHz16ccD8bkTPpMvMTeVRG9f3bn27rHByam7tlWvXt2ZmJzL52dDc+gPj3yklGNHCqJJnKRLHzly4soVxD88v2/H8I5jB0cmr9SVrjGb4cpArbKJ2Y8Ove+21lP3osj9zz13/8PPPvO/Ppnp3xkrb8gMKEsnUCS7d/7i+2Y3bNnSevSx6Ojc1KZ8rpf+8MTBYqbP4LXYPDN08eDbBybQm0vX6aG1G/qrhcrtrQfReHUym3BYWp8npclq6ysU4ZQLN/+PfpARwSP2UnuoY9TD6FPU4i6A06Jv7gECpP1NvFlevI/UhPM7SM3FJj4kY33hmkE5fo5g8ERzUSedkWV58YSeTHwnThsyWM9hE4FceRQe0TQbqWm4rjGR65oImRjf3/a0TcxxDRYQRFxtbxNHZdzLNQpwkm/iPNfog9K+Jt7HNQ7DTUNHAJqzTTzLNR6CCydlfEcTn5YX73iINHzHOUNm8aE7SPGh44ZM44rKarEEVFXP5l+iGqw+/xLhuW89cH0L4bla0k3DdSu4eqy9/qKu5/p6Uq3BQ3krrl/XNI4wb1nx0eta8BHXdFrWnmGoa/WhI0fbZFhnqB/tkOFGmAMD0LiJ12wUegHUqVpjXx8Ywtg6cCKH+cXR6V3Eo84KeKGGH+Ibm+cIL95/H9ziXoALF2FeuQe+9cKXKU6s9W3YuI+wYhOPx2r4BMzD0A74oNIgKsohxCY74HQAsQGkiyquk5IWoiDilwHrHRCTSJW4KD4BDrsOfooYRLJzj5MPIpElM3ObTYMdqXYD97G6RLlYLjqLzljnJXWkviUP4ftC4eBcbKRf26N4B4atZpNleCi9wPSPRhdudzlp6xFvONgVnt7E2w7r9blsUvE70D/m0js+mcmtv6yVCune1M4dtM+n7QlFff5YrDuzYdOxhORP+UOexzPo6akjzzyj0QTC9lRcmy6466NB5D94b81g2KHVxroSYzPJbMKw02DoH6ljxtNa0pt0htpg9WDrFRRZG+1KWHRsa/T3N6firK2rkLHMsnotu31369eim9lkMLhNFr1p+wNzBb1Wzz5j1fzNns99bs+vFDEo0swOlk0sbEKmd7jdG9QpKt/2ugifLmDuBt7bXNzLEZTtPQUoOwO43Eu0X+jbV1MnCieRbh1VlM5vT6lAg25AE8B3aUmpiAoQeolMoESbEDBXioq8wgkr6reTeDbi1ESXjVDX5UMA6ZbvDCHyhZCWBYpq88ayAw+yiKY5h81lctg1NI0YWqOxabU6GtEaTpzUaixWrd46brUarAatTseaHGLIrKMZltVoBFaLaMagcwq2EGdmGI3Nv30wG/dyDrPdqKXpWCrQZba6TE4rb3DMaO0Br4kTfEG9Ta81m3whuw8h2mgK7XSEgmkrradps0lnMzI6hBiNVhe1Jzl3Kh/S0l5H0Gcz6CymtGQ3+gOsxu9KWQ28zWF2WfjxeJhS4/xOPscOTA0iZV8BW5uEnREqBhIuv0cmCQFcSwTVxDoA8QFUZGNgAdFalP4lHOCzJMABvXAxkdsZjXiZuajZ+Lju6sV721eX72pNXTw7mS3RzAXEmUO3XWhdRXe9u09TVK4TsU02sdLu23QB228AicAZubEeIBGzg2U7XCog3qu7dlBtRQFIEIPLowFEWCPYVkkhSgWiTKDhEmGWYsmfYzngvXU437VaUhMhqc9kMjpsyR7eyruDtsxAfYwJlUOeDJeMWRPRsBiVUutmDuy9ZahLf4s8bpSL0hp9PU3rNBrEFQMRTzkUYazmcDnk4PWOLlFji7v17IbJmXyRojQrcnBBvHGMepD6+44sZouYby7yGmIZ/DZD5ktpn2abJUNCkLMFnC3i+wgvxXIB7y7iQyCyywV8/Aa+GygGmSmoHMwU0Sa+u+30dzTxDq4xA6Ut4P5l4u8bx4FP4EINR/lG+j7wlXcLX+ZtgeTQyNhZ4iv7+Be0JX25Pj5BznYIeLbW2DIDFKS4bfsuqKIavAaUIs7Aoz4eT9RwWliMjowTv3yWbyTr8H2f8OVcoW9+5669+1S20Vad0qG3BdSme2xZNexiO6Qhxh4juQheNeUIG3O9k6JgdaDYEL1c00ZBzBkrx9rutbyCCPFdcVObTVsRBE6A2XlGK9iijrJszsWU5GgoNhgb8RkZu96ioXU0HbRuHwOTO/IEKm7aZhT9Jj7uqdn1VoueL1vSjijvtKARaOer9a/CZxk6NcGRyPSOhAWT3uGSclV/NcpqCUJYqzHoE718PEZrWIuna7PfBGas8dq8fptVb9MyfWg/bUELdSGYEBOFCUXK2c3OtGC0dZlijmikK9MdICiTydu+erGNtacqpf5YV9wVcAu1/pFkwZcOucDWNTdv3lwCPB2lKtQkcNz91KPUopbgabyJ+wq42CRBGWAgVMAzKkD2An+/vYCTNxrdavYKCxxJ1jUOwF93EtSdVarTBAEC/yVtXh4YJ2WP8CVrKDy6SYVB3zi4a0SZyGSdLULZKnQTEGzhcb6GQ8LzzuT23XtuUwEgdWbYdjDbVnhllYqKSqQ9Ebd1R2ZkMt+6iP12PPQy7SS5xCBjJcmJBNE8Sb8DElAycWl6c703EkqD6/c6wjGHy2iyO31b+1uv9Z8Mx0qF7gEDZwVBD/X5lB2lWNiVtrl1mqx8uLRJMLvLa4eyZncpFhtC1x4ff+yx8cdfvi0RTwZ8+azcv0HiRT/vCnp9iWQ6Hk+K3nglVygp270+5HWn4gHf764fkZDR5re5fFbrcKwrSae2T6Xp/PSOqQxC+cOPPTbx2GMwHxpBTz9gfFSd5Dr6iYbo5iLdT8ydlgilGyo0htuJ/jaKl50b3XZubVu5xbsBwIl7WzEWktEzel1jw4Pl4cN2uz3sza9LhbyBLo/XO3305L3ayk4lM+0f7Tflw/3Vrn4kSePTh848NDe7foERXV1oZkCjN1TnuhkTyyJ/NlesZXdVajq3S9lZiQQtsVjNznoGM1bTwdsPb9zaXXKLZK5/42aLfo35G0qkCtSii4yNAn9exKiJeZkE12xTTQ27bmBahrgZc3InQWxfnnZEmHV070w7bzxZ6r9rtEIfCPg1zBf1z7yIfvDk+3fXRnSfRrxg9p99shVEPwT8Wzr+9CCwjAo1SK2j5qjT1J3gVx+nPkV9gfoG9TJF8QRdfUh0AQmDEBSEKitlnUK4AwlIkx0XwjrbpBBoRR+CMg1BT8QZiUqlSh8gEWRLCmS9BcJySVGBDPNSEJHAlYVKtqxG7HlERuVk1efVrCo0/65n+9GqK672Fad6qSJBo9DbFXXmkcpzkhIxik6ONh1PZNf8F41Jk2LNRovGqvnT2+T5Yq3gH4u1vtmztYSqpd3+0LhvLF49KLMGHTrc+rjOYND9oYX7Bvk+2Dn8KJ9MFVA1uzYlReL5g88KOkd+Q2GnS2CMLOJZo5Ft/Qs5Hlw5rNR+1sgeIsVDLAYmFC3bHJzeZWc1wHxYLW3y2XUsl2fNJs5k4tBUbpPb+wmGCWrZU4wRMU+WdylP9O0QBUdmAvhtNFHY4RTF1vNWY/SA1eiwHtcZjRajMfNEelp0Z6fyT2TWuzyXDrF8fn1r4zl0hEdft8K7WeNx6AKUdlhNAFfTbLtyi8XCmI0uv9fGWQQTYiys12HhDCLH/AH0Rq83UWrs1g/2+EXm+8BFeoGRLFAHqLuoRTPB7nwT75fbxRoESwU81Wz4MhA6TXGA3UVG3gXRGh4pYAlQfVBd8IBoKy2TgKsCPrVPxtNNPM01NsPJtiaekPE2rrEPTvwydjRJ4E81pmZhLkVuEpUIJN/Dt0kpwKJNf8lqDEFTOal6zQxNZk4nG7Xz7VCcJ7kSezuNpBTVZwMoxnSWWtSoXll9a3/IBVRSp7fwbvq8m7fodQyNXMGg6zTwVwPQnm99M+s00qddD8dcjmiyK3QKRKk3vmmA6ED/rBJNR6NOZ/QVcoh3Regf5qJLf2gE9OmNRr0FCvTWeC54xcJZ7EZrxum8gpbuQz9y+f2uVsCViNNPQYCu1zCEzeoNtrGlB9A/OsNhZ8vvjET4lRuDQaIbJ4mr+R8CKxKoONVPzVCz1CZqM2joTuqD1GPU58Gqm9TPkBYJqAdV0d3oKYqyQygG/KEM8YGykkdT5xR1xpGShAvY1cBOJJ6z3Lb7KNQ7u9s5R/I8CTLgVycqPYpdcTlZsE1ouT1dxaJMRXXOnSmJGKfKQyuquy4gJ7wErtnFaBKUCrpUVWgnUx8Yuo7omYkTSiRXVrIrauQZIRnAPIrqoA/Qxai2kyxTU4QB1Dkj/SUOarmJduaQV1NqvHrR1Z4Z2lmd1W9qh7H/zqvaUzQwq5LK0ZKER5PIaaWbbS7lbEspiDqjJ7136jpdhQAQqU0U0PLQbKjdtQV9OROay6OQLzsy5fZUCtmaob4uGjX6PFVbYcYTvsNYPShFfEGeD3XnkntlPR2TfsctphLd3VOu0ozTF8jGQgLD2D69FvE8E+23p5yOmGb/2FhF6pkcCRtGxqORytb7BCG/IGX8Xn1wS49RF/UydXA2L3p4JPNuN/+d140+Z+s7vMfDf+df0fP140PlgxGrHmI/Q9+UMq1BgzZX3+FLx7L60QNr2fuQEsgE/cGjwUAwHajd1tu7zx9Eb/UeGC7MOKEmkA7aN3SPHMxFB1IDExNwQF+AJisHwzY9yxs4Q++0MqVBA9DmofuPZvVrDqzVX0Jhiym+PdmfS+dz0VlD2uoUFvp6Wb3FqWX88XCyIM/mo6E1vWLAFfFnRgYMJpdRg/450BUofoG1GwWv6Q+esJs5h9VyA+rozxR3RNJlg6EiRU2Sxhjwtw4kpJghIeXm4v11YU1+EP1lWqJ5IRy3GvpOpmIxJO0rL/2gv1wEcDgme5wbeqz2QLj/KxD39v71xB2cBkUCI+uVYo+0NCZ12+IDY/FYTG8Z+iwdDES7c6WkAg6+a8LPcVuQjkFL6YjPE/WgkJmz+9xRT+sHNx44Xk/HrHaziTfURkt268jRgfpleaDe/UNnIOB8WYnGYlHlZVL+Tt9titIt96UfPjbQlXCTKno7ObbejGcGbsyuSW4aqm9OflFt0SaYTXrDLU3+mcnJOt12YVCqRL1exqIzCFzOz9jMep3HIugNwVqiEA6KToPZyfls5rhORMYYecNdqa+zBoS8gmD507M2p9XGG/8AHXcGg07ifxj18CrzKsSqFWqE+gS1yJHJwNvEUoFQ6Ii6agyRmBYmgDVqJg44jZNrpMHHw/Uo1whCSYHoliPLQngQSFATmzjc38T9hcYoUO1oGqi2V8rJhF4H+UasmyS0ohLQaWetl9DpCD9kCHallWrfwKC6xJsTrjkK9SFSlHncTcIrntg7oSDg5K2ExeSR0ImDVHOOOItQDbWqXxA7nlG7ij6HlQj964gShu8lPXyvS0rDa9Zvujiqbf3rJw1z9fyGPHxGchtnT69fMyzRte3j27aNb7/7XQ+FFfTq7w4PJqS1924IBI7L9fzM9pl8emZcSgz+yfz82Pw8peYlQIzaDzKfo7qoMrWFWtQRqYLkggWcAElWChjdIFL2cg0bSM3UbCggKZsXJKVzBhPthF6DixBJBZ288AIEIZZwVhVhgscRdS7tRIGd4UeI21c9tcrWiAg6yyxolRC4ocGjJy49dOjAaUNrnLppHC1XR6eHh6amhoanj049OLh+485LJ44OMr//4Ts+DB96cwvOhvp6X35I7n5BmXd7UtKDH39QSq17sC8Urg8ebf0due3DMGYjGbj9fuZrlAHmsgw1BOO+jbpIXaa+DnMYNYCWs/GVkprNAi/KRsgIXBVF7BB6e4Ssk+hQsTO5FztpSTIVaNuPuUSojZWJruHeCjh+Vf/EzWv+/w0r4LrlVUH6SpgmkrQa2547Ot6/6Hr3/gGSMkVFBqgH60QPtS7T3a170Qc357Kf2HVk/cSUtsVa5OKcvCu20N23duHopg0jaJ+xK/vkXvrwI1uf3vBIOnl10+aryTT9V/nsR7cMnY9fvZo4P7T5o9nCByq7z+2qVHaf3U0fzmWe2nVkenJK12KtPaU5eWecNLftyKrm1l70bCtVw0EHH3XKtjUpJRAZVPomt40OJ8+7prrLIb+di4u9aFSqBWK+oFLfun9ijL7rAyj+uSWk+eRLJ0yX0AcvXGrdceGf/mxmaluxB58ZT3WhWGxvjyeYzaCetcnMhtYAOrxh+7bZ1sfR++aH66NrB4fnK7dvmNxczqKLb2/cVlDmJmY/fX5vtbqvVttbVf7vf9DUN4ayReQV4yJnNuqMjI0TY+nB0navH0XDfUOxpOgKu2wWk85i41yxdL07XwyAvIeYP1n6GBpq/az1GArd9XkCLxs5hA4zfwoYSwCfHaG2Ald6gLoKPOl/Uv+GzCgC3GR8Ndrsq0DRic/FlXgjoprIfxJvujbeaGUZb9r/TNNKe4n3txFX/C3ErUoCsLqk7hbElZR3PWRFjlvfSW5X7yFOsr0WBVSGR8sDKd8yEDIO1SxIAl8hCXy+7VOcsfYaPI8utx4CmF9AH5jPZZ/adXR6ahJwaTywpbenK7TQ3T+6DWC+9WNovymVmx7fRx9dBvpmAHoXAD3z0a31c9IHPpA4NzT30VzhqrL7XHe+rCL9OGnxyHoV6e0WgwuFftVw1Ba7stMTe+nxC/6u7KlwwM5HnD32UcB6FLA+RbB+zjWdLwf9vC3iqNhGUtVg3A9Ynz8wCVi/iqQ21k8xx/PZ6ZmdRzfPShfc+warO8uVXdUhOS9e6lq/6eTuDdPb6Nc/ECmWBzbeWX9kw/r8ZJqu5zNPzg+djavd3vRktvCIsuvMrlIpXzi7ix499cjVDxqMAd+g4/Zy1e1asSW0bs/M9EKxu3F6cpNTCO3p8QaymU98bEzKzLYG0RHVlj6G7p4fGRwdHRyZrxzYMLmplEP3vb1xe3cFbZ7c8Jlz+xTk9+3rre2rKk//+4399+Gc20OsyWYBa9JaeFe8i1hTIBoeqMdSYExOmxmMibGqdtZDrAkhmJ/Anj6Khlu/aH0IBe/6HBrZtWE6k1PK20vVkeqeM3uq8Wi1tKtcy2ef/imz2Hoo4/GuubTQuoKObd6R26y0nkZr232eW7p3pct7q0jZ19u71+9X0hc+sf7HF1o3B70Bo+FBt7tXOYQ0hGPQcPipyjGyVJFa1+EY/iZOtnlFSZ0NHU3s4MgGUGxsNsqENzggbsypZMHP8QL21HCSv+b25rrVfJvyHoxAjW6cyur9YO0ASVREhY0l6Ujv6qR4b+Sr4WDlWDa/ZXxdVybTtW5ibssElA7/yebP/DHadBFu7Y3AI0sCHKK9wID6e1On+iwpaWTNp0aHpVRKGh596unxyafHyZz/zjgnqMnOKF0QLhewDkY5qY6yr4nLMu5r7ySAgU7BQCEkFrCD7CR43hVNVteqeUij0Agn1EWB9xqospL+LZOsGIRzuo5XAFeihnUOkkcjyUbiG8BTkAmTvnVN4Gv7zr9vz5aeXJdfSrvC+nTBXg5IQwnN/NRkyR71RwP1biCOFsu6HMxC/K3y+G/1weruhb0GQzDNay0pt9vgEBNDEmfTgPOOTAzYEYfk9UYNna4EQqtw4KAkQMJMhxWFm9hTwBxIKLeKXwbarChPtgwA//mSTssl02pONqwDacXIToAXjCYqGlerlzcThYlQuE4YR4sqFwwiIrVoki3nkYqDJD265sx5xN1xZmR0dOTMHVf2f+XR6d+sOTc6em4NHBOxLRl58/0jj9w/gl6/cv4sueks3H7+zJrR6Ue/Mjt4bHDw2MVjg8bCtvButq92b2+tzfkQhZifMD+B8a2jDnX0LzZxF9H/YpeO5D+7CiT/Oa5CoaZuuaitjHUCxlojUHDWcAAYsU4rclGpsmZMZYMAhzgxhS4RpIFg5LI6bIEjIw6TsXPLRCW5jI4BtLwqtIINiPpvhYZIpIOIIJANRLJ2LZTefwVKX5zdvX9mbSoRFUPRhCUm2TLuUCnEjN2T5nxuv7uUtHJGk6k3EZhImtGJtoCIZFuvdYRWLRZz6ydmbO6YVePqcrK8HZ63WJh62dcv25AFddX1GjqaRaK3HYtsgljkC1SJGqXuQXqK7MThinikiU+RfQR4bRPvKZA001j4Bk92nBws4GCTbFnrUZNXsfaGFcBQGayMI1uWMNtsZNfKMtmjJcFpO1u1BUrwYJBrHEVkPwzZmUKW+wd/9vpYe11fyltx6rqmMa15y4onr784yL22r33lKFw5dr3h1ryFxevUl0W3lJqcPnos3/lBXxLdqcn2qbr3VWLBi1nuhihnmm/ceRdZPBAWYzv2kLgnyOMDoNIRBpRurmE9j++q4bUCvrvWCB6Ex7YcqKkrS51NUiu7AeEU1GtXgIVkUDsDoWunUTt5WZ2TJM/UXCvfzsMm+JVV5qKaaCE3W9HKkoUiEobAqMnd6ApVkePPxeSAhxctrOAR/L+qJMOWCQQeomHxrC30aWmTzR1My7Hn4nKNNz9n4nnTc2YeBSYKEd6IaKMlEDbqdWbBYzIxjM2g0XT5BZOmEe5BE3q7O/TPHrPdpDWioCvx+bgsx2mN1egwa61aTTpWQlE2OZL8bLdflnPp7sF0ybw3VizGlm7SyMzz5qWbcBxHacuG6pZ8xGGw8lbpz21Wp55xmgxmZI44Pagn2vqHqNuPaL3GiLxmp4qxjYCx5wBje6hT1K8obCyQfSLggU40sbbQ0G0pFvHOJol1E03cW8C3F8neqIisrumvQGtyZS+UC6w2sQYQtreJ93KNI3Ah0CRr/SqgmNeybdiUATaV642ShmyUfrE++Ea+va9EB/XsdW1jCwHa3HXqebYILn2uA6YXdHBamdvSAZcKqMkyIMNIdoLY+MYgWYp0CTgNMPLMQkTN2SbJYtWanXCTcxRKvWSTlXpbN4+7AE6dJQLW0Y4dk21UONsgIyk2gh9WSnZ+WYItRrTDTX2oQrYbAAJ5FWzvhEZJRc3hqlOT9lbkBSPJ/+EB0hYxW2iAhNOXUAED2IrKyO/hRBtrEa3xN3qmrBNVwIUYfiNvMgMm0qOZkM1AMzpbxGuzI1/IzHHm1iuuuEg/oQJNhRxtiI873b/XtyZhiZjzpdHuPvsDMVmO0XRM7o5pOKPTojXRNFpTa/0QUBB1ehFrQj6LS9N63b4wtLucoLWsjjPZpGd5kfdnPkXTBMdLLTi29wxT6h7sv6VCFEW2wYCgnMrK6msnaRhRaYaTmR4cnoz8+BqE1AmJlhIQVbfG1RP068kLscTPf67W8dyn1Er1hLwD6SgD/SrTpHqo8+r/yljVDEygSfae5sGvySr4+Cbm2xwp1MQhruGFUhfMMFzD2PZ1RcKbeHAnZHmSX7Q6GeJnvMI1V0LKkXmki29YNGQecQV44ZpBH46o00iiE0dD2ACTpbp1B+bONuXQRSW1vnMHCX3ILgrd8MnLJ4dHCrN7ZwuBYp8c9Ma9I0G5Xw52z+7ZWPjNyMnh4ZMj6NctffdsoTDbTccDxQB8WiXB6xXQZ1t7g3IQPuivChsL8GnPoRR1BezzTuBQXrKfg2tzp5XN0R4IZtR/PnGtIn0GROQvouf5PI+eF4vz8tJjxfnieXQ/uj+aWHpMQqPormym9bs2GzqaybauwsXiPL219XVUt6rvfJT5J+YMVaCmyApaOxQjXrITkKmLFKotLG+vUZfA2jagcZC1NpH8BwHJB5ekqE3dKegIIdZs5Mw281guIRi7CgGes1qMepbVGy1Wjg8Uuo0mzu7yjMEtnNFMZ0MZ2+UHuUzQdvmyLZjhHrxsA/hfvoz+yC9Y9TqEPGZLrphwaDWsxqinn9MbtDpG60iUSkaWLGHSWr3V7vvxbz1vU9ttz6+PgmzPAPfaTD1OZSiEnyjgqRud7N3DgKBDzcaHAUHKFC88//jCHRcufohQLuIzQAq3SkT+dySC2ssOKwn1ZLu+86jqM2x0e2+SUln9W0pK7/wWkC62+rnOk+qzkt1xi1AR995CzTE2Ica7sr5kKpATeStn5rV6k5W3OUw2m8lh460azcOMlY8arVaH3e30OEROMMKPwIkOj9Ntd1itRpblzYKWNTk8YtgT5B0OPugJix6HRoP+SBYMtyqGfy+9tP5NMFmRgY+k+0bW9KdjgoHR6E28M8AarXYxsDbgdlpNeovt43AbrWFJHx1ur7rB/7ZclxQJ+kSHYDHrdVpEswbOETRaBU8gke45WUxLQa/darJYV+dzHVSaGqTu7HDsZBMXCrjaxP42066rBLS9rTerbvTGPhlX264FqOgQgCDrgolDmySbuvkG1w/fUWFRJxXVf9MpJMnebyeqqZdxEYIX4ZrJRfWr3sSNbuXioDi6ncAoy+rCyvJGf6RuAXcNIpXLtPfPttn5Mpu8cgVK2r7e/Qfvuuvg/t4+1A/FX0IJ9SHB8l29TQ+fr9ktFoG+AMyz89TK861Hf/mup/qgJdrV+rxFQMAZbHpUswh2IjYIVamLILtjlA28j5uKUPvUHeGc+l+KILhIE9sLWAPii67akupdccY8lAzNRgxk5+XaEV2Ix271XyGc4nIY2xDdasYbu9pZ7fbyOK+uj0tKhI/YI4hJSmR2Js4kHWC2B9LpwNvPBtLrmO1vPxtnhNavvr37WDkBCJv8On3Qn0r5l54iR/rg0lPoldYLn316nSyvkynq/wEJ57ZsAAB42n2QzU7CQBSFT/lTIRqjiQvjYty4kKTlJyGEuMaNboxhX2BaStpOUwYC7Nz6GD6Az+DWl/BZPJSrS5pM57tnzpyZOwAu8AMH++8UN8IOqugJl3CEJ+EyjhEIV8hvwlU08CFco/4lXEfTuRVu4NJZMsGpnLC6LtJ27NB1L1zCGR6EyzjHq3CFbISruMK7cI36p3AdI3wLN3DnPCNCAh8hNDwssCI1saYWA1Hih9pbrMLmOmG5ZXpW+LE1WcTphbtCLOn1kbPU4TL2CQGdKSy6aHP0KZjUdtvd/sGlEdNy3iEqLIoGFy3KOl9EJlVtt3Vw+yO3p0WET4PGlBFjbPjft9WhahmgOHLGJKShxGm2EJMVG9ytzalMqLuM1anOfaunarxRfIuOtYEKcpOoIY/WcWxUlpu5nliaZ8UZGQZ8TO//sn/pLjN352JmbTbwvEAC3IlJ8Au++mLUAAB42m2RyU7EMBBE88KSYdj3HYZ9h7jdmYEzEr8CSAhx4cDfg4SrDwhLUcrleu1SUtXV7+pX/6/Rz0NVUzPGOBNM0tBjij7TzDDLHPMssMgSy6ywyhrrbLDJFtvssMse+ww44JAjjjnhlDPOueCSK6654ZY7WhJGxul6z29fHy+D3DVFyPAiTI6FI8iGBUoyJDyElYg1n++v1j09lv39XyS35eShGKmV0Awvb3XV9SMFhVqgKp9UPql8Gios3KJTzDGVi5aisjKuu1yTXRnXZNdkF9WJyspkZVJQUV5HOf6OinXxof0b7uGQMAAAAAABAAH//wAPeNpjYGRgYOABYjEgZmJgBEIzIGYB8xgABfAAZXjaY2BgYGQAgisqM3aB6Ot+DV5Q+jQARZQGqwAAAVso0EwAAA=="
}, s = i(255);
n.prototype = o(s.prototype);
t.exports = n;
e(n, "meshim_widget_widgets_fontLoader_ZopimFont");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
v = Y.root;
y = v.$("livechat");
j = y.$("ui").$("chat_button");
C = y.$("ui").$("chat_window");
k = y.$("channel").$("typing");
T = y.$("channel").$("log");
S = C.$("chat_panel");
A = S.$("textarea");
I = S.$("scrollable");
B = y.$("ui").$("chat_button").$("button_clicked$bool");
N = C.$("display$bool");
D = C.$("main_stack_name$string");
E = S.$("served_by").$("visible$bool");
E.update(!0);
D.on("value", function(t) {
"chat_panel" === t && s(K.INSTANT);
});
z.window.on("resize", c);
T.on("keys", u);
B.on("value", f);
O = !0;
W = 0;
H = 0;
M = !1;
V = !1;
R = !0;
}
function o(t) {
A.update({
value$string: t
});
if (t) {
P || _();
clearTimeout(L);
L = setTimeout(l, X);
} else if (!1 !== P) {
L = clearTimeout(L);
l();
}
}
function r() {
return W <= 5;
}
function s(t, e) {
if (R) {
t = t || K.SMOOTH;
var i = I.$(t).getValue() || 0, n = {};
n[t] = i + 1;
I.update(n);
if (void 0 === e) {
clearTimeout(F);
F = setTimeout(function() {
s(t, !0);
}, 250);
}
}
}
function a(t) {
r() && s(t);
}
function _() {
P = !0;
k.write({
typing$bool: !0
});
G.setUserChoice(!0);
}
function l() {
P = !1;
k.write({
typing$bool: !1
});
}
function d(t) {
var e = t.trim();
if (e) {
Y.livechat.sendChatMsg({
msg: e
});
o("");
s(K.SMOOTH);
}
}
function u() {
a(K.SMOOTH);
}
function c() {
W = void 0;
s(K.INSTANT);
}
function h(t) {
W = t;
M && (V = !0);
R && I.$("scrolled_to_bottom$bool").update(r());
V && g();
Z();
}
function p() {
m(!1);
s(K.SMOOTH);
}
function f() {
s(K.INSTANT);
}
function g() {
R && r() && "chat_panel" === D.getValue() && !0 === N.getValue() && 0 !== j.$("unread_count$int").getValue() && q.resetUnreadCount();
}
function m(t) {
if (O !== t) {
E.update(!!t);
O = t;
}
}
function $(t) {
M = !0;
H = t.touches[0].clientY;
g();
}
function b(t) {
t.touches[0].clientY - H > 0 ? m(!0) : t.touches[0].clientY - H < 0 && m(!1);
}
function w() {
M = !1;
}
function x() {
L = clearTimeout(L);
F = clearTimeout(F);
T.un("keys", u);
B.un("value", f);
v = y = j, C = S = A = k = I = T = B = N = D = P = W = R = M = V = void 0;
}
var v, y, j, C, S, A, k, I, T, B, N, D, E, O, P, L, W, R, F, M, V, H, z = i(14), U = i(39), q = i(33), G = i(41), Y = i(5), X = 12e4, K = {
SMOOTH: "smooth_scroll_count$int",
INSTANT: "instant_scroll_count$int"
}, Z = U.debounce(function() {
V = !1;
}, 80), Q = {
TYPING_TIMEOUT: X,
SCROLL_TYPES: K,
init: n,
scrollToBottom: s,
userFocusTextArea: p,
userInputValue: o,
userChangeOrientation: c,
userClickChatButton: f,
userDistFromBottom: h,
userSendMessage: d,
userReceiveMessage: u,
userTouchStart: $,
userTouchMove: b,
userTouchEnd: w,
resetState: x
};
t.exports = Q;
e(Q, "meshim_widget_controllers_ChatPanelController");
return Q;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, a) {
if (!(this instanceof n)) return new n(t, e, i, r, a);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, r, a);
}
var o = i(2), r = i(1), s = i(37);
n.__jx__jcss = {
"**self": {
fontWeight: "bold"
}
};
n.prototype = r(s.prototype);
n.prototype.__jx__super = s;
t.exports = n;
e(n, "meshim_widget_widgets_Header");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(2), o = i(1), r = i(43), s = r, a = i(6), _ = i(5), l = i(349), d = i(9);
r = function(t, e, i, o, a) {
if (!(this instanceof r)) return new r(t, e, i, o, a);
if (!r.__jx__jcss_generated) {
n.generate(this, r.prototype.__jx__fqname, r.__jx__jcss, null, r);
r.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, o, a);
r.__constructor.call(this);
};
r.__constructor = function() {
d.mobile(this);
d.rtl(this);
if (_.root.$("livechat").$("ui").$("mobile$bool").getValue() && this.hasClass("mobile_error_icon")) {
this.pContainer = new a(this.parentNode, null, null, null, {
position: "relative"
});
this.pContainer.appendChild(this);
var t = new l(this.pContainer), e = this.showErrorMessage, i = this.hideErrorMessage, n = this;
this.showErrorMessage = function() {
t.setDisplay("");
return e.call(n);
};
this.hideErrorMessage = function() {
t.setDisplay("none");
return i.call(n);
};
}
};
r.__jx__jcss = {
"**self": {
display: "block",
appearance: "none",
"*overflow": "visible",
width: "100%",
color: "$$inputColor",
background: "$$inputBg",
padding: "$$inputPadding",
borderWidth: "$$inputBorderWidth",
borderStyle: "$$inputBorderStyle",
borderColor: "$$inputBorderColor",
borderRadius: "$$inputRadius",
boxShadow: "$$inputShadow"
},
"&:focus, &.focus": {
color: "$$inputFocusColor",
background: "$$inputFocusBg",
borderColor: "$$inputFocusBorderColor",
boxShadow: "$$inputFocusShadow",
outline: "none"
},
"&::placeholder": {
color: "$$inputPlaceholderColor",
fontStyle: "$$inputPlaceholderFontStyle"
},
"&.invalid": {
color: "$$inputInvalidColor",
background: "$$inputInvalidBg",
borderColor: "$$inputInvalidBorderColor",
boxShadow: "$$inputInvalidShadow"
},
"&.invalid.mobile": {
paddingRight: "30px"
},
"&.invalid.rtl.mobile": {
paddingRight: "$$inputPadding",
paddingLeft: "30px"
},
"&.unstyled": {
border: "none",
background: "transparent",
boxShadow: "none"
},
"&.standalone": {
marginTop: "10px",
marginBottom: "5px"
}
};
r.prototype = o(s.prototype);
r.prototype.__jx__super = s;
t.exports = r;
e(r, "meshim_widget_widgets_Input");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = function(t, e) {
return t === e || t && e && "object" == typeof t && "object" == typeof e && n(t, e);
}, n = function(t, e) {
var n;
for (n in t) if (!i(t[n], e[n])) return !1;
for (n in e) if (!i(t[n], e[n])) return !1;
return !0;
}, o = function(t) {
if ("object" != typeof t || !t) return t;
var e = {};
for (var i in t) t.hasOwnProperty(i) && (e[i] = o(t[i]));
return e;
}, r = function(t) {
if (t) for (var e = 1, i = arguments.length; e < i; e++) {
var n = arguments[e];
if (n) for (var o in n) n.hasOwnProperty(o) && (t[o] = n[o]);
}
return t;
}, s = {
equal: i,
clone: o,
extend: r
};
t.exports = s;
e(s, "jx_core_ObjectUtil");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(7), o = i(24), r = i(26), s = n(106), a = n(107), _ = n(108), l = n(109), d = n(110), u = n(111), c = {};
c.ERR_SIZE = "TOO_LARGE";
c.ERR_FORMAT = "ILLEGAL_TYPE";
c.ERR_DISABLED = "FILE_UPLOADS_TEMPORARILY_DISABLED";
var h = /^(x-|vnd\.)/i, p = [ "png", "jpg", "jpeg", "gif", "txt", "pdf" ], f = {}, g = n(112);
f[c.ERR_SIZE] = s;
f[c.ERR_FORMAT] = a;
f[c.ERR_DISABLED] = _;
c.prettySize = function() {
var t = [ l, d, u ], e = [ 0, 1, 2 ];
return function(i, n) {
i = Math.max(parseInt(i, 10) || 0, 0);
n = n || {};
for (var o, r = n.base2 ? 1024 : 1e3, s = t.length; s--; ) {
o = Math.pow(r, s);
if (i >= o) return t[s].replace("<size>", (i / o).toFixed(e[s]));
}
};
}();
c.prettyType = function(t, e, i) {
i = i || window.Infinity;
var n = t.split("/")[1];
n = n && n.replace(h, "");
if (n && n.length < i) return n.toLowerCase();
n = e.split(".").pop();
return (n || "").toLowerCase();
};
c.isValidType = function(t, e) {
if (t) {
e = e || p;
var i = t.substr(t.lastIndexOf(".") + 1).toLowerCase();
return -1 !== o(i, e);
}
};
c.prettyError = function(t, e) {
var i = t in f ? f[t] : g;
r(e) || (i = i.replace("<size>", c.prettySize(e || 5e6)));
return i;
};
c.blobToFile = function(t, e, i) {
t.lastModifiedDate = new Date();
t.name = e;
return new window.File([ t ], e, {
type: i
});
};
c.getExtension = function(t) {
var e = t.lastIndexOf(".");
return -1 === e ? null : t.substr(e + 1).toLowerCase();
};
t.exports = c;
e(c, "meshim_common_FileUtil");
return c;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
if (!(this instanceof n)) return new n(t, e);
this.elm = t;
this.currStyle = d({}, e);
this.applyStyle(this.currStyle);
var i = this;
this.elm.onDestruction(function() {
i.destroy();
});
}
var o = i(28), r = i(227), s = i(226), a = i(225), _ = i(10), l = i(223), d = _.shallowExtend, u = function() {};
n.prototype.animate = function(t, e) {
var i = d({}, t.endStyle), n = o(t.duration) ? t.duration : 300, r = o(t.delay) ? t.delay : 0, s = t.easeType || "easeQuadInOut", a = o(t.startTime) ? t.startTime : +new Date(), _ = 0;
e = e || u;
if (o(window.animateDebug)) {
n *= window.animateDebug;
r *= window.animateDebug;
}
r < 0 ? _ = -r : a += r;
this.stop();
this.cb = e || u;
this._animate({
startStyle: this.currStyle,
endStyle: i,
duration: n,
startTime: a,
elapsedOffset: _,
easeType: s
});
};
n.prototype.stop = function() {
if (this.timer) {
this.timer.stop();
this.timer = null;
this.cb.call(this.elm, "stopped");
}
};
n.prototype.destroy = function() {
this.stop();
this.elm = this.currStyle = this.cb = this.timer = null;
};
n.prototype.isAnimating = function() {
return !!this.timer;
};
n.prototype._animate = function(t) {
function e(t) {
t += _;
if (t >= o) {
h.stop();
p.timer = null;
p.currStyle = n;
p.applyStyle(n);
p.cb.call(p.elm, null);
} else {
var e = c(t / o), i = u(e);
p.currStyle = i;
p.applyStyle(i);
}
}
var i = t.startStyle, n = t.endStyle, o = t.duration, _ = t.elapsedOffset, l = t.startTime, d = t.easeType, u = a.interpolateObject(i, n), c = s[d], h = r.timer(e, 0, l), p = this;
p.timer = h;
};
n.prototype.applyStyle = function(t) {
t = l(t);
for (var e in t) t.hasOwnProperty(e) && this.elm.setCSSStyle(e, t[e]);
};
t.exports = n;
e(n, "meshim_widget_utils_Animate");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(9);
!function() {
t.mobile(h);
t.tablet(h);
t.rtl(h);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
minWidth: "180px",
maxWidth: "360px",
zIndex: "100",
bottom: "$$actionBarHeight",
marginBottom: "-2px",
"left, right": "10px",
color: "$$menuColor",
background: "$$menuBg",
borderWidth: "$$menuBorderWidth",
borderStyle: "$$menuBorderStyle",
borderColor: "$$menuBorderColor",
borderRadius: "$$menuRadius",
boxShadow: "$$menuShadow"
},
"&.rtl": {
"left, right": "10px"
},
"&.mobile": {
left: "0",
top: "$$titleBarHeight",
bottom: "auto",
width: "100%",
maxWidth: "$$mobileMaxWidth",
borderTop: "0 none"
},
"&.mobile.rtl": {
right: 0
}
};
s(t, "meshim_widget_widgets_Menu");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
if (k.isAuthenticated()) {
D = !0;
_ = t.$("livechat");
l = _.$("history");
d = _.$("ui").$("history");
u = _.$("channel");
c = u.$("log");
h = _.$("profile").$("has_history$bool");
p = d.$("state$string");
f = d.$("log");
g = d.$("log_length$int");
m = d.$("scroller_at_top$bool");
$ = d.$("spinner_visibility");
b = l.$("log");
w = l.$("has_more$bool");
x = l.$("in_progress$bool");
v = l.$("cursor$string");
b.bindValue(function(t) {
t && (N = S.extend(N, t));
});
x.bindValue(function(t) {
!1 === t && setTimeout(function() {
p.update("rendering");
f.update(N);
N = {};
}, I);
});
v.bindValue(function(t) {
if (void 0 !== t && t !== y) {
y = t;
p.update("fetched");
}
});
c.bindKeys(function() {
var t = c.getKeys();
if (0 !== t.length) {
var e = c.$(t[0]).$("first$bool");
e.getValue() || e.update(!0);
}
});
h.bindValue(function(t) {
t && P.fetchChatHistory(!0);
});
g.bindValue(function(t) {
void 0 !== t && p.update("rendered");
});
o();
}
}
function o() {
function t() {
var t = w.getValue(), e = c.getKeys().length > 0, i = g.getValue() > 0, n = p.getValue(), o = n && "rendered" !== n, r = m.getValue(), s = !(e || i);
$.update({
large$bool: s && o,
small$bool: !s && !1 !== t && r && o
});
}
if (D) {
j && j();
c.bindKeys(t);
w.bindValue(t);
g.bindValue(t);
p.bindValue(t);
m.bindValue(t);
t();
j = function() {
c.unbindKeys(t);
w.unbindValue(t);
g.unbindValue(t);
p.unbindValue(t);
m.unbindValue(t);
};
}
}
function r(t, e, i) {
D && t.autobind($, "value", function(t) {
if (t) {
"large$bool" in t && i.setVisible(t.large$bool);
"small$bool" in t && e.setVisible(t.small$bool);
}
});
}
function s(t, e) {
function i() {
var e = t.getScrollHeight(), o = e - E, r = E > 0 ? O + o : e;
t.setScrollTop(r);
n || C.un("write", i);
}
if (D) {
e = e || 0;
var n = !1;
p.bindValue(function(e) {
if ("rendering" === e) {
n = g.getValue() > 0;
E = t.getScrollHeight();
O = t.getScrollTop();
} else "rendered" === e && (n ? i() : C.on("write", i));
});
t.on("scroll", A.debounce(function() {
var i = t.getScrollTop(), n = i < B + e;
n && P.fetchChatHistory();
m.getValue() !== n && m.update(n);
}, T));
}
}
function a(t) {
if (D && !x.getValue() && !1 !== w.getValue()) {
t && f.update(null);
p.update("fetching");
l.write({
cursor$string: t ? "" : v.getValue() || ""
});
}
}
var _, l, d, u, c, h, p, f, g, m, $, b, w, x, v, y, j, C = i(2), S = i(65), A = i(300), k = i(45), I = 500, T = 100, B = 20, N = {}, D = !1, E = 0, O = 0, P = {
init: n,
fetchChatHistory: a,
setupSpinner: o,
bindSpinnerUI: r,
setupScrollListener: s
};
t.exports = P;
e(P, "meshim_widget_controllers_HistoryController");
return P;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, s, _) {
if (!(this instanceof n)) return new n(t, e, i, s, _);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.tagName || (_.tagName = "input");
_.type || (_.type = "submit");
a.call(this, t, e, i, s, _);
this.setValue(this._value);
var l = this;
this._setValue = function() {
l.setValue(l._value);
};
r && r.onLanguage && r.onLanguage(this._setValue);
}
var o = i(2), r = i(7), s = i(1), a = i(17);
n.__jx__jcss = {
"**self": {}
};
n.prototype = s(a.prototype);
n.prototype.__jx__super = a;
n.prototype.setValue = function(t) {
this._value = t;
return a.prototype.setValue.call(this, t);
};
n.prototype.destroy = function() {
r && r.unLanguage && r.unLanguage(this._setValue);
a.prototype.destroy.call(this);
};
t.exports = n;
e(n, "meshim_widget_widgets_Submit");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "button");
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(43);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_Button");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(8), o = i(58), r = i(35), s = i(18), a = i(5), _ = i(27), l = i(34), d = {};
d.init = function() {
var t, e = a.root, i = e.$("connection").$("status$string"), u = e.$("livechat").$("ui").$("popout$bool"), c = e.$("livechat").$("ui").$("mobile$bool"), h = e.$("livechat").$("ui").$("mockup$bool"), p = e.$("livechat").$("account").$("key$string"), f = e.$("livechat").$("profile").$("mid$string"), g = e.$("livechat").$("settings").$("language").$("language$string"), m = c.getValue() ? "dialog=no,fullscreen=yes" : "width=400,height=500,menubar=no,toolbar=no,location=no,personalbar=no,status=no,resizable=yes,scrollbars=no";
d.openPopout = function(e) {
if (!n.bugs.noBoxSizing) {
var i = p.getValue() || s.ACCOUNT_KEY, o = c.getValue();
if (!h.getValue() && !u.getValue() && i && !l.isIEMobile) {
var r = d.getPopoutURL();
if (t && !t.closed && t.focus) {
if (!o && n.isChrome || l.isNativeAndroidMobile || l.isSafariIOSMobile) t.focus(); else {
t.close();
t = window.open(r, s.POPOUT_WINDOW_PREFIX + i + new Date(), m);
if (!t || t.closed) return;
}
return !0;
}
if (o || e) {
try {
t = window.open(r, s.POPOUT_WINDOW_PREFIX + i, m);
} catch (t) {}
if (l.isChromeIOSMobile) return !0;
if (!t || t.closed) return;
try {
t.focus();
} catch (t) {}
return !0;
}
}
}
};
d.getPopoutURL = function() {
var t = {
key: p.getValue() || s.ACCOUNT_KEY,
mid: f.getValue() || "",
lang: g.getValue() || "",
hostname: window.location.hostname,
api_calls: o.stringify(_.getPopoutAPICalls())
}, e = [ s.POPOUT_URL, "?", r.buildQuery(t) ], i = r.getHash("__zopim_widget_proxy");
i && e.push("#", r.buildQuery({
__zopim_widget_proxy: i
}));
return e.join("");
};
d.isReady = function() {
var t = i.getValue();
return "registered" == t || "reattached" == t || "cookie_law" == t;
};
};
t.exports = d;
e(d, "meshim_widget_controllers_PopoutController");
return d;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
var a = this;
this._onAutoResize = function() {
a.onAutoResize();
};
l.call(this, t, e, i, null, s);
l.prototype.setMargin.call(this, "0");
l.prototype.setPadding.call(this, "0");
l.prototype.setBorder.call(this, "0");
l.prototype.setBackground.call(this, "transparent");
l.prototype.setOverflow.call(this, "hidden");
l.prototype.setPosition.call(this, "fixed");
this.appendToParent();
this.iframe = new d(this, null, null, null, {
tagName: "iframe",
position: "relative",
width: "100%",
height: "100%",
minWidth: "100%",
minHeight: "100%",
maxWidth: "100%",
maxHeight: "100%",
border: "0",
margin: "0",
padding: "0",
background: "transparent",
overflow: "hidden",
display: "block"
});
this.iwin = this.iframe.iwin;
this.idoc = this.iframe.idoc;
this.ibody = this.iframe.ibody;
this.ihead = this.iframe.ihead;
this.content = new u(this.iframe.defaultPlacement);
this.content.setOverflow("hidden");
this.wrapper = new l(this.content, null, null, null, {
display: "inline-block"
});
this.wrapper.__jx__fqname = this.__jx__fqname;
this.wrapper.__jx__fqname_chain = this.__jx__fqname_chain;
if (r.bugs.noBoxSizing) {
this.wrapper.style.display = "inline";
this.wrapper.style.zoom = "1";
}
this.setAttributes(s);
this.defaultPlacement = this.wrapper;
this.addChildren(o);
if (r.isIE < 9) {
this.on("hide", function() {
a.iframe.setDisplay("none");
});
this.on("show", function() {
a.iframe.setDisplay("block");
});
}
this.raise();
}
var o, r = i(8), s = i(1), a = i(3), _ = i(12), l = i(6), d = i(172), u = i(88), c = 16e6;
!function() {
for (var t = [ "", "WebKit" ], e = "MutationObserver", i = 0; i < t.length; i++) t[i] + e in window && (o = window[t[i] + e]);
}();
n.prototype = s(l.prototype);
n.prototype.fire = function(t, e) {
l.prototype.fire.call(this, t, e);
this.iframe && this.iframe.fire(t, e);
this.wrapper && this.wrapper.fire(t, e);
};
n.prototype.on = function(t, e) {
"init" == t ? l.prototype.on.call(this, t, e) : this.wrapper && this.wrapper.on(t, e);
};
n.prototype.raise = function(t) {
t = parseInt(t, 10) || 1;
this.setZIndex(c += t);
};
n.prototype.normalize = function() {
var t = this.getXY();
this.moveTo(t[0], t[1]).setMargin(0);
};
n.prototype.getXY = function() {
var t = this.dom.offsetLeft, e = this.dom.offsetTop;
if (r.isIE) if (r.isStrict) {
if (r.isIE6) {
t -= document.documentElement.scrollLeft;
e -= document.documentElement.scrollTop;
}
} else {
t -= document.body.scrollLeft;
e -= document.body.scrollTop;
} else if (r.isSafari) {
var i = a.getStyles(this.iframe.offsetParent);
t += parseInt(i.borderLeftWidth, 10);
e += parseInt(i.borderTopWidth, 10);
}
return [ t, e ];
};
n.prototype.fitToContents = function(t, e, i) {
t = t || this;
for (var n = 0, o = 0; t.defaultPlacement; ) t = t.defaultPlacement;
t.dom && (t = t.dom);
o = t.scrollWidth - t.clientWidth;
n = t.scrollHeight - t.clientHeight;
this.resizeBy(o, n, i || 0, e || 0);
};
n.prototype.destroy = function() {
this.setAutoResize(!1);
l.prototype.destroy.call(this);
this.iframe = this.iwin = this.idoc = this.ibody = this.ihead = this.content = null;
};
n.prototype.setBackground = function(t) {
return this.iframe && this.iframe.setBackground(t);
};
n.prototype.setBackgroundImage = function(t) {
return this.iframe && this.iframe.setBackgroundImage(t);
};
n.prototype.setBorder = function(t) {
return this.iframe && this.iframe.setBorder(t);
};
n.prototype.setBorderColor = function(t) {
return this.iframe && this.iframe.setBorderColor(t);
};
n.prototype.setBorderStyle = function(t) {
return this.iframe && this.iframe.setBorderStyle(t);
};
n.prototype.setBorderWidth = function(t) {
return this.iframe && this.iframe.setBorderWidth(t);
};
n.prototype.setCursor = function(t) {
return this.iframe && this.iframe.setCursor(t);
};
n.prototype.setOpacity = function(t) {
return this.iframe && this.iframe.setOpacity(t);
};
n.prototype.setSelectable = function(t) {
return this.iframe && this.iframe.setSelectable(t);
};
n.prototype.setColor = function(t) {
return this.content && this.content.setColor(t);
};
n.prototype.setPadding = function(t) {
return this.content && this.content.setPadding(t);
};
n.prototype.setFontFamily = function(t) {
return this.content && this.content.setFontFamily(t);
};
n.prototype.setFontSize = function(t) {
return this.content && this.content.setFontSize(t);
};
n.prototype.setFontWeight = function(t) {
return this.content && this.content.setFontWeight(t);
};
n.prototype.setTextAlign = function(t) {
return this.content && this.content.setTextAlign(t);
};
n.prototype.setLetterSpacing = function(t) {
return this.content && this.content.setLetterSpacing(t);
};
n.prototype.setLineHeight = function(t) {
return this.content && this.content.setLineHeight(t);
};
n.prototype.setOverflow = function(t) {
return this.content && this.content.setOverflow(t);
};
n.prototype.getAutoResize = function() {
return this.autoResize;
};
n.prototype.setAutoResize = function(t) {
t = _(t);
this.autoResize = t;
if (this.wrapper) {
var e = this;
if (this.autoResize) {
if (o) {
this._autoResizer = new o(function() {
e.onAutoResize();
});
this._autoResizer.observe(this.wrapper.dom, {
childList: !0,
attributes: !0,
characterData: !0,
subtree: !0
});
} else {
this._autoResizer && window.clearInterval(this._autoResizer);
this._autoResizer = window.setInterval(this._onAutoResize, 200);
}
this.onAutoResize();
} else if (this._autoResizer) if (o) {
this._autoResizer.disconnect();
this._autoResizer = null;
} else {
window.clearInterval(this._autoResizer);
this._autoResizer = null;
}
return this;
}
};
n.prototype.onAutoResize = function() {
if (r.bugs.noBoxSizing) {
this.style.width = "10px";
this.style.height = "10px";
}
var t = this.wrapper.getWidth(), e = this.wrapper.getHeight();
this.setWidth(t);
this.setHeight(e);
if (r.bugs.noBoxSizing) {
this.style.width = t + "px";
this.style.height = e + "px";
this.iframe.dom.className = this.iframe.dom.className;
}
};
n.prototype.setDataTestId = function(t) {
this.iframe && this.iframe.setDataTestId(t + "-iframe");
return l.prototype.setDataTestId.call(this, t);
};
t.exports = n;
e(n, "jx_ui_FloatingFrame");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e;
c = m.root.$("livechat").$("account").$("key$string");
u = t;
p.on("error", a);
c.bindValue(function(t) {
if (-1 != f(t, S)) {
p.window.on("error", s);
p.window.on("unload", function() {
p.window.un("error", s);
});
}
});
e = {
ignoreErrors: y,
logger: "widget",
release: g.info.gitCommit,
shouldSendCallback: function(t) {
w.submitToServer(t);
return !1;
}
};
e.whitelistUrls = [ C ];
x.config("https://0@0/0", e);
}
function o(t) {
t && (t.onerror = a);
}
function r(t, e, i, n, o) {
try {
w.handleErrorEvent(t, e, i, n, o);
} catch (t) {}
}
function s(t, e, i, n, o) {
r(t, e, i, n, o);
return !1;
}
function a(t, e, i, n, o) {
r(t, e, i, n, o);
return !0;
}
function _(t, e, i, n, o) {
if ((t || o) && !k) {
var r = o || t, s = r.stack ? [ r.toString(), r.stack ].join("\n") : r.toString(), a = [ s, e, i ].join(" ");
if (!(r.name && v.indexOf(r.name) > -1 || I[a])) {
I[a] = !0;
w.post(r);
}
}
}
function l(t) {
if (!(Math.random() > A) && t && u) {
var e = m.root, i = e.$("livechat").$("account").getValue(), n = e.$("livechat").$("profile").$("mid$string").getValue(), o = {
key: i.key$string,
is_voltron: i.is_voltron$bool,
status: i.status$string,
mid: n
};
x.setUserContext({
id: o.key
}).captureException(t, {
extra: {
system: g.info,
connection: u.getConnectionStats(),
account: o
}
});
}
}
function d(t) {
var e = u.getHost();
if (t && e) {
try {
var i = t.exception.values[0], n = i.type, o = i.stacktrace.frames, r = o[o.length - 1].lineno;
t.fingerprint = [ n, r + "" ];
} catch (t) {}
b.post("https://" + e + "/client/widget/errors", {
params: {
sentry_data: $.stringify(t)
}
});
}
}
var u, c, h = i(8), p = i(14), f = i(24), g = (i(7), i(252)), m = i(5), $ = i(58), b = i(251), w = {
init: n,
post: l,
bind: o,
handleErrorEvent: _,
submitToServer: d
}, x = i(250), v = [ "SyntaxError" ], y = [ "Out of memory", "too much recursion" ], j = /^en/i, C = /^($|about:blank$|(https?:\/\/)?([\w_-]+\.)*zopim\.(?:com|org))/i, S = [ "zopim" ], A = .1, k = (h.isIE || h.isNewIE) && ("language" in window.navigator && !j.test(window.navigator.language) || "userLanguage" in window.navigator && !j.test(window.navigator.userLanguage) || "browserLanguage" in window.navigator && !j.test(window.navigator.browserLanguage)), I = {};
t.exports = w;
e(w, "meshim_widget_controllers_ErrorHandler");
return w;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Button = i(71);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Button, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Button;
t.__jx__jcss = {
"**self": {
background: "transparent",
border: "0px none",
color: "$$menuColor",
textAlign: "inherit"
}
};
s(t, "meshim_widget_widgets_menu_ButtonLabel");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, _) {
if (!(this instanceof n)) return new n(t, e, i, r, _);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, r, _);
var l = a.root.$("connection").$("message$string"), d = this;
d.autobind(l, "value", function(t) {
d.setDisabled(!!t);
});
}
var o = i(2), r = i(1), s = i(70), a = i(5);
n.__jx__jcss = {};
n.prototype = r(s.prototype);
n.prototype.__jx__super = s;
t.exports = n;
e(n, "meshim_widget_widgets_ConnAwareSubmit");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(2), o = i(1), r = i(153), s = r, a = i(64);
r = function(t, e, i, o, _) {
if (!(this instanceof r)) return new r(t, e, i, o, _);
if (!r.__jx__jcss_generated) {
n.generate(this, r.prototype.__jx__fqname, r.__jx__jcss, null, r);
r.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, o, _);
a.__constructor.call(this);
};
r.__jx__jcss = {};
r.prototype = o(s.prototype);
r.prototype.__jx__super = a;
t.exports = r;
e(r, "meshim_widget_widgets_TextArea");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(2), o = i(1), r = i(338), s = r, a = i(64);
r = function(t, e, i, o, _) {
if (!(this instanceof r)) return new r(t, e, i, o, _);
if (!r.__jx__jcss_generated) {
n.generate(this, r.prototype.__jx__fqname, r.__jx__jcss, null, r);
r.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, o, _);
a.__constructor.call(this);
};
r.__jx__jcss = {};
r.prototype = o(s.prototype);
r.prototype.__jx__super = a;
t.exports = r;
e(r, "meshim_widget_widgets_EmailField");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, a) {
if (!(this instanceof n)) return new n(t, e, i, r, a);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, r, a);
}
var o = i(2), r = i(1), s = i(6);
n.__jx__jcss = {
"**self": {
marginTop: "$$marginS",
marginBottom: "$$margin",
color: "$$errorMessageColor",
fontWeight: "$$errorMessageFontWeight",
fontStyle: "$$errorMessageFontStyle"
}
};
n.prototype = r(s.prototype);
n.prototype.__jx__super = s;
t.exports = n;
e(n, "meshim_widget_widgets_ErrorMessage");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_html_img = i(108);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_img, "img", "", [], {
id: "img",
class: "img"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "auth_type", "", [], {
id: "auth_type",
addClass: "auth_type"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__img"), f = n.get(s + "__auth_type");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
e();
_ && h.autounbind(_, "value", n);
_ = t;
_ && h.autobind(_, "value", n);
}
function e() {
w = x = y = "";
f.setDisplay("none");
}
function n() {
if (_) {
switch (_.name) {
case "profile":
l = "visitor";
break;

case "concierge":
l = "concierge";
break;

default:
l = "agent";
}
var t = _.getValue() || {};
t.nick$string && (v = t.nick$string);
t.display_name$string && !g.isDefaultName(t.display_name$string) && o(t.display_name$string);
var e;
e = t.auth && t.auth.avatar$string ? t.auth.avatar$string : t.avatar_data$string ? t.avatar_data$string : t.avatar_path$string ? t.avatar_path$string : "";
r(e);
var i;
i = t.auth && "type$string" in t.auth ? t.auth.type$string : "";
s(i);
}
}
function o(t) {
if (t && t != w) {
h.setTitle(t);
w = t;
}
}
function r(t) {
var e = t || a();
if (e && e != x) {
p.setSrc(g.replaceFileHostname(e));
x = e;
}
}
function s(t) {
if (t !== y) {
f.removeClass(y);
y = t;
f.addClass(y);
f.setIcon(y);
f.setDisplay(y ? "" : "none");
}
}
function a() {
var t = m.getValue(), e = b.getValue() || {};
d = t;
var i;
switch (l) {
case "visitor":
i = e.visitor$string || u.AVATARS.VISITOR;
break;

case "concierge":
i = e.concierge$string || u.AVATARS.CONCIERGE;
break;

case "agent":
i = $.getValue() || e.agent$string || u.AVATARS.AGENT;
}
return i || u.AVATARS.DEFAULT;
}
var _, l, d, u = i(18), c = i(5), g = i(10), m = c.root.$("livechat").$("settings").$("theme").$("name$string"), $ = c.root.$("livechat").$("settings").$("concierge").$("avatar_path$string"), b = c.root.$("livechat").$("settings").$("theme"), w = "", x = "", v = "", y = "";
h.setDataNode = t;
!function() {
h.autobind(m, "value", function(t) {
d && t != d && n();
});
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".img": {
"width, height": "100%"
},
".auth_type": {
position: "absolute",
"bottom, left": 0,
background: "#FFF",
"fontSize, width, height": "12px",
"line-height": "16px",
overflow: "hidden",
borderRadius: "2px",
"&.facebook": {
color: "$$facebook"
},
"&.twitter": {
color: "$$twitter"
},
"&.google": {
color: "$$google"
}
}
};
s(t, "meshim_widget_widgets_gravatar_GravatarImage");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
h[c(t) ? "addClass" : "removeClass"]("hide_auth_type");
return h;
}
function e(t) {
h.autounbind();
"agents" == t.name ? o(t) : n(t);
}
function n(t) {
_([ t ]).setNodes([ t ]);
}
function o(t) {
l && h.autounbind(l, "keys", r);
l = t;
l && h.autobind(l, "keys", r);
}
function r() {
for (var t = l.getKeys(), e = [], i = 0, n = Math.min(3, t.length); i < n; i++) e.push(l.$(t[i]));
s(e);
}
function s(t) {
var e = _(t);
e && e.setNodes(t);
}
function a(t) {
var e = _(t);
e && e.setImages(t);
}
function _(t) {
if (t instanceof Array && t.length) {
var e = Math.min(t.length, 4), i = $[e - 1];
if (e !== u) {
h.empty();
d = new i(h);
u = e;
}
return d;
}
}
var l, d, u, c = i(12), p = i(342), f = i(341), g = i(340), m = i(339), $ = [ p, f, g, m ];
!function() {
h.setImages = a;
h.setDataNode = e;
h.setMemberNode = n;
h.setGroupNode = o;
h.setHideAuthType = t;
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
width: "60px",
height: "60px",
position: "relative",
overflow: "hidden",
borderWidth: "$$avatarBorderWidth",
borderStyle: "$$avatarBorderStyle",
borderColor: "$$avatarBorderColor",
borderRadius: "$$avatarRadius",
boxShadow: "$$avatarShadow",
".avatar": {
background: "#FFF"
},
"&.hide_auth_type": {
".auth_type": {
display: "none !important"
}
}
}
};
s(t, "meshim_widget_widgets_Gravatar");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_toast_Disconnected = i(348);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_toast_Disconnected, "", "", [], {
addClass: "toast"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(9);
!function() {
t.mobile(h);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
zIndex: "1000",
top: "40px",
left: "0",
width: "100%",
height: "0",
textAlign: "center",
".toast": {
display: "inline-block",
maxWidth: "80%"
}
},
"**self.mobile": {
position: "fixed",
top: "60px"
}
};
s(t, "meshim_widget_widgets_ChatWindowDisconnectedToast");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, s) {
if (!(this instanceof n)) return new n(t, e, i, r, s);
s = l.extend({}, d, s);
"input" != s.tagName || s.type || (s.type = "text");
_.call(this, t, e, i, r, s);
this.getValue() || this.showPlaceholder();
this.on("blur", this.handlePlaceholderBlur);
this.on("focus", this.handlePlaceholderFocus);
this.on("click", this.handleAutoSelect);
var a = this;
this._handlePlaceholder = function() {
a.setPlaceholder(a.getPlaceholder());
};
o && o.onLanguage && o.onLanguage(this._handlePlaceholder);
}
var o = i(7), r = i(1), s = i(8), a = i(12), _ = i(43), l = i(65), d = {
tagName: "input",
autoValidate: !0
};
n.prototype = r(_.prototype);
n.prototype.getPlaceholder = function() {
return this.internalPlaceholder || "";
};
n.prototype.setPlaceholder = function(t) {
"placeholder" in this.dom || (this.emulatePlaceholder = !0);
this.internalPlaceholder = t;
this.emulatePlaceholder || (this.dom.placeholder = t);
this.placeholderActive && this.showPlaceholder();
return this;
};
n.prototype.handlePlaceholderFocus = function() {
this.placeholderActive && this.hidePlaceholder();
};
n.prototype.handlePlaceholderBlur = function() {
this.getValue() || this.showPlaceholder();
};
n.prototype.showPlaceholder = function() {
this.addClass("placeholder");
this.placeholderActive = !0;
var t = this;
if (this.emulatePlaceholder) {
this._setValueOverride = !0;
this.setValue(this.getPlaceholder());
this._setValueOverride = !1;
if ("password" == this.getType()) {
this.realTypePassword = !0;
if (s.engineIE < 9) {
if (!this.fakePlaceholderPasswordIE) {
var e = {
class: this.getClass(),
type: "text",
visible: "none",
value: this.getPlaceholder(),
autoValidate: !1,
tabIndex: this.attributes.tabIndex
};
this.fakePlaceholderPasswordIE = new _(this.parentNode, null, null, null, e);
this.parentNode.insertAfter(this.fakePlaceholderPasswordIE, this);
this.autobind(this.fakePlaceholderPasswordIE, "focus", function() {
t.hidePlaceholder();
});
}
"none" != this.getComputedStyle("display") && (this.originalDisplay = this.getComputedStyle("display"));
this.fakePlaceholderPasswordIE.show().setOneStyle("display", this.originalDisplay).setClass(this.getClass());
this.setVisible("none");
} else this.setType("text", !0);
}
}
};
n.prototype.hidePlaceholder = function() {
this.removeClass("placeholder");
this.placeholderActive = !1;
if (this.emulatePlaceholder) {
this._setValueOverride = !0;
this.setValue("");
this._setValueOverride = !1;
if (this.realTypePassword) {
this.realTypePassword = !1;
if (s.engineIE < 9) {
this.fakePlaceholderPasswordIE instanceof _ && this.setVisible("block").setOneStyle("display", this.originalDisplay);
this.fakePlaceholderPasswordIE.setVisible("none");
this.focus();
} else this.setType("password", !0);
}
}
};
n.prototype.setValue = function(t) {
var e = 0 === t || !!t;
this._setValueOverride || e && this.hidePlaceholder();
_.prototype.setValue.call(this, t);
if (!this._setValueOverride) try {
this.doc.activeElement.jx_wrapper != this && (e || this.showPlaceholder());
} catch (t) {}
return this;
};
n.prototype.getValue = function() {
return this.placeholderActive && this.emulatePlaceholder ? "" : _.prototype.getValue.call(this);
};
n.prototype.setAutocomplete = n.prototype.setAutoComplete = function(t) {
if (!("autocomplete" in this.dom)) return this;
if ("on" == t || "off" == t) {
this.dom.autocomplete = t;
return this;
}
t = a(t);
this.dom.autocomplete = t ? "on" : "off";
return this;
};
n.prototype.getAutocomplete = n.prototype.getAutoComplete = function() {
return this.dom.autocomplete;
};
n.prototype.getAutoSelect = function() {
return this.autoSelect;
};
n.prototype.setAutoSelect = function(t) {
this.autoSelect = a(t);
return this;
};
n.prototype.handleAutoSelect = function() {
this.autoSelect && this.dom.select();
};
n.prototype.destroy = function() {
o && o.unLanguage && o.unLanguage(this._updatePlaceholder);
this.un("blur", this.handlePlaceholderBlur);
this.un("focus", this.handlePlaceholderFocus);
this.un("click", this.handleAutoSelect);
if (this.fakePlaceholderPasswordIE instanceof _) {
this.fakePlaceholderPasswordIE.destroy();
this.fakePlaceholderPasswordIE = null;
}
_.prototype.destroy.call(this);
};
n.prototype.reset = function() {
_.prototype.reset.call(this);
this.handlePlaceholderBlur();
return this;
};
n.prototype.insertAtCaret = function(t) {
if (t) {
this.placeholderActive && this.hidePlaceholder();
if (void 0 !== this.dom.selectionStart && 9 != s.engineIE) {
var e = this.dom.selectionStart, i = this.dom.selectionEnd, n = this.getScrollTop(), o = this.getValue();
this.setValue(o.substring(0, e) + t + o.substring(i, o.length));
this.focus();
this.dom.selectionStart = this.dom.selectionEnd = e + t.length;
this.setScrollTop(n);
} else if (document.selection) {
this.focus();
var r = document.selection.createRange();
r.text = t;
this.focus();
} else {
this.setValue(this.getValue() + t);
this.focus();
}
}
};
n.prototype.getCaret = function() {
var t = 0;
if (void 0 !== this.dom.selectionStart) t = this.dom.selectionStart; else if (document.selection) {
this.focus();
var e = document.selection.createRange();
e.moveStart("character", -this.getValue().length);
t = e.text.length;
}
return t;
};
n.prototype.setCaret = function(t) {
if (void 0 !== this.dom.selectionStart) {
this.dom.selectionStart = t;
this.dom.selectionEnd = t;
this.focus();
} else if (document.selection) {
this.focus();
var e = document.selection.createRange();
e.moveStart("character", -this.getValue().length);
e.moveEnd("character", -this.getValue().length);
e.moveStart("character", t);
e.moveEnd("character", 0);
e.select();
}
return this;
};
t.exports = n;
e(n, "jx_ui_TextField");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(2), o = i(1), r = i(83), s = r, a = i(64);
r = function(t, e, i, o, _) {
if (!(this instanceof r)) return new r(t, e, i, o, _);
if (!r.__jx__jcss_generated) {
n.generate(this, r.prototype.__jx__fqname, r.__jx__jcss, null, r);
r.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, o, _);
a.__constructor.call(this);
};
r.__jx__jcss = {};
r.prototype = o(s.prototype);
r.prototype.__jx__super = a;
t.exports = r;
e(r, "meshim_widget_widgets_TextField");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
this.childConstructors = [];
this.childAttributes = [];
this.delimiter = "@";
_.call(this, t, e, i, o, s);
var a = this;
this._updateContent = function() {
a.updateContent();
};
r && r.onLanguage && r.onLanguage(this._updateContent);
this.onDestruction(function() {
r && r.unLanguage && r.unLanguage(a._updateContent);
});
}
function o(t) {
return t.replace(/&#([0-9]{1,4});/g, function(t, e) {
return String.fromCharCode(e);
});
}
var r = i(7), s = i(1), a = i(22), _ = (i(24), i(6));
n.prototype = s(_.prototype);
n.prototype.appendChild = function(t) {
if (a(t)) {
this.childConstructors.push(t[0]);
this.childAttributes.push(t[4]);
this._localizer_appendchild_override || this.updateContent();
} else _.prototype.appendChild.call(this, t);
};
n.prototype.updateContent = function() {
this.setContent(this.getContent());
};
n.prototype.getContent = function() {
return this.content;
};
n.prototype.setContent = function(t) {
this.content = t;
this.empty();
if (t) {
t.toString && (t = t.toString());
for (var e, i = t, n = i.length, r = 0, s = this.delimiter, a = s.length, l = 0; r < n && -1 != r; ) {
e = i.indexOf(s, r);
-1 == e && (e = n);
if (e > r) {
this._localizer_appendchild_override = !0;
_.prototype.appendChild.call(this, [ _, null, null, [ o(i.slice(r, e)) ], {
tagName: "label",
display: "inline"
} ]);
this._localizer_appendchild_override = !1;
r = e;
}
if (e == r && e != n) {
var d = i.indexOf(s, e + a);
-1 == d && (d = n);
this._localizer_appendchild_override = !0;
_.prototype.appendChild.call(this, [ this.childConstructors[l] || _, null, null, [ o(i.slice(r + a, d)) ], this.childAttributes[l] || {
tagName: "label",
display: "inline"
} ]);
this._localizer_appendchild_override = !1;
r = d + a;
l++;
}
}
return this;
}
};
n.prototype.setChildProperties = function(t, e, i) {
this.childConstructors[t] = e;
this.childAttributes[t] = i;
};
n.prototype.clearChildProperties = function() {
this.childConstructors.length = this.childAttributes.length = 0;
};
n.prototype.getDelimiter = function() {
return this.delimiter;
};
n.prototype.setDelimiter = function(t) {
this.delimiter = t;
this.updateContent();
return this;
};
t.exports = n;
e(n, "jx_ui_Localizer");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "border_overlay"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"top, left": 0,
"width, height": "100%",
borderRadius: "inherit"
}
};
s(t, "meshim_widget_widgets_BorderOverlay");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
var t = f.getValue(), e = u[t];
if (e && !(o instanceof e)) {
o && o.destroy();
o = new e(h);
}
}
function e() {
var t = p.getValue();
t && r ? h.setDisplay("none") : t || !s ? h.setDisplay("") : h.setDisplay("none");
}
function n(t) {
h.setVisibility(t ? "hidden" : "");
}
var o, r, s, a = i(12), _ = i(5), l = i(360), d = i(359), u = {
icon_font_zopim: l,
icon_font_zendesk: d
}, c = _.root.$("livechat"), p = c.$("ui").$("mobile$bool"), f = c.$("settings").$("theme").$("branding").$("type$string"), g = c.$("settings").$("branding").$("hide_branding$bool");
h.setHideOnMobile = function(t) {
r = a(t);
e();
};
h.setHideOnDesktop = function(t) {
s = a(t);
e();
};
!function() {
h.autobind(f, "value", t);
h.autobind(p, "value", e);
h.autobind(g, "value", n);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
display: "inline-block",
color: "$$brandingLinkColor"
}
};
s(t, "meshim_widget_widgets_Branding");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, s, _) {
if (!(this instanceof n)) return new n(t, e, i, s, _);
if (o.bugs.noBoxSizing) {
var l = this.table = new a(t, null, null, null, {
tagName: "table"
}), d = this.tbody = new a(l, null, null, null, {
tagName: "tbody"
}), u = this.tr = new a(d, null, null, null, {
tagName: "tr"
}), c = this.td = new a(u, null, null, null, {
tagName: "td"
}), h = this;
this.table.destroy = function() {
h.destroy();
};
this.table.empty = function() {
h.empty();
};
this.setPadding = function(t) {
this.td.setPadding(t);
return this;
};
this.show = function() {
this.table && this.table.show();
return this;
};
this.hide = function() {
this.table && this.table.hide();
return this;
};
a.call(this, c, e, i, s, _);
l.style.tableLayout = "fixed", l.style.borderCollapse = "collapse";
d.style.height = d.style.width = this.style.height = this.style.width = "100%";
l.setTop(0).setLeft(0).setWidth("100%").setHeight("100%").setPosition("absolute").applyConstraints();
this.style.position = "relative", this.style.overflow = "auto";
l.defaultPlacement = this;
} else {
this.setPadding = function(t) {
if (!r(t)) return this;
t = t.split(" ");
t[0] = parseInt(t[0], 10);
t[1] = parseInt(t[1], 10);
t[2] = parseInt(t[2], 10);
t[3] = parseInt(t[3], 10);
if (isNaN(t[0])) t[3] = t[2] = t[1] = t[0] = 0; else if (isNaN(t[3])) if (isNaN(t[1])) t[3] = t[2] = t[1] = t[0]; else if (isNaN(t[2])) {
t[3] = t[1];
t[2] = t[0];
} else t[3] = t[1];
this.setTop(parseInt(t[0], 10)).setRight(parseInt(t[1], 10)).setBottom(parseInt(t[2], 10)).setLeft(parseInt(t[3], 10));
return this;
};
a.call(this, t, e, i, s, _);
this.setStyle({
top: 0,
bottom: 0,
left: 0,
right: 0,
overflow: "auto",
position: "absolute"
});
}
this.setStyle(i);
this.setAttributes(_);
}
var o = i(8), r = i(21), s = i(1), a = i(6);
n.prototype = s(a.prototype);
n.prototype.destroy = function() {
a.prototype.destroy.call(this);
if (this.table) {
a.prototype.empty.call(this.table);
this.table.empty = null;
a.prototype.destroy.call(this.table);
this.table = this.tbody = this.tr = this.td = null;
}
};
t.exports = n;
e(n, "jx_ui_FullFrame");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
l = C.root;
d = l.$("livechat");
u = d.$("ui");
h = u.$("chat_notification").$("display$bool");
p = u.$("chat_window").$("display$bool");
f = u.$("chat_button").$("display$bool");
g = u.$("mobile_notifications$bool");
c = u.$("mobile_overlay$bool");
h.on("value", k);
p.on("value", k);
f.on("value", k);
g.on("value", k);
}
function o() {
if (!0 === v) return !0;
v = g.getValue() ? $ && b && m && !y(p.getValue()) && !y(h.getValue()) && !y(f.getValue()) : c.getValue() ? $ && b && !y(p.getValue()) && !y(f.getValue()) : b && !y(f.getValue());
return v;
}
function r() {
if (w === b && x === $) {
w = $;
$.moveUp(A);
b.moveDown(A);
} else if (w) w.moveDown(function(t) {
if (!t) if (x) {
w = x;
x.moveUp();
} else w = null;
}); else {
w = x;
x && x.moveUp();
}
}
function s(t) {
$ = t;
k();
}
function a(t) {
m = t;
k();
}
function _(t) {
b = t;
k();
}
var l, d, u, c, h, p, f, g, m, $, b, w, x, v, y = i(26), j = i(39), C = (i(40), 
i(5)), S = {
init: n,
registerChatButton: _,
registerChatNotification: a,
registerChatWindow: s
}, A = function() {}, k = j.debounce(function() {
if (o()) {
var t = p.getValue(), e = h.getValue(), i = f.getValue(), n = t && $ || e && m || i && b || null;
if (!(t + e + i > 1) && x !== n) {
x = n;
r();
}
}
});
t.exports = S;
e(S, "meshim_widget_controllers_MobileViewsController");
return S;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(7), o = {
livechat: {
timestamp$int: +new Date(),
settings: {
file_sending: {
enabled$bool: !0
},
behavior: {
do_not_display$bool: !1
},
theme: {
name$string: "simple",
message_type$string: "bubble_avatar",
colors: {
placeholder$string: "_"
},
chat_button: {
position$string: "br",
position_mobile$string: "br"
},
chat_window: {
position$string: "br",
size$string: "medium",
profile_card: {
display_avatar$bool: !0,
display_rating$bool: !0,
display_title_name$bool: !0
},
use_banner$bool: !0,
title_bar: {
hide_minimize$bool: !1,
hide_popout$bool: !1
}
},
branding: {
type$string: "icon_font_zopim"
}
},
greetings: {
online$string: n(80),
offline$string: n(81)
},
banner: {
enabled$bool: !0,
layout$string: "image_right",
text$string: n(82),
image_path$string: "",
image_data$string: ""
},
chat_button: {
hide_when_offline$bool: !1
},
chat_window: {
mobile_mode$string: "popout",
title_bar: {
title$string: n(83),
status_messages: {
online$string: n(84),
away$string: n(85),
offline$string: n(86)
}
}
},
login: {
allowed_types: {
email$bool: !0,
facebook$bool: !0,
twitter$bool: !1,
google$bool: !0
},
phone_display$bool: !1,
restrict_profile$bool: !1
},
concierge: {
display_name$string: n(87),
title$string: n(88),
avatar_path$string: "",
avatar_data$string: "",
greeting: {
enabled$bool: !1,
message$string: n(89)
}
},
branding: {
hide_branding$bool: !1,
hide_favicon$bool: !1,
custom_favicon_path$string: ""
},
language: {
language$string: "--"
},
cookie_law: {
enabled$bool: !1
},
sound: {
disabled$bool: !1
},
popout: {
enabled$bool: !0
},
rating: {
enabled$bool: !0
},
end_chat_menu: {
enabled$bool: !0,
message$string: ""
},
emoticons: {
enabled$bool: !1
},
bubble: {
enabled$bool: !0,
title$string: n(90),
text$string: n(91)
},
forms: {
pre_chat_form: {
required$bool: !1,
profile_required$bool: !1,
message$string: "",
form: {
0: {
name$string: "name",
required$bool: 0
},
1: {
name$string: "email",
required$bool: 0
},
2: {
label$string: n(92),
name$string: "department",
required$bool: 0,
type$string: "department"
},
3: {
label$string: n(93),
name$string: "message",
required$bool: 0,
type$string: "textarea"
},
4: {
label$string: n(94),
name$string: "phone",
required$bool: 0,
type$string: "text",
hidden$bool: !0
}
}
},
offline_form: {
message$string: n(95),
message_disabled$string: n(96),
post_submit_message$string: n(97),
profile_required$bool: !0,
form: {
0: {
name$string: "name",
required$bool: 1
},
1: {
name$string: "email",
required$bool: 1
},
2: {
label$string: n(98),
name$string: "message",
required$bool: 1,
type$string: "textarea"
},
3: {
label$string: n(99),
name$string: "phone",
required$bool: 0,
type$string: "text",
hidden$bool: !0
}
}
},
post_chat_form: {
header$string: n(100),
message$string: n(101),
comments_enabled$bool: !0,
comments_messages: {
good: {
message$string: n(102),
placeholder$string: n(103)
},
bad: {
message$string: n(104),
placeholder$string: n(105)
}
}
},
card_form: {}
}
}
}
};
t.exports = o;
e(o, "meshim_widget_controllers_DefaultDataNode");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
this.name = t;
this.leaf = /\$[a-z]+$/.test(t);
this.parentNode = e;
this.listeners_value = [];
this.listeners_write = [];
if (!this.leaf) {
this.listeners_keys = [];
this.childNodes = {};
this.keys = {};
}
}
function o(t, e) {
return Object.prototype.hasOwnProperty.call(t, e);
}
function r(t) {
for (var e = "", i = 0; i < t.length; i++) /^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(t[i]) ? e += "." + t[i] : e += "[" + JSON.stringify(t[i]) + "]";
return e.substr(1);
}
var s = i(14);
n.prototype.fqname = function() {
return r(this.path());
};
n.prototype.path = function() {
for (var t = this, e = [ this.name ]; t = t.parentNode; ) e.unshift(t.name);
return e;
};
n.prototype.descend = function(t) {
var e, i, r, s = this;
"string" == typeof t && (t = t.split("."));
for (i = 0, r = t.length; i < r; i++) {
e = t[i];
o(s.childNodes, e) || (s.childNodes[e] = new n(e, s));
s = s.childNodes[e];
}
return s;
};
n.prototype.$$ = n.prototype.descend;
n.prototype.$ = function(t) {
return o(this.childNodes, t) ? this.childNodes[t] : this.childNodes[t] = new n(t, this);
};
n.prototype.update = function(t, e, i) {
var n, o;
if (null !== t) {
delete this.deleted;
o = this.parentNode;
for (;o && o.deleted; ) {
delete o.deleted;
o = o.parentNode;
}
}
if (this.leaf) {
this.value = t;
this.notifyListeners(t, e, i);
} else {
if (null == t) {
this.deleted = !0;
for (n in this.childNodes) this.childNodes.hasOwnProperty(n) && this.childNodes[n].update(null, !0, i);
} else for (n in t) t.hasOwnProperty(n) && this.$(n).update(t[n], !0, i);
this.notifyListeners(t, e, i);
}
};
n.prototype.write = function(t, e, i) {
if ("function" == typeof e) {
i = e;
e = !1;
}
var n = {
path: this.path(),
value: t
};
"function" == typeof i && (n.func = i);
this.update(t, e || !1, n);
};
n.prototype.bindWrite = function(t) {
this.listeners_write.push(t);
};
n.prototype.bindValue = function(t) {
this.listeners_value.push(t);
try {
t.call(this, this.getValue());
} catch (t) {
s.fire("error", t);
}
};
n.prototype.bindKeys = function(t) {
if (!this.leaf) {
this.listeners_keys.push(t);
try {
t.call(this, this.getKeys(), []);
} catch (t) {
s.fire("error", t);
}
}
};
n.prototype.unbindValue = function(t) {
for (var e = this.listeners_value.length; e--; ) if (this.listeners_value[e] == t) {
this.listeners_value.splice(e, 1);
return;
}
};
n.prototype.unbindKeys = function(t) {
if (!this.leaf) for (var e = this.listeners_keys.length; e--; ) if (this.listeners_keys[e] == t) {
this.listeners_keys.splice(e, 1);
return;
}
};
n.prototype.on = function(t, e) {
switch (t) {
case "value":
this.bindValue(e);
break;

case "keys":
this.bindKeys(e);
}
};
n.prototype.un = function(t, e) {
switch (t) {
case "value":
this.unbindValue(e);
break;

case "keys":
this.unbindKeys(e);
}
};
n.prototype.addListener = function(t, e) {
this.listeners[t].push(e);
};
n.prototype.removeListener = function(t, e) {
for (var i = this.listeners[t], n = i.length; n--; ) i[n] == e && i.splice(n, 1);
};
n.prototype.notifyListeners = function(t, e, i) {
var n, r, a;
if (!this.leaf) {
n = [];
r = [];
if (t) {
for (a in t) if (t.hasOwnProperty(a)) if (null !== t[a]) {
if (!o(this.keys, a)) {
this.keys[a] = 1;
n.push(a);
}
} else if (o(this.keys, a)) {
delete this.keys[a];
r.push(a);
}
} else for (a in this.keys) if (this.keys.hasOwnProperty(a)) {
delete this.keys[a];
r.push(a);
}
}
for (var _ = 0; _ < this.listeners_value.length; _++) try {
this.listeners_value[_].call(this, t);
} catch (t) {
s.fire("error", t);
}
if (i) for (_ = 0; _ < this.listeners_write.length; _++) try {
this.listeners_write[_].call(this, i);
} catch (t) {
s.fire("error", t);
}
if (!this.leaf) {
for (_ = 0; _ < this.listeners_keys.length; _++) try {
this.listeners_keys[_].call(this, n, r);
} catch (t) {
s.fire("error", t);
}
if (!e && this.parentNode) {
var l = {};
l[this.name] = t;
this.parentNode.notifyListeners(l, e, i);
}
}
};
n.prototype.getValue = function(t) {
if (t) return this.descend(t).getValue();
if (this.leaf) return this.value;
if (this.deleted) return null;
var e, i, n = {};
for (var o in this.childNodes) if (this.childNodes.hasOwnProperty(o) && null != (i = this.childNodes[o].getValue())) {
n[o] = i;
e = !0;
}
return e ? n : null;
};
n.prototype.hasKey = function(t) {
return o(this.keys, t);
};
n.prototype.getKeys = function() {
if (this.leaf) return null;
var t = [];
for (var e in this.keys) this.keys.hasOwnProperty(e) && t.push(e);
return t;
};
n.prototype.gc = function() {
var t = !0;
for (var e in this.childNodes) if (this.childNodes.hasOwnProperty(e)) {
var i = this.childNodes[e];
t = i.leaf ? !i.listeners_value.length && null == i.value && (delete this.keys[e], 
delete this.childNodes[e]) && t : i.gc() && (delete this.keys[e], delete this.childNodes[e]) && t;
}
return t && this.deleted && !this.listeners_keys.length && !this.listeners_value.length;
};
n.DataNode = n;
t.exports = n;
e(n, "jx_data_DataNode");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = {
cached_fqname: {},
cache: {},
cache_replaced: {},
palettes: {},
priorities: []
};
t.exports = i;
e(i, "jx_core_jcss_modules_JCSSStore");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return t.join("");
}
var n = {
space: / /g,
repeatingLinearGradient: /^\s*repeating-linear-gradient/,
prependFQName: /^(\*\*self|)(?!.+?keyframes)/,
prePrependFQName: /^(?!\*\*self)/g,
replacePseudo: /\:\:\:([A-Za-z_\-.]+)/g,
replaceAppend: / +?&/g,
placeholder: /::placeholder$/,
replaceVariables: /(?:(?:([A-Za-z\-]+):)??(?:& *:)?\$\$([A-Za-z_\.]+))(?=;)/g,
replaceLeftovers: /(?:(?:[A-Za-z\-]+:)??(?:& *:)?(\$\$[A-Za-z_\.]*?)??)(?=;)/g,
replaceMedia: /(.*)(@media.*)@mediaend(.*)/,
commaStart: /^,/,
selectorCase: /([A-Z]+)/g,
removePrefix: /^\$\$/,
isVariable: /\$\$[A-Za-z_]+/
}, o = {
REGEX: n,
join: i
};
t.exports = o;
e(o, "jx_core_jcss_modules_JCSSUtils");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
t || r.log(e);
}
var o = i(20), r = {
ok: n,
isFunction: function(t, e) {
n(o(t), e);
}
};
r.log = function() {};
t.exports = r;
e(r, "jx_core_Assert");
return r;
}();
}).call(this, i(0));
}, function(t, e) {
var i;
i = function() {
return this;
}();
try {
i = i || Function("return this")() || (0, eval)("this");
} catch (t) {
"object" == typeof window && (i = window);
}
t.exports = i;
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
marginBottom: "$$margin",
color: "$$menuHeaderColor"
},
"&.item": {
margin: "$$menuItemPadding"
}
};
s(t, "meshim_widget_widgets_menu_Header");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
if (!s.isWebKit || s.isChrome) return !1;
var t = document.activeElement;
return t && "select" === t.tagName.toLowerCase();
}
function o() {
if (s.isIE && document.documentMode && !(s.isStrict && document.documentMode > 7)) for (var t = document.getElementsByTagName("select"), e = t.length; e--; ) {
var i = t[e].style, n = i.display;
i.display = "none";
i.display = n;
}
}
function r() {
o();
}
var s = i(8), a = {
testSafariFocusBug: n,
ieQuirksModeFix: r
};
t.exports = a;
e(a, "meshim_widget_utils_BrowserQuirks");
return a;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Emoticon = i(295);
e.__$$__meshim_widget_widgets_ratingBar_thumb_Thumb = i(291);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Emoticon, "emoticon_rating_options", "", [], {
id: "emoticon_rating_options",
addClass: "button_bar",
visible: "none"
} ], [ e.__$$__meshim_widget_widgets_ratingBar_thumb_Thumb, "thumb_rating_options", "", [], {
id: "thumb_rating_options",
addClass: "button_bar",
visible: "none"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
var h = n.get(s + "__emoticon_rating_options"), p = n.get(s + "__thumb_rating_options");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
a && c.autounbind(a, "value", n);
a = t;
a && c.autobind(a, "value", n);
}
function e() {
return d;
}
function i(t) {
d = t;
l.setValue(t);
l.updateTitle(d);
}
function n(t) {
d !== t && i(t);
}
function o() {
var t = l.getValue();
d === t && (t = null);
i(t);
c.fire("change", t);
}
function r() {
_ = "thumb";
if ("thumb" === _) {
p.show();
h.hide();
l = p;
} else if ("emoticon" === _) {
p.hide();
h.show();
l = h;
} else {
p.hide();
h.hide();
l = null;
}
}
function s(t) {
l.addClass(t);
}
var a, _, l, d;
!function() {
c.setDataNode = t;
c.getValue = e;
c.setValue = i;
c.setSize = s;
r();
l.on("change", o);
}();
}();
for (var g in f) f.hasOwnProperty(g) && (c[g] = f[g]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
".button_bar": {
width: "100%",
textAlign: "center"
}
}
};
s(t, "meshim_widget_widgets_RatingBar");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatName = i(323);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatMessage = i(322);
e.__$$__meshim_widget_widgets_chatLogRenderer_ResendChatMessage = i(319);
e.__$$__jx_ui_html_span = i(31);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatOption = i(318);
e.__$$__meshim_widget_widgets_chatLogRenderer_TranslationSwitch = i(316);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatFile = i(315);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatName, "chat_name", "", [], {
id: "chat_name",
addClass: "chat_name"
} ], [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatMessage, "chat_msg", "", [], {
id: "chat_msg",
addClass: "chat_msg"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_ResendChatMessage, "resend", "", [], {
id: "resend",
addClass: "resend_chat_msg"
} ] ], {
class: "chat_msg_holder"
} ], [ e.__$$__jx_ui_html_span, "", "", [], {
text: " "
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatOption, "chat_option", "", [], {
id: "chat_option",
addClass: "chat_option"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_TranslationSwitch, "translation_switch", "", [], {
id: "translation_switch"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatFile, "chat_file", "", [], {
id: "chat_file",
addClass: "chat_file"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:logRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__chat_name"), f = n.get(s + "__chat_msg"), g = n.get(s + "__resend"), m = n.get(s + "__chat_option"), $ = n.get(s + "__translation_switch"), b = n.get(s + "__chat_file");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t(t) {
if (n !== t) {
if (n) {
h.autounbind(n, "value", e);
h.autounbind(o, "value", e);
o = null;
}
n = t;
if (n) {
o = s.$(t.name).$("show_original$bool");
h.autobind(n, "value", e);
h.autobind(o, "value", e);
}
g.setDataNode(t);
p.setDataNode(t);
b.setDataNode(t);
}
}
function e() {
var t = n.$("msg$string"), e = n.$("options$string"), i = null;
if (n.hasKey("translation")) {
i = o;
if (!i.getValue()) {
t = n.$("translation").$("msg$string");
e = n.$("translation").$("options$string");
}
}
f.setDataNode(t);
m.setDataNode(e);
$.setDataNode(i);
}
var n, o, r = i(5), s = r.root.$("livechat").$("ui").$("channel").$("log");
!function() {
h.setDataNode = t;
}();
}();
for (var x in w) w.hasOwnProperty(x) && (h[x] = w[x]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
marginTop: "10px",
".chat_name": {
fontWeight: "bold",
"&": "$$chatLogName"
},
"&.visitor .chat_name": {
color: "$$chatLogVisitorNameColor"
},
"&.agent .chat_name": {
color: "$$chatLogAgentNameColor"
},
".chat_msg_holder": {
whiteSpace: "pre-wrap",
wordWrap: "break-word",
display: "inline",
".chat_msg": {
"&": "$$chatLogMsg"
},
".resend_chat_msg": {
marginLeft: "6px"
}
},
".chat_option": {
input: {
margin: "2px 5px"
}
},
".chat_file": {
"marginTop, marginBottom": "5px",
"&": "$$chatLogFile"
}
},
"**self.group_children": {
marginTop: "0px",
".chat_name": {
display: "none"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_BasicRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatLog = i(147);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatLog, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(5), e = t.root.$("livechat").$("ui").$("history"), n = e.$("log"), o = e.$("log_length$int");
!function() {
h.getElement("list").on("jx:list:length", function(t) {
o.update(t);
});
h.setDataNode(n);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatLog.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatLog;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_chatPanel_HistoryLog");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_div, "inner", "", [], {
id: "inner",
addClass: "inner",
useDisplay: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__inner");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(12), e = {
SMALL: 16,
BIG: 30
}, n = h.setVisible;
h.setVisible = function(e) {
e = t(e);
n.call(h, e);
p.setVisible(e);
};
h.setSize = function(t) {
var i = "big" === t ? e.BIG : e.SMALL;
h.setWidth(i);
h.setHeight(i);
};
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"@keyframes": {
spinner: {
to: {
transform: "rotate(360deg)"
}
}
},
"**self": {
width: "16px",
height: "16px",
margin: "auto"
},
".inner": {
width: "100%",
height: "100%",
borderRadius: "50%",
border: "2px solid transparent",
borderTopColor: "#ddd",
borderRightColor: "#ddd",
animation: "spinner .6s linear infinite"
}
};
s(t, "meshim_widget_components_chatWindow_chatPanel_Spinner");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, s) {
if (!(this instanceof n)) return new n(t, e, i, r, s);
s || (s = {});
s.tagName || (s.tagName = "input");
s.type || (s.type = "checkbox");
a.call(this, t, e, i, r, s);
this.on("click", function() {
this.onAutoValidate();
});
o.engineIE < 9 && this.on("click", function() {
this.fire("change");
});
}
var o = i(8), r = i(1), s = i(12), a = i(43);
n.prototype = r(a.prototype);
n.prototype.getChecked = function() {
return this.dom.checked;
};
n.prototype.setChecked = function(t) {
this.dom.checked = s(t);
return this;
};
n.prototype.toggleChecked = function() {
this.setChecked(!this.getChecked());
return this;
};
n.prototype.getInitialChecked = function() {
return o.engineIE <= 8 ? this._initialChecked : this.dom.getAttribute("checked");
};
n.prototype.setInitialChecked = function(t) {
o.engineIE <= 8 ? this._initialChecked = t : this.setAttribute("checked", t);
return this;
};
n.prototype.reset = function() {
this.setChecked(this.getInitialChecked()).setValidity(!0);
a.prototype.reset.call(this);
};
n.prototype.validate = function(t) {
var e = !this.dom.required || this.getChecked();
!e && t && this.focus();
this.setValidity(e);
return e;
};
t.exports = n;
e(n, "jx_ui_CheckBox");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "container", "", [], {
id: "container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
class: "generated_form"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__container");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
var t, i, s, l;
t = e.getValue();
if (!w.equal(n, t)) {
p.empty();
S = {};
A = {};
n = t;
var d, u, c, h, f;
for (s in t) if (t.hasOwnProperty(s)) {
i = t[s];
c = null;
if (C[i.name$string]) continue;
if (!j[i.type$string]) continue;
if (!i.name$string) continue;
if (!i.label$string) continue;
if (o && !i.value_user$string || "checkbox" == i.type$string && !i.checked$bool) continue;
d = A[i.name$string] = new _(p, null, null, null, {
className: "field field_" + i.type$string
});
d.label = u = new v(d, null, null, null, {
className: "label"
});
d.label_name = new v(u, null, null, [ b.get(e.$$(s + ".label$string")) ]);
d.label_required = new v(u, null, null, [ i.required$bool && !o ? " *" : "" ]);
d.input = S[i.name$string] = c = new j[i.type$string](d, null, null, null, {
name: i.name$string,
required: i.required$bool,
autoValidate: !0,
readOnly: o
});
(c.container || c).addClass("input input_" + i.type$string);
c && c.setLabelElement(u);
switch (i.type$string) {
case "checkbox_multiple":
case "radio":
i.options && c.setOptions(i.options);
break;

case "text":
case "email":
case "textarea":
i.placeholder$string && c.setPlaceholder(i.placeholder$string);
if (o) if (r.isIE <= 7) {
c.style.overflow = "visible";
c.style.height = 0;
} else a(function(t) {
return function() {
t.setMinHeight("0");
t.setHeight("0");
t.setHeight(t.getScrollHeight());
};
}(c));
break;

case "checkbox":
i.checked$bool && c.setChecked(i.checked$bool).setInitialChecked(i.checked$bool);
d.insertBefore(c.container || c, u);
o && c.setDisabled(!0);
break;

case "select":
for (l in i.options) if (i.options.hasOwnProperty(l)) {
f = new y(c, null, null, [ i.options[l].label$string || i.options[l].value$string ], {
value: i.options[l].value$string
});
(i.value$string == i.options[l].value$string || i.options[l].checked$bool) && f.setSelected(!0);
}
o && c.setDisabled(!0);
break;

case "department":
c.setSelectedIndex(0);
}
if (!o) {
d.error_message = h = new $(d, null, null, [ i.error_message$string || b.error_message[i.type$string] || b.error_message.default ], {
className: "error_message"
});
h.setUseDisplay(!0);
c && c.setErrorMessageElement(h).hideErrorMessage();
h.setVisible("none");
}
if (o && i.value_user$string) {
c.setValue && c.setValue(i.value_user$string || "");
c.setInitialValue && c.setInitialValue(i.value_user$string || "");
} else if (i.value$string) {
c.setValue && c.setValue(i.value$string);
c.setInitialValue && c.setInitialValue(i.value$string);
}
if (i.hidden$bool) {
d.setDisplay("none");
d.setRequired(!1);
}
}
var g = p.getLastChild();
g && g.addClass("last-child");
}
}
var e, n, o, r = i(8), s = i(12), a = i(16), _ = i(337), l = i(336), d = i(335), u = i(156), c = i(84), f = i(77), g = i(78), m = i(155), $ = i(79), b = i(11), w = i(65), x = i(102), v = i(19), y = i(154), j = {
text: c,
email: g,
textarea: r.isIE < 9 ? c : f,
checkbox: x,
select: m,
checkbox_multiple: l,
radio: d,
department: u
}, C = {
name: 1,
email: 1,
phone: 1
}, S = {}, A = {};
h.submitSelf = function() {
if (e) {
var t, i = {};
for (var o in n) if (n.hasOwnProperty(o)) {
if (n[o].hidden$bool) continue;
t = S[n[o].name$string];
if (!t) continue;
i[o] = {
value_user$string: t.getValue()
};
t.getChecked && (i[o].checked_user$bool = t.getChecked());
!t.getOptions || t instanceof u || (i[o].options = t.getOptions(!0));
}
e.update(i);
}
};
h.submit = function(t, e, i, o) {
if (t) {
var r, s, a = {};
for (s in n) if (n.hasOwnProperty(s)) {
if (n[s].hidden$bool) continue;
if (o && "department_id" == n[s].name$string) continue;
r = S[n[s].name$string];
if (!r) continue;
if (i) {
a[s] = {
value_user$string: r.getValue()
};
r.getChecked && (a[s].checked_user$bool = r.getChecked());
!r.getOptions || r instanceof u || (a[s].options = r.getOptions(!0));
} else {
a[s] = {
name$string: n[s].name$string,
value$string: r.getValue()
};
r.getChecked && (a[s].checked$bool = r.getChecked());
!r.getOptions || r instanceof u || (a[s].options = r.getOptions());
}
}
if (e) {
var _ = e.getValue();
for (s in _) if (_.hasOwnProperty(s)) {
if (!_[s] || !C[s]) continue;
a[s] = {
name$string: s,
value$string: _[s]
};
}
}
t.write(a);
}
};
h.setReadOnly = function(t) {
o = s(t);
h[o ? "addClass" : "removeClass"]("read_only");
return h;
};
h.setDataNode = function(i) {
if (e != i) {
e && h.autounbind(e, "value", t);
e = i;
e && h.autobind(e, "value", t);
}
};
h.populateSelf = function() {
if (e) {
var t, i = e.getValue();
for (var o in i) if (i.hasOwnProperty(o)) {
t = S[n[o].name$string];
if (!t) continue;
t.setValue(i[o].value_user$string);
t.setChecked && t.setChecked(i[o].checked_user$bool);
t.setOptions && t.setOptions(i[o].options, !0);
}
}
};
h.reset = function() {
if (e) {
var t, i = e.getValue();
for (var o in i) if (i.hasOwnProperty(o)) {
t = S[n[o].name$string];
if (!t) continue;
t.reset && t.reset();
}
}
};
h.getField = function(t) {
return A[t];
};
h.getInput = function(t) {
return S[t];
};
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
"*zoom": 1
},
".input_text, .input_email, textarea, select": {
width: "100%"
},
".label, .error_message, .option_label": {
display: "block"
},
".input_checkbox, .input_input_radio, .input_input_checkbox": {
display: "inline-block",
float: "left",
clear: "both"
},
".field": {
marginBottom: "15px",
"&.field_radio .input, &.field_department .input": {
input: {
"width, height": "16px"
},
label: {
paddingLeft: "20px",
lineHeight: "16px"
},
"label.disabled": {
color: "#ccc",
"&": "$$inputDisabled"
}
},
"&.field_checkbox, &.field_checkbox_multiple .input": {
input: {
"width, height": "16px"
},
label: {
paddingLeft: "20px",
lineHeight: "15px"
}
},
"&.field_checkbox, &.field_checkbox_multiple, &.field_radio": {
"&.invalid": {}
}
},
".label": {
marginBottom: "5px",
fontWeight: "bold"
},
textarea: {
"minHeight, *height": "70px",
resize: "vertical"
},
".option_label": {
marginBottom: "5px",
"&:last-child": {
marginBottom: 0
}
},
".error_message": {
paddingBottom: "5px"
},
"&.read_only": {
".field_radio, .field_checkbox_multiple": {
".input_input_radio, .input_input_checkbox": {
display: "none"
}
},
textarea: {
overflow: "hidden"
},
".input_checkbox_multiple": {
label: {
display: "inline",
marginRight: "0.5em",
"&:after": {
content: "','"
},
"&.last-checked": {
marginRight: 0,
"&:after": {
content: "none"
}
}
}
},
".field": {
padding: "6px",
marginBottom: 0
},
".input_text, .input_email, textarea, .fake_input": {
border: "none",
padding: 0,
resize: "none",
background: "transparent"
},
select: {
padding: 0,
border: "none",
height: "auto",
background: "transparent"
},
".option_label": {
marginBottom: 0,
paddingLeft: "0 !important"
},
".label": {
display: "none"
},
button: {
position: "relative",
background: "transparent"
}
}
};
s(t, "meshim_widget_widgets_Form");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Gravatar = i(81);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Gravatar, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
r.test(t) ? h.setDataNode(s.$("settings").$("concierge")) : n.test(t) ? h.setDataNode(s.$("ui").$("cache_agents").$(t)) : o.test(t) ? h.setDataNode(s.$("profile")) : h.setDataNode(s.$("settings").$("concierge"));
return h;
}
var e = i(5), n = /^agent/i, o = /^visitor/i, r = /^agent:trigger$/, s = e.root.$("livechat");
!function() {
h.setMemberId = t;
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Gravatar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Gravatar;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_Avatar");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_Label = i(19);
e.__$$__meshim_widget_widgets_FakeInput = i(162);
e.__$$__meshim_widget_widgets_Avatar = i(104);
e.__$$__meshim_widget_widgets_iconFont_Button = i(161);
e.__$$__meshim_widget_widgets_ErrorMessage = i(79);
e.__$$__meshim_widget_widgets_TextField = i(84);
e.__$$__meshim_widget_widgets_EmailField = i(78);
e.__$$__meshim_widget_widgets_PhoneField = i(160);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(151), h = o(152), p = o(153), f = o(154), g = o(155), m = o(156), $ = o(157), b = o(158), w = o(159), x = o(160), v = o(161), y = o(162), j = o(163), C = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "available_types_el", "", [ [ e.__$$__jx_ui_Label, "label_logged_out", "", [ c, [ e.__$$__jx_ui_Label, "label_logged_out_required", "", [], {
id: "label_logged_out_required"
} ] ], {
id: "label_logged_out",
addClass: "label label_logged_out"
} ], [ e.__$$__jx_ui_Label, "label_logged_in", "", [ h ], {
id: "label_logged_in",
addClass: "label label_logged_in"
} ], [ e.__$$__meshim_widget_widgets_FakeInput, "fake_input", "", [ [ e.__$$__meshim_widget_widgets_Avatar, "avatar", "", [], {
id: "avatar",
addClass: "avatar"
} ], [ e.__$$__jx_ui_Label, "internal_placeholder", "", [ p ], {
id: "internal_placeholder",
addClass: "internal_placeholder"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "logged_in_name", "", [], {
id: "logged_in_name",
addClass: "logged_in_name"
} ], [ e.__$$__jx_ui_Label, "logged_in_email", "", [], {
id: "logged_in_email",
addClass: "logged_in_email"
} ], [ e.__$$__jx_ui_Label, "logged_in_phone", "", [], {
id: "logged_in_phone",
addClass: "logged_in_phone"
} ], [ e.__$$__jx_ui_Widget, "logged_in_actions", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "logged_in_edit", "", [], {
id: "logged_in_edit",
icon: "pencil",
title: f
} ], [ e.__$$__meshim_widget_widgets_iconFont_Button, "logged_in_clear", "", [], {
id: "logged_in_clear",
icon: "dustbin",
title: g
} ] ], {
id: "logged_in_actions",
addClass: "logged_in_actions"
} ] ], {
addClass: "floater_inner_seriously"
} ] ], {
addClass: "floater_inner"
} ] ], {
addClass: "floater"
} ] ], {
id: "fake_input",
addClass: "fake_input",
tabIndex: "0"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "error_message", "", [ m ], {
id: "error_message",
addClass: "error_message",
useDisplay: "true"
} ] ], {
id: "available_types_el",
addClass: "field profile_field"
} ], [ e.__$$__jx_ui_Widget, "editing_el", "", [ [ e.__$$__jx_ui_Label, "label_edit_internal", "", [ c, [ e.__$$__jx_ui_Label, "label_edit_internal_required", "", [], {
id: "label_edit_internal_required"
} ] ], {
id: "label_edit_internal",
addClass: "label label_edit_internal"
} ], [ e.__$$__meshim_widget_widgets_TextField, "name", "", [], {
id: "name",
placeholder: $,
maxLength: "255",
addClass: "input_name standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "name_error", "", [ b ], {
id: "name_error",
addClass: "error_message",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_widgets_EmailField, "email", "", [], {
id: "email",
placeholder: w,
addClass: "input_email standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "email_error", "", [ x ], {
id: "email_error",
addClass: "error_message",
useDisplay: "true"
} ] ], {
id: "editing_el",
addClass: "editing field profile_field"
} ], [ e.__$$__jx_ui_Widget, "edit_external", "", [ [ e.__$$__jx_ui_Label, "", "", [ v ], {
addClass: "edit_external_label"
} ], [ e.__$$__jx_ui_Widget, "edit_external_types", "", [], {
id: "edit_external_types",
addClass: "edit_external_types"
} ] ], {
id: "edit_external",
addClass: "edit_external"
} ], [ e.__$$__jx_ui_Widget, "phone_field", "", [ [ e.__$$__jx_ui_Label, "phone_label", "", [ y, [ e.__$$__jx_ui_Label, "phone_required", "", [], {
id: "phone_required"
} ] ], {
id: "phone_label",
addClass: "label"
} ], [ e.__$$__meshim_widget_widgets_PhoneField, "phone", "", [], {
id: "phone",
addClass: "input_phone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "phone_error", "", [ j ], {
id: "phone_error",
addClass: "error_message",
useDisplay: "true"
} ] ], {
id: "phone_field",
addClass: "field field_phone"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
class: "profile_form"
} ], S = C[0].call(this, s, a, null, n.mangleIDs(a, C[3]), C[4]), A = S || this;
n.set(a, A);
var k = n.get(a + "__available_types_el"), I = n.get(a + "__label_logged_out"), T = n.get(a + "__label_logged_out_required"), B = n.get(a + "__label_logged_in"), N = n.get(a + "__fake_input"), D = n.get(a + "__avatar"), E = n.get(a + "__internal_placeholder"), O = n.get(a + "__logged_in_name"), P = n.get(a + "__logged_in_email"), L = n.get(a + "__logged_in_phone"), W = n.get(a + "__logged_in_actions"), R = n.get(a + "__logged_in_edit"), F = n.get(a + "__logged_in_clear"), M = n.get(a + "__error_message"), V = n.get(a + "__editing_el"), H = n.get(a + "__label_edit_internal"), z = n.get(a + "__label_edit_internal_required"), U = n.get(a + "__name"), q = n.get(a + "__name_error"), G = n.get(a + "__email"), Y = n.get(a + "__email_error"), X = n.get(a + "__edit_external"), K = n.get(a + "__edit_external_types"), Z = n.get(a + "__phone_field"), Q = n.get(a + "__phone_label"), J = n.get(a + "__phone_required"), tt = n.get(a + "__phone"), et = n.get(a + "__phone_error");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var it = function() {
function t() {
var t, e, i, n = h.getValue();
for (e in n) if (n.hasOwnProperty(e)) {
t = n[e];
i = it[t.name$string];
if (!i) continue;
i.setRequired(!("required$bool" in t) || t.required$bool);
i.setPlaceholder(t.placeholder$string || S[t.name$string]);
}
}
function e() {
var t = ot.getValue();
st = 0;
if (t) {
d = t.email$bool;
for (var e in j) if (j.hasOwnProperty(e)) if (t[e + "$bool"]) {
st++;
e;
j[e].setDisplay("");
} else j[e].setDisplay("none");
s();
}
}
function n(t) {
f = t;
s();
}
function o(t) {
g = t;
s();
}
function r(t) {
if (t) {
if ("display_name$string" in t) if (w.isDefaultName(t.display_name$string)) {
O.setText("");
U.setValue("");
} else {
O.setText(t.display_name$string || "");
U.setValue(t.display_name$string || "");
}
if ("email$string" in t) {
P.setText(t.email$string || "");
G.setValue(t.email$string || "");
}
if ("phone$string" in t) {
L.setText(t.phone$string || "");
tt.setValue(t.phone$string || "");
}
s();
}
}
function s() {
g && (u = !1);
I.setDisplay(f ? "none" : "");
B.setDisplay(f ? "" : "none");
k.setDisplay(u ? "none" : "");
D.setDisplay(f ? "" : "none");
E.setDisplay(!f && d ? "" : "none");
V.setDisplay(u ? "" : "none");
X.setDisplay(!f && st ? "" : "none");
if (!f && st) u ? V.addClass("zero_margin") : k.addClass("zero_margin"); else {
k.removeClass("zero_margin");
V.removeClass("zero_margin");
}
if (p) {
I.setDisplay("none");
B.setDisplay("none");
H.setDisplay("none");
}
O.setDisplay(f ? "" : "none");
P.setDisplay(f ? "" : "none");
L.setDisplay(f && A.disabled ? "" : "none");
W.setDisplay(!f || A.disabled || ht.getValue() ? "none" : "");
f && !A.disabled ? O.addClass("buttons_pad") : O.removeClass("buttons_pad");
R.setDisplay(g ? "none" : "");
A.setClass("profile_form");
A.disabled && A.addClass("disabled");
c && A.addClass("mobile");
m && m.onLanguage && _();
A.addClass(f ? "logged_in" : "logged_out");
A.addClass(d ? "internal_enabled" : "internal_disabled");
A.addClass(u ? "editing" : "available_types");
st ? 1 == st ? A.addClass("external_one") : A.addClass("external_many") : A.addClass("external_none");
}
function a() {
var t = !ht.getValue() && !1 !== rt.getValue() && !A.disabled;
l = t;
Z.setDisplay(t ? "" : "none");
}
function _() {
A[m.rtl() ? "addClass" : "removeClass"]("rtl");
}
var l, d, u, c, h, p, f, g, m = i(7), $ = i(12), b = i(5), w = i(10), x = i(11), v = i(159), y = i(158), j = {
facebook: void 0,
twitter: void 0,
google: void 0
}, C = {
facebook: "facebook",
twitter: "twitter",
google: "google_2016"
}, S = {
name: m(164),
email: m(165)
}, it = {
name: U,
email: G,
phone: tt
}, nt = b.root.$("livechat").$("settings").$("login"), ot = nt.$("allowed_types"), rt = nt.$("phone_display$bool"), st = 0, at = b.root, _t = at.$("livechat").$("ui"), lt = at.$("livechat").$("profile"), dt = lt.$("logged_in$bool"), ut = lt.$("auth").$("type$string"), ct = _t.$("mobile$bool"), ht = _t.$("visitor").$("authenticated$bool");
A.submit = function() {
var t = U.getValue().trim(), e = G.getValue().trim(), i = tt.getValue().trim(), n = {};
if (!f || t || e) {
n.name = t;
n.email = e;
}
l && (n.phone = i);
b.livechat.updateProfile(n);
u = !1;
s();
};
A.setHideLabel = function() {
p = !0;
s();
};
A.setDisabled = function(t) {
t = $(t);
A.disabled = t;
A[t ? "addClass" : "removeClass"]("disabled");
U.setDisabled(t);
G.setDisabled(t);
a();
};
A.validate = function(t) {
for (var e = !0, i = [ U, G ], n = 0, o = i.length; n < o; n++) i[n].validate(!!t && e) || (e = !1);
e ? k.removeClass("invalid") : k.addClass("invalid");
M.setDisplay(e ? "none" : "");
l && !tt.validate(!!t && e) && (e = !1);
return e;
};
A.setDataNode = function(e) {
if (h != e) {
h && A.autounbind(h, "value", t);
h = e;
h && A.autobind(h, "value", t);
}
};
A.getValue = function() {
var t = {}, e = U.getValue();
w.isDefaultName(e) || (t.name = e);
t.email = G.getValue();
t.phone = tt.getValue();
return t;
};
A.setRequired = function(t) {
t = $(t);
U.setRequired(t);
G.setRequired(t);
T.setText(t ? " *" : "");
z.setText(t ? " *" : "");
if (!t) {
var e = U.validate(!1);
e = G.validate(!1) && e;
M.setDisplay(e ? "none" : "");
}
};
A.setPhoneRequired = function(t) {
t = $(t);
tt.setRequired(t);
J.setText(t ? " *" : "");
t || tt.validate(!1);
};
!function() {
function t(t) {
if (t && (!t.keyCode || 13 == t.keyCode)) {
var e = t.target.jx_wrapper;
if (e != K) {
for (;e.parentNode != K; ) e = e.parentNode;
var i = e.getName && e.getName();
i && b.livechat.doExternalLogin(i);
}
}
}
function i(t) {
t && t.preventDefault();
U.setValidity(!0);
G.setValidity(!0);
u = !0;
s();
U.focus();
}
function l(t) {
t && t.preventDefault();
b.livechat.doExternalLogout();
N.blur();
ct.getValue() && i();
}
var h;
c = ct.getValue();
c && A.addClass("mobile");
D.setDataNode(lt);
M.setDisplay("none");
A.removeClass("editing").addClass("available_types");
for (h in j) j.hasOwnProperty(h) && (j[h] = new (c ? y : v)(K, null, null, null, c ? {
name: h,
addClass: "float profile_form_edit_external " + h,
icon: C[h] + "_out"
} : {
name: h,
addClass: "profile_form_icon " + h,
icon: C[h],
title: x.external_login[h] || h,
tabIndex: 0
}));
K.on("keyup", t);
K.on(c ? "touchend" : "click", t);
N.on("focus", function() {
f || A.disabled || d && i();
});
R.on("click", i);
F.on("click", l);
tt.setLabelElement(Q);
U.setErrorMessageElement(q).hideErrorMessage();
G.setErrorMessageElement(Y).hideErrorMessage();
tt.setErrorMessageElement(et).hideErrorMessage();
A.autobind(ot, "value", e);
A.autobind(dt, "value", n);
A.autobind(lt, "value", r);
A.autobind(ut, "value", o);
if (m && m.onLanguage) {
m.onLanguage(_);
_();
}
A.autobind(ht, "value", function() {
a();
s();
});
A.autobind(rt, "value", function() {
a();
});
}();
}();
for (var nt in it) it.hasOwnProperty(nt) && (A[nt] = it[nt]);
A.fire && A.fire("init");
A.setStyle && A.setStyle(l);
A.setAttributes && A.setAttributes(u);
"function" == typeof A.addChildren ? A.addChildren(d) : n.addChildren(A, d);
if (A !== this) {
A.__jx__constructor = _;
A.__jx__native = !1;
}
return A;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".label_logged_out": {},
".label_logged_in": {},
".fake_input": {
position: "relative",
overflow: "hidden",
transform: "translateZ(0)",
"*zoom": 1
},
".avatar": {
float: "left",
"width, height": "32px",
marginRight: "5px",
"&": "$$profileFormLoggedIn"
},
"&.rtl .avatar": {
float: "right",
marginRight: 0,
marginLeft: "5px"
},
".internal_placeholder": {
float: "left",
"vertical-align": "top",
cursor: "pointer"
},
"&.rtl .internal_placeholder": {
float: "right"
},
".profile_divider": {
"vertical-align": "top",
marginRight: "5px"
},
"&.rtl .profile_divider": {
marginRight: 0,
marginLeft: "5px"
},
".internal_placeholder, .profile_divider": {
lineHeight: "18px",
"*lineHeight": "18px !important"
},
".editing": {
".input_name": {},
".input_email": {},
".input_phone": {}
},
".edit_external": {
marginTop: "5px",
color: "$$menuHeaderColor",
marginBottom: "15px",
".edit_external_label": {
verticalAlign: "middle"
},
".edit_external_types": {
display: "inline-block",
verticalAlign: "middle",
".profile_form_edit_external": {
display: "inline-block"
}
}
},
"&.rtl .edit_external": {
".edit_external_types": {
".profile_form_edit_external": {
marginLeft: 0,
marginRight: "5px"
}
}
},
".logged_in_name": {
fontWeight: "bold"
},
".logged_in_name.buttons_pad": {
paddingRight: "40px"
},
".logged_in_name, .logged_in_email": {
display: "block",
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis"
},
"&.rtl .logged_in_name": {
paddingRight: 0
},
"&.rtl .logged_in_name.buttons_pad": {
paddingLeft: "40px"
},
".logged_in_actions": {
position: "absolute",
"top, right": 0,
color: "$$menuHeaderColor",
marginTop: "5px",
marginRight: "5px",
button: {
marginLeft: "5px",
"&:hover, &:focus": {
color: "$$menuColor"
}
},
".divider": {
fontSize: "$$fontSizeXS",
lineHeight: "1.5",
margin: "0 5px",
cursor: "default",
opacity: .5
}
},
"&.rtl .logged_in_actions": {
right: "auto",
left: 0
},
".floater": {
display: "block",
overflow: "hidden",
"*position": "relative !important",
".floater_inner": {
display: "table",
".floater_inner_seriously": {
display: "table-cell",
verticalAlign: "middle"
}
}
},
"&.internal_enabled": {
".floater": {
float: "right",
"*float": "right !important"
}
},
"&.rtl.internal_enabled": {
".floater": {
float: "left"
}
},
"&.logged_in, &.internal_disabled": {
".floater": {
".floater_inner": {
tableLayout: "fixed",
width: "100%",
height: "32px"
}
}
},
"&.logged_in": {
".fake_input": {
background: "$$formSubmittedBg",
borderRadius: "$$formSubmittedRadius",
borderWidth: "$$formSubmittedBorderWidth",
borderStyle: "$$formSubmittedBorderStyle",
borderColor: "$$formSubmittedBorderColor"
},
".floater": {
float: "none !important"
}
},
"&.logged_out.internal_disabled, &.logged_in": {
".fake_input": {}
},
".profile_form_icon": {
cursor: "pointer",
display: "inline-block",
marginLeft: "5px",
"height, fontSize": "17px",
lineHeight: "21px",
"*padding": "0 !important",
"*marginLeft": "5px !important"
},
"&.rtl .profile_form_icon": {
marginLeft: 0,
marginRight: "5px"
},
".field": {
marginBottom: "15px",
"&.last-child": {
marginBottom: 0
},
"&.profile_field": {
"*padding": "0 !important",
"&.invalid": {},
"&.zero_margin": {
marginBottom: "0"
}
}
},
".label": {
display: "block",
marginBottom: "5px",
fontWeight: "bold"
},
"&.mobile": {
".avatar": {
"width, height": "36px"
},
"&.available_types": {
".fake_input": {
".internal_placeholder": {
lineHeight: "25px"
},
".profile_divider": {
lineHeight: "44px",
marginRight: "10px"
}
},
".floater": {
position: "absolute",
top: 0,
right: "-2px",
height: "100%"
},
".profile_form_icon": {
"marginLeft, marginRight": 0,
width: "auto",
height: "46px",
padding: "13px 12px 10px",
borderWidth: "0 0 0 1px",
borderRadius: "0",
".icon_font": {
textAlign: "center"
},
"&.google": {
"paddingLeft, paddingRight": "8px"
}
},
"&.logged_in": {
".fake_input": {},
".floater": {
position: "relative",
"top, right, left": 0
}
}
},
".logged_in_name, .logged_in_email": {
paddingRight: "80px"
},
".logged_in_actions": {
margin: "0px",
height: "100%",
button: {
height: "100%",
padding: "0 5px"
}
},
".editing": {
".name_container, .email_container": {
position: "relative",
"input.invalid ~ .error_icon": {
display: "block"
}
}
},
".edit_external": {
marginBottom: "15px",
".edit_external_types": {
display: "block",
marginTop: "10px"
}
}
},
"&.rtl.mobile": {
".floater": {
right: "auto",
left: "-2px"
},
".profile_divider": {
marginRight: 0,
marginLeft: "10px"
},
".logged_in_name, .logged_in_email": {
paddingRight: 0,
paddingLeft: "80px"
},
"&.available_types": {
".profile_form_icon": {
borderWidth: "0 1px 0 0"
}
}
},
"&.disabled": {
".field": {
marginBottom: 0
},
".fake_input": {
border: "none",
background: "transparent"
},
".field_phone": {
display: "none"
}
}
};
a(t, "meshim_widget_widgets_form_Profile");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, _) {
if (!(this instanceof n)) return new n(t, e, i, r, _);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, r, _);
var l = this;
this.$connection_message = a.root.$("connection").$("message$string");
this.connected_submits = [];
this.on("submit", function(t) {
l.handleSubmit(t);
});
this.onDestruction(function() {
l.connected_submits = null;
});
}
var o = i(2), r = i(1), s = i(42), a = i(5);
n.__jx__jcss = {};
n.prototype = r(s.prototype);
n.prototype.__jx__super = s;
n.prototype.onConnectedAndSubmit = function(t) {
this.connected_submits.push(t);
};
n.prototype.handleSubmit = function(t) {
if (!this.$connection_message.getValue()) for (var e = 0; e < this.connected_submits.length; e++) this.connected_submits[e](t); else t.preventDefault();
};
t.exports = n;
e(n, "meshim_widget_widgets_ConnAwareForm");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
selectable: "false"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
color: "$$toastColor",
background: "$$toastBg",
padding: "$$toastPadding",
borderWidth: "$$toastBorderWidth",
borderStyle: "$$toastBorderStyle",
borderColor: "$$toastBorderColor",
borderRadius: "$$toastRadius",
boxShadow: "$$toastShadow"
}
};
s(t, "meshim_widget_widgets_Toast");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "img";
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_img");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(110), o = i(111), r = i(173), s = {};
s._super = r;
s.defaults = {
colors: {
primary$string: "#555555",
banner$string: "#EEEEEE",
bubble$string: "#E59341"
}
};
s.generate = function(t) {
function e(t) {
var e = {}, i = t.luminance(), r = t.darken(10), s = t.lighten(10), a = n.interpolate(t, o.black, .5, "rgb"), d = n.interpolate(t, o.black, .7, "rgb");
e.color = new n.ColorScale({
colors: [ o.white, o.white, a.darken(10), a, a ],
positions: [ 0, _ - .001, _ + .001, l, 1 ],
mode: "rgb"
}).get(i).hex();
e.bg = new n.ColorScale({
colors: [ t, t, t.darken(10) ],
positions: [ 0, l, 1 ],
mode: "rgb"
}).get(i).hex();
e.iconColor = new n.ColorScale({
colors: [ t, t, d, d.lighten(10) ],
positions: [ 0, _ - .001, _ + .001, 1 ],
mode: "rgb"
}).get(i).hex();
e.borderColor = new n.ColorScale({
colors: [ r, r, t.darken(20) ],
positions: [ 0, l, 1 ],
mode: "rgb"
}).get(i).hex();
e.hoverBg = new n.ColorScale({
colors: [ s, t, t.darken(5) ],
positions: [ 0, l, 1 ],
mode: "rgb"
}).get(i).hex();
return e;
}
function i(t, e) {
var i = {}, r = t.luminance(), s = n.interpolate(t, o.black, e ? .7 : .5, "rgb"), a = e ? n.color(o.white) : n.interpolate(t, o.white, .5, "rgb");
i.color = new n.ColorScale({
colors: [ a, a.lighten(50), s, s.lighten(10) ],
positions: [ 0, h - .001, h + .001, 1 ],
mode: "rgb"
}).get(r).hex();
i.bg = t.hex();
return i;
}
var r = n.hex(t.colors.primary$string), s = r.luminance(), a = n.hex(t.colors.banner$string || t.colors.primary$string), _ = 120 / 255, l = 200 / 255, d = e(r), u = e(r.lighten(15)), c = e(a), h = 120 / 255, p = i(r), f = i(a, !0);
return {
standard: {
borderColor: "#DDD",
headColor: p.color,
headBg: r,
contentColor: "#444",
contentBlockBg: "#EEE",
placeholderColor: "#AAA",
inputColor: "#666",
inputBorderColor: "#DDD",
inputFocusBorderColor: o.clampLuminance(r, .2, .4).hex(),
buttonColor: d.color,
buttonBg: d.bg,
buttonBorderColor: d.borderColor,
buttonHoverBg: d.hoverBg,
buttonShadow: "0px 1px 2px rgba(0,0,0,0.1), inset 0px 1px 0px rgba(255,255,255,0.25)",
buttonSecColor: u.color,
buttonSecBg: u.bg,
buttonSecBorderColor: u.borderColor,
buttonSecHoverBg: u.hoverBg,
scrollableFrameTopHeight: "5px",
scrollableFrameTopBackground: "gradient top rgba(0,0,0,0.05) rgba(0,0,0,0)",
scrollableFrameTopBackgroundColor: "transparent",
scrollableFrameBottomHeight: "5px",
scrollableFrameBottomBackground: "gradient top rgba(0,0,0,0) rgba(0,0,0,0.05)",
scrollableFrameBottomBackgroundColor: "transparent",
toastColor: "#666",
toastBg: "rgba(255, 255, 255, 0.9)",
toastBorderColor: "#DDD",
toastShadow: "$$windowShadow",
avatarBorderColor: "#DDD",
profileCardAvatarBorderWidth: 0,
profileCardAvatarShadow: "0px 1px 2px rgba(0,0,0,0.2)",
profileCardNameColor: o.clampLuminance(r, 0, .2).hex(),
profileCardTitleColor: "#AAA",
bottomBorderWidth: "1px 0 0",
bottomBorderColor: "#EEE",
chatMotifHill: "#EEE",
chatMotifBubble: "#BBB",
chatButtonColor: d.color,
chatButtonBg: r.hex(),
chatButtonBorderWidth: s > l ? "" : 0,
chatButtonBorderColor: s > l ? "#DDD" : "",
faviconBg: new n.ColorScale({
colors: [ r.lighten(15), r.lighten(5), r.darken(5), r.darken(5) ],
positions: [ 0, .05, .0501, 1 ],
mode: "rgb"
}).get(s).hex(),
windowColor: "#666",
windowPadding: "3px",
windowShadow: "0px 0px 3px 2px rgba(0,0,0,0.1)",
windowContentBorderWidth: "0 1px",
windowContentBorderColor: "#DDD",
menuBorderColor: "#DDD",
menuItemHoverBg: "#EEE",
titleBarColor: p.color,
titleBarBg: p.bg,
titleBarBorderWidth: s > 220 / 255 ? "1px" : 0,
titleBarBorderColor: s > 220 / 255 ? "#DDD" : "",
titleBarIconsColor: "",
actionBarColor: "#999",
actionBarBorderWidth: "0 1px 1px 1px",
actionBarBorderColor: "#DDD",
actionBarHoverColor: "#666",
chatPanelProfileCardContainerBorderWidth: "0 0 1px",
chatPanelProfileCardContainerBorderColor: "#EEE",
chatLogVisitorBubbleBg: "#FBFBFB",
chatLogVisitorBubbleBorderColor: "#EEE",
chatLogAgentBubbleBg: n.interpolate(o.clampLuminance(r, .4, .8), o.white, .8, "rgb").hex(),
chatLogAgentBubbleBorderColor: n.interpolate(o.clampLuminance(r, .4, .8), o.white, .4, "rgb").hex(),
chatLogAvatarBorderWidth: "$$borderWidth",
chatLogFileProgressBg: p.bg,
chatLogDateDividerLineHeight: "0.1em",
chatLogDateDividerBorderBottom: "1px solid #DDD",
chatTranslationSwitchColor: "#999",
chatTextAreaBorderWidth: "1px 0 0",
chatTextAreaBorderColor: "#EEE",
chatTextAreaInputShadow: "inset 0px 1px 3px rgba(0,0,0,0.1)",
chatTextAreaInputFocusShadow: "inset 0px 1px 3px " + n.interpolate(o.clampLuminance(r, .2, .4), o.white, .5, "rgb").hex(),
chatTextAreaDropColor: "#444",
chatTextAreaDropBg: "#EEE",
chatTextAreaDropBorderWidth: "1px",
chatTextAreaDropBorderStyle: "dashed",
chatTextAreaDropBorderColor: "#444",
badgeBg: f.bg,
badgeBorderWidth: 0,
badgeContentColor: f.color,
badgeContentBg: f.bg,
badgeContentBorderWidth: 0,
badgeFormBg: o.white,
badgeFormBorderWidth: "1px 0",
badgeFormBorderColor: "#DDD",
badgeIconColor: c.iconColor
},
mobile: {
authButtonBg: "$$inputBg",
authButtonBorderColor: "$$inputBorderColor",
authButtonShadow: "none",
bottomBorderWidth: 0,
menuBg: "#EEE",
menuHeaderColor: "#999",
menuItemHoverBg: "#DDD",
menuRadius: "0 0 10px 10px",
menuShadow: "none",
actionBarColor: p.color,
actionBarBg: r.darken(10).hex(),
actionBarBorderWidth: 0,
actionBarHoverColor: p.color,
chatPanelProfileCardContainerBorderColor: "#DDD",
chatTextAreaBorderColor: "#DDD",
chatTextAreaInputShadow: "none",
chatTextAreaInputBorderWidth: 0,
chatTextAreaInputRadius: 0,
chatTextAreaInputFocusShadow: "none",
brandingLinkColor: "#999"
}
};
};
t.exports = s;
e(s, "meshim_widget_themes_Simple");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = {}, i = {};
(function() {
var e, n, o, r, s, a, _, l, d, u, c, h, p, f, g, m, $, b, w, x, v, y, j, C, S, A, k, I, T, B, N, D, E, O, P, L, W, R, F;
N = void 0 !== t && null !== t ? t : this;
l = null != (L = N.chroma) ? L : N.chroma = {};
void 0 !== i && null !== i && (i.exports = l);
e = function() {
function t(t, e, i, n) {
var o, r;
o = this;
null == t && null == e && null == i && null == n && (t = [ 255, 0, 255 ]);
if ("array" === D(t) && 3 === t.length) {
null == n && (n = e);
r = t, t = r[0], e = r[1], i = r[2];
}
"string" === D(t) ? n = "hex" : null == n && (n = "rgb");
"rgb" === n ? o._rgb = [ t, e, i ] : "hsl" === n ? o._rgb = f(t, e, i) : "hsv" === n ? o._rgb = g(t, e, i) : "hex" === n ? o._rgb = h(t) : "lab" === n ? o._rgb = $(t, e, i) : "lch" === n ? o._rgb = x(t, e, i) : "hsi" === n && (o._rgb = p(t, e, i));
d(o._rgb);
}
t.prototype.rgb = function() {
return this._rgb;
};
t.prototype.hex = function() {
return C(this._rgb);
};
t.prototype.toString = function() {
return this.hex();
};
t.prototype.hsl = function() {
return A(this._rgb);
};
t.prototype.hsv = function() {
return k(this._rgb);
};
t.prototype.lab = function() {
return I(this._rgb);
};
t.prototype.lch = function() {
return T(this._rgb);
};
t.prototype.hsi = function() {
return S(this._rgb);
};
t.prototype.luminance = function() {
return y(this._rgb);
};
t.prototype.name = function() {
var t, e;
t = this.hex();
for (e in l.colors) if (l.colors.hasOwnProperty(e) && t === l.colors[e]) return e;
return t;
};
t.prototype.interpolate = function(e, i, n) {
var o, r, s, a, _, l, d, u, c, h, p, f, g;
u = this;
null == n && (n = "rgb");
"string" === D(i) && (i = new t(i));
if ("hsl" === n || "hsv" === n || "lch" === n || "hsi" === n) {
if ("hsl" === n) {
f = u.hsl();
g = i.hsl();
} else if ("hsv" === n) {
f = u.hsv();
g = i.hsv();
} else if ("hsi" === n) {
f = u.hsi();
g = i.hsi();
} else if ("lch" === n) {
f = u.lch();
g = i.lch();
}
if ("h" === n.substr(0, 1)) {
s = f[0], h = f[1], l = f[2];
a = g[0], p = g[1], d = g[2];
} else {
l = f[0], h = f[1], s = f[2];
d = g[0], p = g[1], a = g[2];
}
if (isNaN(s) || isNaN(a)) if (isNaN(s)) if (isNaN(a)) r = void 0; else {
r = a;
1 !== l && 0 !== l || (c = p);
} else {
r = s;
1 !== d && 0 !== d || (c = h);
} else {
o = a > s && a - s > 180 ? a - (s + 360) : a < s && s - a > 180 ? a + 360 - s : a - s;
r = s + e * o;
}
null == c && (c = h + e * (p - h));
_ = l + e * (d - l);
return "h" === n.substr(0, 1) ? new t(r, c, _, n) : new t(_, c, r, n);
}
if ("rgb" === n) {
f = u._rgb;
g = i._rgb;
return new t(f[0] + e * (g[0] - f[0]), f[1] + e * (g[1] - f[1]), f[2] + e * (g[2] - f[2]), n);
}
if ("lab" === n) {
f = u.lab();
g = i.lab();
return new t(f[0] + e * (g[0] - f[0]), f[1] + e * (g[1] - f[1]), f[2] + e * (g[2] - f[2]), n);
}
throw "color mode " + n + " is not supported";
};
t.prototype.darken = function(t) {
var e, i;
null == t && (t = 20);
i = this;
e = i.lch();
e[0] -= t;
return l.lch(e);
};
t.prototype.darker = function(t) {
return this.darken(t);
};
t.prototype.brighten = function(t) {
null == t && (t = 20);
return this.darken(-t);
};
t.prototype.brighter = function(t) {
return this.brighten(t);
};
t.prototype.saturate = function(t) {
var e, i;
null == t && (t = 20);
i = this;
e = i.lch();
e[1] += t;
return l.lch(e);
};
t.prototype.desaturate = function(t) {
null == t && (t = 20);
return this.saturate(-t);
};
return t;
}();
h = function(t) {
var e, i, n, o, r;
if (t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)) {
4 !== t.length && 7 !== t.length || (t = t.substr(1));
if (3 === t.length) {
t = t.split("");
t = t[0] + t[0] + t[1] + t[1] + t[2] + t[2];
}
r = parseInt(t, 16);
n = r >> 16;
i = r >> 8 & 255;
e = 255 & r;
return [ n, i, e ];
}
if (o = c(t)) return o;
throw "unknown color: " + t;
};
c = function(t) {
var e, i, n, o;
if (null != l.colors && l.colors[t]) return h(l.colors[t]);
if (n = t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)) return n.slice(1, 4);
if (n = t.match(/rgb\(\s*(\-?\d+)%,\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*\)/)) {
o = n.slice(1, 4);
for (i in o) o.hasOwnProperty(i) && (o[i] = Math.round(2.55 * o[i]));
return o;
}
if (n = t.match(/hsl\(\s*(\-?\d+),\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*\)/)) {
e = n.slice(1, 4);
e[1] *= .01;
e[2] *= .01;
return f(e);
}
};
C = function() {
var t, e, i, n, o, r;
r = E(arguments), i = r[0], e = r[1], t = r[2];
o = i << 16 | e << 8 | t;
n = "000000" + o.toString(16);
return "#" + n.substr(n.length - 6);
};
g = function() {
var t, e, i, n, o, r, s, a, _, l, d, u, c, h, p, f, g, m;
u = E(arguments), n = u[0], _ = u[1], d = u[2];
d *= 255;
if (0 === _) a = i = t = d; else {
360 === n && (n = 0);
n > 360 && (n -= 360);
n < 0 && (n += 360);
n /= 60;
o = Math.floor(n);
e = n - o;
r = d * (1 - _);
s = d * (1 - _ * e);
l = d * (1 - _ * (1 - e));
switch (o) {
case 0:
c = [ d, l, r ], a = c[0], i = c[1], t = c[2];
break;

case 1:
h = [ s, d, r ], a = h[0], i = h[1], t = h[2];
break;

case 2:
p = [ r, d, l ], a = p[0], i = p[1], t = p[2];
break;

case 3:
f = [ r, s, d ], a = f[0], i = f[1], t = f[2];
break;

case 4:
g = [ l, r, d ], a = g[0], i = g[1], t = g[2];
break;

case 5:
m = [ d, r, s ], a = m[0], i = m[1], t = m[2];
}
}
a = Math.round(a);
i = Math.round(i);
t = Math.round(t);
return [ a, i, t ];
};
k = function() {
var t, e, i, n, o, r, s, a, _, l;
l = E(arguments), s = l[0], i = l[1], t = l[2];
r = Math.min(s, i, t);
o = Math.max(s, i, t);
e = o - r;
_ = o / 255;
if (0 === o) {
n = void 0;
a = 0;
} else {
a = e / o;
s === o && (n = (i - t) / e);
i === o && (n = 2 + (t - s) / e);
t === o && (n = 4 + (s - i) / e);
n *= 60;
n < 0 && (n += 360);
}
return [ n, a, _ ];
};
f = function() {
var t, e, i, n, o, r, s, a, _, l, d, u, c, h;
c = E(arguments), n = c[0], a = c[1], r = c[2];
if (0 === a) s = i = t = 255 * r; else {
d = [ 0, 0, 0 ];
e = [ 0, 0, 0 ];
l = r < .5 ? r * (1 + a) : r + a - r * a;
_ = 2 * r - l;
n /= 360;
d[0] = n + 1 / 3;
d[1] = n;
d[2] = n - 1 / 3;
for (o = u = 0; u <= 2; o = ++u) {
d[o] < 0 && (d[o] += 1);
d[o] > 1 && (d[o] -= 1);
6 * d[o] < 1 ? e[o] = _ + 6 * (l - _) * d[o] : 2 * d[o] < 1 ? e[o] = l : 3 * d[o] < 2 ? e[o] = _ + (l - _) * (2 / 3 - d[o]) * 6 : e[o] = _;
}
h = [ Math.round(255 * e[0]), Math.round(255 * e[1]), Math.round(255 * e[2]) ], 
s = h[0], i = h[1], t = h[2];
}
return [ s, i, t ];
};
A = function(t, e, i) {
var n, o, r, s, a, _;
void 0 !== t && 3 === t.length && (_ = t, t = _[0], e = _[1], i = _[2]);
t /= 255;
e /= 255;
i /= 255;
s = Math.min(t, e, i);
r = Math.max(t, e, i);
o = (r + s) / 2;
if (r === s) {
a = 0;
n = void 0;
} else a = o < .5 ? (r - s) / (r + s) : (r - s) / (2 - r - s);
t === r ? n = (e - i) / (r - s) : e === r ? n = 2 + (i - t) / (r - s) : i === r && (n = 4 + (t - e) / (r - s));
n *= 60;
n < 0 && (n += 360);
return [ n, a, o ];
};
18;
s = .95047;
a = 1;
_ = 1.08883;
$ = function(t, e, i) {
var n, o, r, l, d, u, c;
void 0 !== t && 3 === t.length && (u = t, t = u[0], e = u[1], i = u[2]);
void 0 !== t && 3 === t.length && (c = t, t = c[0], e = c[1], i = c[2]);
l = (t + 16) / 116;
r = l + e / 500;
d = l - i / 200;
r = b(r) * s;
l = b(l) * a;
d = b(d) * _;
o = P(3.2404542 * r - 1.5371385 * l - .4985314 * d);
n = P(-.969266 * r + 1.8760108 * l + .041556 * d);
i = P(.0556434 * r - .2040259 * l + 1.0572252 * d);
return [ v(o, 0, 255), v(n, 0, 255), v(i, 0, 255) ];
};
I = function() {
var t, e, i, n, o, r, l;
l = E(arguments), i = l[0], e = l[1], t = l[2];
i = B(i);
e = B(e);
t = B(t);
n = O((.4124564 * i + .3575761 * e + .1804375 * t) / s);
o = O((.2126729 * i + .7151522 * e + .072175 * t) / a);
r = O((.0193339 * i + .119192 * e + .9503041 * t) / _);
return [ 116 * o - 16, 500 * (n - o), 200 * (o - r) ];
};
w = function() {
var t, e, i, n;
n = E(arguments), i = n[0], t = n[1], e = n[2];
e = e * Math.PI / 180;
return [ i, Math.cos(e) * t, Math.sin(e) * t ];
};
x = function(t, e, i) {
var n, o, r, s, a, _, l;
_ = w(t, e, i), n = _[0], o = _[1], r = _[2];
l = $(n, o, r), a = l[0], s = l[1], r = l[2];
return [ v(a, 0, 255), v(s, 0, 255), v(r, 0, 255) ];
};
b = function(t) {
return t > .206893034 ? t * t * t : (t - 4 / 29) / 7.787037;
};
O = function(t) {
return t > .008856 ? Math.pow(t, 1 / 3) : 7.787037 * t + 4 / 29;
};
P = function(t) {
return Math.round(255 * (t <= .00304 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055));
};
B = function(t) {
return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);
};
m = function() {
var t, e, i, n, o, r;
r = E(arguments), o = r[0], t = r[1], e = r[2];
i = Math.sqrt(t * t + e * e);
n = Math.atan2(e, t) / Math.PI * 180;
return [ o, i, n ];
};
T = function() {
var t, e, i, n, o, r, s;
r = E(arguments), o = r[0], i = r[1], e = r[2];
s = I(o, i, e), n = s[0], t = s[1], e = s[2];
return m(n, t, e);
};
S = function() {
var t, e, i, n, o, r, s, a, _;
_ = E(arguments), s = _[0], i = _[1], e = _[2];
t = 2 * Math.PI;
s /= 255;
i /= 255;
e /= 255;
r = Math.min(s, i, e);
o = (s + i + e) / 3;
a = 1 - r / o;
if (0 === a) n = 0; else {
n = (s - i + (s - e)) / 2;
n /= Math.sqrt((s - i) * (s - i) + (s - e) * (i - e));
n = Math.acos(n);
e > i && (n = t - n);
n /= t;
}
return [ 360 * n, a, o ];
};
p = function(t, e, i) {
var n, s, a, _;
_ = E(arguments), t = _[0], e = _[1], i = _[2];
t /= 360;
if (t < 1 / 3) {
n = (1 - e) / 3;
a = (1 + e * u(r * t) / u(o - r * t)) / 3;
s = 1 - (n + a);
} else if (t < 2 / 3) {
t -= 1 / 3;
a = (1 - e) / 3;
s = (1 + e * u(r * t) / u(o - r * t)) / 3;
n = 1 - (a + s);
} else {
t -= 2 / 3;
s = (1 - e) / 3;
n = (1 + e * u(r * t) / u(o - r * t)) / 3;
a = 1 - (s + n);
}
a = v(i * a * 3);
s = v(i * s * 3);
n = v(i * n * 3);
return [ 255 * a, 255 * s, 255 * n ];
};
d = function(t) {
var e;
for (e in t) if (t.hasOwnProperty(e)) {
t[e] < 0 && (t[e] = 0);
t[e] > 255 && (t[e] = 255);
}
return t;
};
y = function(t, e, i) {
var n;
n = E(arguments), t = n[0], e = n[1], i = n[2];
t = j(t);
e = j(e);
i = j(i);
return .2126 * t + .7152 * e + .0722 * i;
};
j = function(t) {
t /= 255;
return t <= .03928 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);
};
l.Color = e;
l.color = function(t, i, n, o) {
return new e(t, i, n, o);
};
l.hsl = function(t, i, n) {
return new e(t, i, n, "hsl");
};
l.hsv = function(t, i, n) {
return new e(t, i, n, "hsv");
};
l.rgb = function(t, i, n) {
return new e(t, i, n, "rgb");
};
l.hex = function(t) {
return new e(t);
};
l.css = function(t) {
return new e(t);
};
l.lab = function(t, i, n) {
return new e(t, i, n, "lab");
};
l.lch = function(t, i, n) {
return new e(t, i, n, "lch");
};
l.hsi = function(t, i, n) {
return new e(t, i, n, "hsi");
};
l.interpolate = function(t, i, n, o) {
if (null == t || null == i) return "#000";
"string" === D(t) && (t = new e(t));
"string" === D(i) && (i = new e(i));
return t.interpolate(n, i, o);
};
l.contrast = function(t, i) {
var n, o;
"string" === D(t) && (t = new e(t));
"string" === D(i) && (i = new e(i));
n = t.luminance();
o = i.luminance();
return n > o ? (n + .05) / (o + .05) : (o + .05) / (n + .05);
};
N = void 0 !== t && null !== t ? t : this;
l = null != (W = N.chroma) ? W : N.chroma = {};
e = l.Color;
n = function() {
function t(t) {
var e, i, n;
null == t && (t = {});
e = this;
e.range(t.colors, t.positions);
e._mode = null != (i = t.mode) ? i : "rgb";
e._nacol = l.hex(null != (n = t.nacol) ? n : l.hex("#ccc"));
e._spread = 0;
e._fixed = !1;
e.domain([ 0, 1 ]);
}
t.prototype.range = function(t, i) {
var n, o, r, s, a, _, d, u;
r = this;
null == t && (t = [ "#ddd", "#222" ]);
null != t && "string" === D(t) && null != (null != (_ = l.brewer) ? _[t] : void 0) && (t = l.brewer[t].slice(0));
for (n = s = 0, d = t.length - 1; 0 <= d ? s <= d : s >= d; n = 0 <= d ? ++s : --s) {
o = t[n];
"string" === D(o) && (t[n] = new e(o));
}
r._colors = t;
if (null != i) r._pos = i; else {
r._pos = [];
for (n = a = 0, u = t.length - 1; 0 <= u ? a <= u : a >= u; n = 0 <= u ? ++a : --a) r._pos.push(n / (t.length - 1));
}
return r;
};
t.prototype.domain = function(t) {
var e;
null == t && (t = []);
e = this;
e._domain = t;
e._min = t[0];
e._max = t[t.length - 1];
2 === t.length ? e._numClasses = 0 : e._numClasses = t.length - 1;
return e;
};
t.prototype.get = function(t) {
var e, i, n;
n = this;
if (isNaN(t)) return n._nacol;
if (n._domain.length > 2) {
e = n.getClass(t);
i = e / (n._numClasses - 1);
} else {
i = (t - n._min) / (n._max - n._min);
i = Math.min(1, Math.max(0, i));
}
return n.fColor(i);
};
t.prototype.fColor = function(t) {
var e, i, n, o, r, s, a;
o = this;
i = o._colors;
for (n = s = 0, a = o._pos.length - 1; 0 <= a ? s <= a : s >= a; n = 0 <= a ? ++s : --s) {
r = o._pos[n];
if (t <= r) {
e = i[n];
break;
}
if (t >= r && n === o._pos.length - 1) {
e = i[n];
break;
}
if (t > r && t < o._pos[n + 1]) {
t = (t - r) / (o._pos[n + 1] - r);
e = l.interpolate(i[n], i[n + 1], t, o._mode);
break;
}
}
return e;
};
t.prototype.classifyValue = function(t) {
var e, i, n, o, r, s, a;
o = this;
e = o._domain;
a = t;
if (e.length > 2) {
s = e.length - 1;
i = o.getClass(t);
r = e[0] + (e[1] - e[0]) * (0 + .5 * o._spread);
n = e[s - 1] + (e[s] - e[s - 1]) * (1 - .5 * o._spread);
a = o._min + (e[i] + .5 * (e[i + 1] - e[i]) - r) / (n - r) * (o._max - o._min);
}
return a;
};
t.prototype.getClass = function(t) {
var e, i, n, o;
o = this;
e = o._domain;
if (null != e) {
n = e.length - 1;
i = 0;
for (;i < n && t >= e[i]; ) i++;
return i - 1;
}
return 0;
};
t.prototype.validValue = function(t) {
return !isNaN(t);
};
return t;
}();
l.ColorScale = n;
l.scale = function(t, e) {
var i, n, o;
i = new l.ColorScale();
i.range(t, e);
o = !1;
n = function(t) {
var e;
e = i.get(t);
return o && e[o] ? e[o]() : e;
};
n.domain = function(t, e, o, r) {
var s;
null == o && (o = "e");
if (!arguments.length) return i._domain;
if (null != e) {
s = l.analyze(t, r);
t = 0 === e ? [ s.min, s.max ] : l.limits(s, o, e);
}
i.domain(t);
return n;
};
n.mode = function(t) {
if (!arguments.length) return i._mode;
i._mode = t;
return n;
};
n.range = function(t, e) {
i.range(t, e);
return n;
};
n.out = function(t) {
o = t;
return n;
};
n.getColor = function(t) {
return n(t);
};
n.spread = function(t) {
if (!arguments.length) return i._spread;
i._spread = t;
return n;
};
return n;
};
null == l.scales && (l.scales = {});
l.scales.cool = function() {
return l.scale([ l.hsl(180, 1, .9), l.hsl(250, .7, .4) ]);
};
l.scales.hot = function() {
return l.scale([ "#000", "#f00", "#ff0", "#fff" ], [ 0, .25, .75, 1 ]).mode("rgb");
};
l.analyze = function(t, e, i) {
var n, o, r, s, a, _, d;
r = {
min: Number.MAX_VALUE,
max: -1 * Number.MAX_VALUE,
sum: 0,
values: [],
count: 0
};
null == i && (i = function() {
return !0;
});
n = function(t) {
if (null != t && !isNaN(t)) {
r.values.push(t);
r.sum += t;
t < r.min && (r.min = t);
t > r.max && (r.max = t);
r.count += 1;
}
};
a = function(t, o) {
if (i(t, o)) return n(null != e && "function" === D(e) ? e(t) : null != e && "string" === D(e) || "number" === D(e) ? t[e] : t);
};
if ("array" === D(t)) for (_ = 0, d = t.length; _ < d; _++) {
s = t[_];
a(s);
} else for (o in t) if (t.hasOwnProperty(o)) {
s = t[o];
a(s, o);
}
r.domain = [ r.min, r.max ];
r.limits = function(t, e) {
return l.limits(r, t, e);
};
return r;
};
l.limits = function(t, e, i) {
var n, o, r, s, a, _, d, u, c, h, p, f, g, m, $, b, w, x, v, y, j, C, S, A, k, I, T, B, N, D, E, O, P, L, W, R, F, M, V, H, z, U, q, G, Y, X, K, Z, Q, J, tt, et, it, nt, ot;
null == e && (e = "equal");
null == i && (i = 7);
null == t.values && (t = l.analyze(t));
g = t.min;
p = t.max;
t.sum;
k = t.values.sort(function(t, e) {
return t - e;
});
h = [];
if ("c" === e.substr(0, 1)) {
h.push(g);
h.push(p);
}
if ("e" === e.substr(0, 1)) {
h.push(g);
for (d = I = 1, G = i - 1; 1 <= G ? I <= G : I >= G; d = 1 <= G ? ++I : --I) h.push(g + d / i * (p - g));
h.push(p);
} else if ("l" === e.substr(0, 1)) {
if (g <= 0) throw "Logarithmic scales are only possible for values > 0";
m = Math.LOG10E * Math.log(g);
f = Math.LOG10E * Math.log(p);
h.push(g);
for (d = T = 1, Y = i - 1; 1 <= Y ? T <= Y : T >= Y; d = 1 <= Y ? ++T : --T) h.push(Math.pow(10, m + d / i * (f - m)));
h.push(p);
} else if ("q" === e.substr(0, 1)) {
h.push(g);
for (d = B = 1, X = i - 1; 1 <= X ? B <= X : B >= X; d = 1 <= X ? ++B : --B) {
v = k.length * d / i;
y = Math.floor(v);
if (y === v) h.push(k[y]); else {
j = v - y;
h.push(k[y] * j + k[y + 1] * (1 - j));
}
}
h.push(p);
} else if ("k" === e.substr(0, 1)) {
b = k.length;
n = new Array(b);
a = new Array(i);
C = !0;
w = 0;
r = null;
r = [];
r.push(g);
for (d = N = 1, K = i - 1; 1 <= K ? N <= K : N >= K; d = 1 <= K ? ++N : --N) r.push(g + d / i * (p - g));
r.push(p);
for (;C; ) {
for (u = D = 0, Z = i - 1; 0 <= Z ? D <= Z : D >= Z; u = 0 <= Z ? ++D : --D) a[u] = 0;
for (d = E = 0, Q = b - 1; 0 <= Q ? E <= Q : E >= Q; d = 0 <= Q ? ++E : --E) {
A = k[d];
$ = Number.MAX_VALUE;
for (u = O = 0, J = i - 1; 0 <= J ? O <= J : O >= J; u = 0 <= J ? ++O : --O) {
_ = Math.abs(r[u] - A);
if (_ < $) {
$ = _;
o = u;
}
}
a[o]++;
n[d] = o;
}
x = new Array(i);
for (u = P = 0, R = i - 1; 0 <= R ? P <= R : P >= R; u = 0 <= R ? ++P : --P) x[u] = null;
for (d = L = 0, F = b - 1; 0 <= F ? L <= F : L >= F; d = 0 <= F ? ++L : --L) {
s = n[d];
null === x[s] ? x[s] = k[d] : x[s] += k[d];
}
for (u = W = 0, M = i - 1; 0 <= M ? W <= M : W >= M; u = 0 <= M ? ++W : --W) x[u] *= 1 / a[u];
C = !1;
for (u = tt = 0, V = i - 1; 0 <= V ? tt <= V : tt >= V; u = 0 <= V ? ++tt : --tt) if (x[u] !== r[d]) {
C = !0;
break;
}
r = x;
w++;
w > 200 && (C = !1);
}
c = {};
for (u = et = 0, H = i - 1; 0 <= H ? et <= H : et >= H; u = 0 <= H ? ++et : --et) c[u] = [];
for (d = it = 0, z = b - 1; 0 <= z ? it <= z : it >= z; d = 0 <= z ? ++it : --it) {
s = n[d];
c[s].push(k[d]);
}
S = [];
for (u = nt = 0, U = i - 1; 0 <= U ? nt <= U : nt >= U; u = 0 <= U ? ++nt : --nt) {
S.push(c[u][0]);
S.push(c[u][c[u].length - 1]);
}
S = S.sort(function(t, e) {
return t - e;
});
h.push(S[0]);
for (d = ot = 1, q = S.length - 1; ot <= q; d = ot += 2) isNaN(S[d]) || h.push(S[d]);
}
return h;
};
N = void 0 !== t && null !== t ? t : this;
D = function() {
var t, e, i, n, o;
t = {};
o = "Boolean Number String Function Array Date RegExp Undefined Null".split(" ");
for (i = 0, n = o.length; i < n; i++) {
e = o[i];
t["[object " + e + "]"] = e.toLowerCase();
}
return function(e) {
var i;
i = Object.prototype.toString.call(e);
return t[i] || "object";
};
}();
null == N.type && (N.type = D);
Array.max = function(t) {
return Math.max.apply(Math, t);
};
Array.min = function(t) {
return Math.min.apply(Math, t);
};
v = function(t, e, i) {
null == e && (e = 0);
null == i && (i = 1);
t < e && (t = e);
t > i && (t = i);
return t;
};
E = function(t) {
return 3 === t.length ? t : t[0];
};
r = 2 * Math.PI;
o = Math.PI / 3;
u = Math.cos;
N = void 0 !== t && null !== t ? t : this;
l = null != (R = N.chroma) ? R : N.chroma = {};
l.brewer = {
OrRd: [ "#fff7ec", "#fee8c8", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#b30000", "#7f0000" ],
PuBu: [ "#fff7fb", "#ece7f2", "#d0d1e6", "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#045a8d", "#023858" ],
BuPu: [ "#f7fcfd", "#e0ecf4", "#bfd3e6", "#9ebcda", "#8c96c6", "#8c6bb1", "#88419d", "#810f7c", "#4d004b" ],
Oranges: [ "#fff5eb", "#fee6ce", "#fdd0a2", "#fdae6b", "#fd8d3c", "#f16913", "#d94801", "#a63603", "#7f2704" ],
BuGn: [ "#f7fcfd", "#e5f5f9", "#ccece6", "#99d8c9", "#66c2a4", "#41ae76", "#238b45", "#006d2c", "#00441b" ],
YlOrBr: [ "#ffffe5", "#fff7bc", "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#993404", "#662506" ],
YlGn: [ "#ffffe5", "#f7fcb9", "#d9f0a3", "#addd8e", "#78c679", "#41ab5d", "#238443", "#006837", "#004529" ],
Reds: [ "#fff5f0", "#fee0d2", "#fcbba1", "#fc9272", "#fb6a4a", "#ef3b2c", "#cb181d", "#a50f15", "#67000d" ],
RdPu: [ "#fff7f3", "#fde0dd", "#fcc5c0", "#fa9fb5", "#f768a1", "#dd3497", "#ae017e", "#7a0177", "#49006a" ],
Greens: [ "#f7fcf5", "#e5f5e0", "#c7e9c0", "#a1d99b", "#74c476", "#41ab5d", "#238b45", "#006d2c", "#00441b" ],
YlGnBu: [ "#ffffd9", "#edf8b1", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#253494", "#081d58" ],
Purples: [ "#fcfbfd", "#efedf5", "#dadaeb", "#bcbddc", "#9e9ac8", "#807dba", "#6a51a3", "#54278f", "#3f007d" ],
GnBu: [ "#f7fcf0", "#e0f3db", "#ccebc5", "#a8ddb5", "#7bccc4", "#4eb3d3", "#2b8cbe", "#0868ac", "#084081" ],
Greys: [ "#ffffff", "#f0f0f0", "#d9d9d9", "#bdbdbd", "#969696", "#737373", "#525252", "#252525", "#000000" ],
YlOrRd: [ "#ffffcc", "#ffeda0", "#fed976", "#feb24c", "#fd8d3c", "#fc4e2a", "#e31a1c", "#bd0026", "#800026" ],
PuRd: [ "#f7f4f9", "#e7e1ef", "#d4b9da", "#c994c7", "#df65b0", "#e7298a", "#ce1256", "#980043", "#67001f" ],
Blues: [ "#f7fbff", "#deebf7", "#c6dbef", "#9ecae1", "#6baed6", "#4292c6", "#2171b5", "#08519c", "#08306b" ],
PuBuGn: [ "#fff7fb", "#ece2f0", "#d0d1e6", "#a6bddb", "#67a9cf", "#3690c0", "#02818a", "#016c59", "#014636" ],
Spectral: [ "#9e0142", "#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#e6f598", "#abdda4", "#66c2a5", "#3288bd", "#5e4fa2" ],
RdYlGn: [ "#a50026", "#d73027", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850", "#006837" ],
RdBu: [ "#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#f7f7f7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac", "#053061" ],
PiYG: [ "#8e0152", "#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#f7f7f7", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221", "#276419" ],
PRGn: [ "#40004b", "#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#f7f7f7", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837", "#00441b" ],
RdYlBu: [ "#a50026", "#d73027", "#f46d43", "#fdae61", "#fee090", "#ffffbf", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4", "#313695" ],
BrBG: [ "#543005", "#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#f5f5f5", "#c7eae5", "#80cdc1", "#35978f", "#01665e", "#003c30" ],
RdGy: [ "#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#ffffff", "#e0e0e0", "#bababa", "#878787", "#4d4d4d", "#1a1a1a" ],
PuOr: [ "#7f3b08", "#b35806", "#e08214", "#fdb863", "#fee0b6", "#f7f7f7", "#d8daeb", "#b2abd2", "#8073ac", "#542788", "#2d004b" ],
Set2: [ "#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494", "#b3b3b3" ],
Accent: [ "#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0", "#f0027f", "#bf5b17", "#666666" ],
Set1: [ "#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33", "#a65628", "#f781bf", "#999999" ],
Set3: [ "#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd", "#ccebc5", "#ffed6f" ],
Dark2: [ "#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d", "#666666" ],
Paired: [ "#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6", "#6a3d9a", "#ffff99", "#b15928" ],
Pastel2: [ "#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9", "#fff2ae", "#f1e2cc", "#cccccc" ],
Pastel1: [ "#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc", "#e5d8bd", "#fddaec", "#f2f2f2" ]
};
N = void 0 !== t && null !== t ? t : this;
l = null != (F = N.chroma) ? F : N.chroma = {};
l.colors = {
indigo: "#4b0082",
gold: "#ffd700",
hotpink: "#ff69b4",
firebrick: "#b22222",
indianred: "#cd5c5c",
yellow: "#ffff00",
mistyrose: "#ffe4e1",
darkolivegreen: "#556b2f",
olive: "#808000",
darkseagreen: "#8fbc8f",
pink: "#ffc0cb",
tomato: "#ff6347",
lightcoral: "#f08080",
orangered: "#ff4500",
navajowhite: "#ffdead",
lime: "#00ff00",
palegreen: "#98fb98",
darkslategrey: "#2f4f4f",
greenyellow: "#adff2f",
burlywood: "#deb887",
seashell: "#fff5ee",
mediumspringgreen: "#00fa9a",
fuchsia: "#ff00ff",
papayawhip: "#ffefd5",
blanchedalmond: "#ffebcd",
chartreuse: "#7fff00",
dimgray: "#696969",
black: "#000000",
peachpuff: "#ffdab9",
springgreen: "#00ff7f",
aquamarine: "#7fffd4",
white: "#ffffff",
orange: "#ffa500",
lightsalmon: "#ffa07a",
darkslategray: "#2f4f4f",
brown: "#a52a2a",
ivory: "#fffff0",
dodgerblue: "#1e90ff",
peru: "#cd853f",
lawngreen: "#7cfc00",
chocolate: "#d2691e",
crimson: "#dc143c",
forestgreen: "#228b22",
darkgrey: "#a9a9a9",
lightseagreen: "#20b2aa",
cyan: "#00ffff",
mintcream: "#f5fffa",
silver: "#c0c0c0",
antiquewhite: "#faebd7",
mediumorchid: "#ba55d3",
skyblue: "#87ceeb",
gray: "#808080",
darkturquoise: "#00ced1",
goldenrod: "#daa520",
darkgreen: "#006400",
floralwhite: "#fffaf0",
darkviolet: "#9400d3",
darkgray: "#a9a9a9",
moccasin: "#ffe4b5",
saddlebrown: "#8b4513",
grey: "#808080",
darkslateblue: "#483d8b",
lightskyblue: "#87cefa",
lightpink: "#ffb6c1",
mediumvioletred: "#c71585",
slategrey: "#708090",
red: "#ff0000",
deeppink: "#ff1493",
limegreen: "#32cd32",
darkmagenta: "#8b008b",
palegoldenrod: "#eee8aa",
plum: "#dda0dd",
turquoise: "#40e0d0",
lightgrey: "#d3d3d3",
lightgoldenrodyellow: "#fafad2",
darkgoldenrod: "#b8860b",
lavender: "#e6e6fa",
maroon: "#800000",
yellowgreen: "#9acd32",
sandybrown: "#f4a460",
thistle: "#d8bfd8",
violet: "#ee82ee",
navy: "#000080",
magenta: "#ff00ff",
dimgrey: "#696969",
tan: "#d2b48c",
rosybrown: "#bc8f8f",
olivedrab: "#6b8e23",
blue: "#0000ff",
lightblue: "#add8e6",
ghostwhite: "#f8f8ff",
honeydew: "#f0fff0",
cornflowerblue: "#6495ed",
slateblue: "#6a5acd",
linen: "#faf0e6",
darkblue: "#00008b",
powderblue: "#b0e0e6",
seagreen: "#2e8b57",
darkkhaki: "#bdb76b",
snow: "#fffafa",
sienna: "#a0522d",
mediumblue: "#0000cd",
royalblue: "#4169e1",
lightcyan: "#e0ffff",
green: "#008000",
mediumpurple: "#9370db",
midnightblue: "#191970",
cornsilk: "#fff8dc",
paleturquoise: "#afeeee",
bisque: "#ffe4c4",
slategray: "#708090",
darkcyan: "#008b8b",
khaki: "#f0e68c",
wheat: "#f5deb3",
teal: "#008080",
darkorchid: "#9932cc",
deepskyblue: "#00bfff",
salmon: "#fa8072",
darkred: "#8b0000",
steelblue: "#4682b4",
palevioletred: "#db7093",
lightslategray: "#778899",
aliceblue: "#f0f8ff",
lightslategrey: "#778899",
lightgreen: "#90ee90",
orchid: "#da70d6",
gainsboro: "#dcdcdc",
mediumseagreen: "#3cb371",
lightgray: "#d3d3d3",
mediumturquoise: "#48d1cc",
lemonchiffon: "#fffacd",
cadetblue: "#5f9ea0",
lightyellow: "#ffffe0",
lavenderblush: "#fff0f5",
coral: "#ff7f50",
purple: "#800080",
aqua: "#00ffff",
whitesmoke: "#f5f5f5",
mediumslateblue: "#7b68ee",
darkorange: "#ff8c00",
mediumaquamarine: "#66cdaa",
darksalmon: "#e9967a",
beige: "#f5f5dc",
blueviolet: "#8a2be2",
azure: "#f0ffff",
lightsteelblue: "#b0c4de",
oldlace: "#fdf5e6"
};
}).call(this);
var n = t.chroma;
n.Color.prototype.lighten = function(t) {
return this.brighten(t);
};
e(n, "meshim_common_Chroma");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(110), o = {
white: "#FFF",
black: "#000",
grey: "#808080"
};
o.clampLuminance = function(t, e, i) {
t = o.getChromaObj(t);
if (t) {
e < 0 && (e = 0);
i > 1 && (i = 1);
var n = t.luminance(), r = n < e ? e : n > i ? i : n;
return n === r ? t : o.getColorAtLuminance(t, r);
}
};
o.lighten = function(t, e, i) {
return n.interpolate(t, o.white, e, i || "rgb");
};
o.darken = function(t, e, i) {
return n.interpolate(t, o.black, e, i || "rgb");
};
o.getColorAtLuminance = function(t, e) {
if (!(e < 0 || e > 1)) {
t = o.getChromaObj(t);
if (t) {
var i = 0;
if (t.luminance() >= e) for (;;) {
i++;
if (t.luminance() <= e + .05 || i >= 100) return t;
t = o.darken(t, .05);
} else for (;;) {
i++;
if (t.luminance() >= e - .05 || i >= 100) return t;
t = o.lighten(t, .05);
}
}
}
};
o.getColorAtContrast = function(t, e, i) {
if (!(i < 1)) {
t = o.getChromaObj(t);
e = o.getChromaObj(e);
if (t && e) {
var r = 0;
if (n.contrast(t, e) >= i) for (;;) {
r++;
if (n.contrast(t, e) <= i + .5 || r >= 100) return e;
e = e.luminance() >= t.luminance() ? o.darken(e, .05) : o.lighten(e, .05);
} else for (var s = n.contrast(t, o.white), a = n.contrast(t, o.black); ;) {
r++;
if (n.contrast(t, e) >= i - .5 || r >= 100) return e;
if (e.luminance() >= t.luminance()) if (s >= i - .5) e = o.lighten(e, .05); else {
if (!(a >= i - .5)) return s > a ? o.getChromaObj(o.white) : o.getChromaObj(o.black);
e = o.darken(e, .05);
} else if (a >= i - .5) e = o.darken(e, .05); else {
if (!(s >= i - .5)) return s > a ? o.getChromaObj(o.white) : o.getChromaObj(o.black);
e = o.lighten(e, .05);
}
}
}
}
};
o.getContrastColor = function(t, e, i, n, r, s, a) {
t = o.getChromaObj(t);
e = o.getChromaObj(e);
i = o.getChromaObj(i);
if (t && e && i) {
var _ = t.luminance();
return "bright" === r ? _ < n ? e : o.getColorAtContrast(t, i, a || 2.5) : "dark" === r ? _ > n ? i : o.getColorAtContrast(t, e, s || 4.5) : void 0;
}
};
o.isHexColor = function(t) {
return !("string" != typeof t || !/^#[0-9A-F]{3}([0-9A-F]{3})?$/i.test(t));
};
o.getChromaObj = function(t) {
return o.isHexColor(t) ? n.hex(t) : t instanceof n.constructor && t;
};
o.rgbaColor = function(t, e) {
t = o.getChromaObj(t);
if (t) {
if (void 0 === e) e = 1; else {
e = parseFloat(e);
(isNaN(e) || e > 1) && (e = 1);
e < 0 && (e = 0);
}
return "rgba(" + o.toRGB(t).join(",") + "," + e + ")";
}
};
o.toRGB = function(t) {
t = o.getChromaObj(t);
if (t) {
var e = t.rgb();
e[0] = parseInt(e[0], 10);
e[1] = parseInt(e[1], 10);
e[2] = parseInt(e[2], 10);
return e;
}
};
t.exports = o;
e(o, "meshim_widget_utils_Color");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
j = x.ACCOUNT_KEY;
}
function o() {
if (x.IS_POPOUT) return w.get(A) || $().get("mid");
var t = u();
return t || (w.get(S) || "");
}
function r(t) {
w.set(S, t, {
path: "/",
ttl: 365,
domain: g
});
}
function s() {
w.remove(S, {
path: "/",
domain: g
});
}
function a() {
var t = c();
if ("boolean" == typeof t) return t;
var e = w.get(k);
e = parseInt(e, 10);
return 0 !== e && (1 === e || void 0);
}
function _() {
w.remove(k, {
path: "/",
domain: g
});
}
function l(t) {
t = m(t);
t = t ? 1 : 0;
w.set(k, t, {
path: "/",
ttl: 365,
domain: g
});
}
function d() {
s();
b.remove(C);
}
function u() {
var t = w.getJSONCookie("__zlcid");
w.remove("__zlcid", {
path: "/"
});
if (t.mID) return t.mID;
var e = h("__zlcstore");
w.remove("__zlcstore", {
path: "/",
domain: g
});
return e && e.mID ? e.mID : void 0;
}
function c() {
var t, e = h("__zlcprivacy");
if ("boolean" == typeof e) {
t = e;
l(e);
}
return t;
}
function h(t) {
return w.getJSONCookie(t)[j];
}
function p(t, e) {
var i = b.get(C) || {};
i[j] || (i[j] = {});
var n = i[j];
n[t] = e;
n.timestamp = +new Date();
b.set(C, i);
}
function f(t) {
var e = b.get(C) || {};
if (!e[j]) return {};
var i = e[j];
return i.timestamp ? +new Date() - i.timestamp > y ? {} : i[t] : i[t] || {};
}
var g, m = i(12), $ = i(35), b = i(378), w = i(178), x = i(18), v = i(10), y = 48e4, j = x.ACCOUNT_KEY, C = "__zlcstore", S = "__zlcmid", A = "__zlcpomid", k = "__zlcprivacy", I = window.location.hostname;
g = /\b(?:\d{1,3}\.){3}\d{1,3}/.test(I) ? I : v.getEffectiveTLD(I);
var T = {
init: n,
DOM: {
saveVariable: p,
getVariable: f
},
Cookie: w,
clearAll: d,
setIdentity: r,
getIdentity: o,
clearIdentity: s,
clearAllowCookieLaw: _,
getAllowCookieLaw: a,
setAllowCookieLaw: l
};
t.exports = T;
e(T, "meshim_widget_controllers_StorageController");
return T;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e, i, n = r.extend(this);
try {
e = new window.ActiveXObject("htmlfile");
e.open();
e.write("<script>document.win = window</script>");
e.close();
i = e.win;
} catch (t) {}
if (!i) {
var o = this.iframe = document.createElement("iframe"), a = o.style;
n.allowTransparency = "true";
n.frameBorder = "0";
a.backgroundColor = "transparent";
a.position = "absolute";
a.width = a.height = "1px";
a.left = a.top = "-9999px";
a.border = 0;
document.body.appendChild(o);
try {
i = o.contentWindow;
e = i.document;
e.open();
e.close();
} catch (t) {
n.fire("error");
n.destroy();
return;
}
}
n.doc = e;
n.win = i;
n.$Loader = {
cleanup: function() {
s(function() {
n.$Loader.payload ? n.fire("success", n.$Loader.payload) : n.fire("error");
n.$Loader.payload = null;
t || n.destroy();
});
}
};
n.reusable = t;
}
function o(t) {
return t && t.replace(a, function(t) {
return "&#" + t.charCodeAt(0) + ";";
});
}
var r = i(14), s = i(16);
n.prototype.setScope = function(t) {
this.scope = t;
};
var a = /[&<>"']/g;
n.prototype.load = function(t) {
if (/^(?:https?:)?\/\//i.test(t)) {
t = o(t);
try {
this.doc.open();
this.win.$Loader = this.$Loader;
this.win.$Loader.scope = this.scope || {};
this.doc.write('<html><head><script src="' + t + '"></script><script>document.addEventListener && document.addEventListener("DOMContentLoaded", function() {try { $Loader.cleanup() } catch(e) {}})</script></head><body></body></html>');
this.doc.close();
} catch (t) {
this.$Loader.cleanup();
}
} else this.$Loader.cleanup();
};
n.prototype.destroy = function() {
try {
this.iframe && document.body.removeChild(this.iframe);
this.doc = this.win = this.iframe = this.win.$Loader = null;
} catch (t) {}
};
t.exports = n;
e(n, "jx_io_DataIFrame");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n, o, r, s, a = i(21), _ = i(26), l = i(22), d = i(5), u = i(27), c = {};
c.init = function(t) {
function e(t, e) {
if (t && u.isHexColor(t)) {
e = e || "";
var i = {};
i[e] = t;
c.setColors(i);
} else window.console && window.console.log(u.getPrefix() + ': theme.setColor() Invalid color argument. Color must be in hexadecimal format ("#AABBCC")');
}
function i(t) {
function e() {
var e, i = {};
for (var n in t) if (t.hasOwnProperty(n)) {
e = n || "primary";
if (!d.livechat.getLimit() && "primary" != e) continue;
"badge" == e && (e = "banner");
e += "$string";
t[n] && a(t[n]) && u.isHexColor(t[n]) && (i[e] = t[n]);
}
u.saveAPISettings({
settings: {
theme: {
colors: i
}
}
});
o.$("livechat").$("settings").$("theme").update({
colors: i
});
}
if (t && "object" == typeof t) {
u.savePopoutAPICalls("theme.setColors", [ t ]);
u.callOnFastInit(e, !0);
u.callOnRegistered(e, !0);
u.instrument("theme.setColors");
} else window.console && window.console.log(u.getPrefix() + ": theme.setColors() Invalid argument. Argument must be an object containing the desired colors in hexadecimal format (#AABBCC)");
}
function h(t, e) {
function i() {
s.getValue() ? u.saveAPISettings({
settings: {
theme: {
custom_fonts: {
config$json: t,
font_family$string: e
}
}
}
}) : r(u.getPrefix() + ": theme.setFontConfig() API requires your account to be on the Chat Professional/Enterprise or Advanced/Premium (Legacy) plan. Please upgrade your account.");
}
var n = o.$("connection.status$string").getValue(), r = window.console && window.console.log && window.console.log.bind && window.console.log.bind(window.console) || window.console && window.console.log || function() {};
if (n) r(u.getPrefix() + ": theme.setFontConfig() must be called immediately after embedding script"); else if (p(t) && "string" == typeof e) if (/[^A-Za-z0-9\'\"\-_, ]/.test(e)) r(u.getPrefix() + ": theme.setFontConfig() error: Invalid characters in font-family."); else if (function(t) {
for (var e, i = [], n = 0, o = t.length; n < o; n++) {
e = t.charAt(n);
"'" !== e && '"' !== e || (i[0] === e ? i.shift() : i.unshift(e));
}
return 0 === i.length;
}(e)) {
u.callOnFastInit(i);
u.callOnRegistered(i);
u.instrument("theme.setFontConfig");
} else r(u.getPrefix() + ": theme.setFontConfig() error: Malformed font-family string."); else r(u.getPrefix() + ": theme.setFontConfig() error: Invalid arguments.");
}
function p(t) {
function e(t) {
if (_(t)) return null;
if (!l(t) || 0 === t.length) return "is of invalid type";
for (var e = 0, i = t.length; e < i; e++) if ("string" != typeof t[e]) return "is of invalid type";
return null;
}
function i(t) {
return _(t) ? "is required" : null;
}
var n = {
custom: {
urls: [ i, e ]
},
fontdeck: {
id: [ i, "string" ]
},
monotype: {
projectId: [ i, "string" ]
},
google: {
families: [ i, e ],
text: [ "string" ]
},
typekit: {
id: [ i, "string" ],
api: [ "string" ]
}
}, o = [], r = window.console && window.console.log && window.console.log.bind && window.console.log.bind(window.console) || window.console && window.console.log || function() {};
for (var s in t) if (t.hasOwnProperty(s)) {
if (!n[s]) {
r(u.getPrefix() + ': theme.setFontConfig() error: unknown font provider "' + s + '"');
return !1;
}
var a, d = n[s], c = t[s];
for (a in d) if (d.hasOwnProperty(a)) {
var h = d[a], p = function(t, e, i, n) {
for (var o = 'attribute "' + e + '" of provider "' + t + '" ', r = 0, s = n.length; r < s; r++) {
var a = n[r];
if ("string" == typeof a) {
if (void 0 !== i && typeof i !== a) return o + "is of invalid type";
} else {
var _ = a(i);
if (_) return o + _;
}
}
return null;
}(s, a, c[a], h);
if (p) {
r(u.getPrefix() + ": theme.setFontConfig() error: " + p);
return !1;
}
}
for (a in c) c.hasOwnProperty(a) && (d[a] || o.push(s + "." + a));
}
o.length > 0 && r(u.getPrefix() + ": theme.setFontConfig() warning: unused paths in web_font_config: " + o.join(", "));
return !0;
}
function f() {
function t() {
u.savePopoutAPICalls("theme.reload", []);
o.$("livechat").$("ui").update({
theme_reload$bool: !0
});
}
u.callOnFastInit(t);
u.callOnRegistered(t);
u.instrument("theme.reload");
}
function g(t) {
if (m(t)) {
u.instrument("theme.setProfileCardConfig");
$(t);
} else window.console && window.console.log(u.getPrefix() + ": setProfileCardConfig() Invalid argument. Please refer to the API documentation.");
}
function m(t) {
if (!t || "object" != typeof t) return !1;
for (var e in t) if (t.hasOwnProperty(e) && "boolean" != typeof t[e]) return !1;
return !0;
}
function $(t) {
var e = {};
"avatar" in t && (e.display_avatar$bool = t.avatar);
"title" in t && (e.display_title_name$bool = t.title);
"rating" in t && (e.display_rating$bool = t.rating);
b(e);
u.savePopoutAPICalls("theme.setProfileCardConfig", [ t ]);
}
function b(t) {
function e() {
u.saveAPISettings({
settings: {
theme: {
chat_window: {
profile_card: t
}
}
}
});
r.update(t);
}
u.callOnFastInit(e);
u.callOnRegistered(e);
u.instrument("theme.setProfileCardDisplay");
}
n = t;
o = d.root;
r = o.$("livechat").$("settings").$("theme").$("chat_window").$("profile_card");
s = o.$("livechat").$("gates").$("set_font_config$bool");
c.setTheme = n.generateLimitedFunction("theme.setTheme", 2, function(t) {
function e() {
u.saveAPISettings({
settings: {
theme: {
name$string: t.toString()
}
}
});
o.$("livechat").$("settings").$("theme").update({
name$string: t.toString()
});
}
u.savePopoutAPICalls("theme.setTheme", [ t.toString() ]);
u.callOnFastInit(e, !0);
u.callOnRegistered(e, !0);
u.instrument("theme.setTheme");
});
c.setColor = e;
c.setColors = n.generateLimitedFunction("theme.setColors", 1, i);
c.setFontConfig = h;
c.validateConfig = p;
c.reload = f;
c.setProfileCardConfig = g;
};
t.exports = c;
e(c, "meshim_widget_controllers_liveChatAPI_Theme");
return c;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
V = et.root;
if (!V.$("livechat").$("ui").$("mockup$bool").getValue()) {
var t = this;
nt.init(t);
ot.init(t);
rt.init(t);
st.init(t);
at.init(t);
_t.init(t);
lt.init(t);
dt.init(t);
ut.init(t);
ct.init(t);
ht.init(t);
pt.init(t);
O();
V.$("livechat").$("ui").$("popout$bool").getValue() && L();
}
}
function o() {
nt.instrument("livechat.getName");
return V.$("livechat").$("profile").$("display_name$string").getValue() || "";
}
function r() {
nt.instrument("livechat.getEmail");
return V.$("livechat").$("profile").$("email$string").getValue() || "";
}
function s() {
nt.instrument("livechat.getPhone");
return V.$("livechat").$("profile").$("phone$string").getValue() || "";
}
function a() {
nt.instrument("livechat.isChatting");
return V.$("livechat").$("channel").$("chatting$bool").getValue() || !1;
}
function _(t) {
if ("object" == typeof t) {
var e, i, n = this;
for (i in t) if (t.hasOwnProperty(i)) {
e = "set" + F(i);
q(n[e]) && n[e](t[i]);
}
nt.instrument("livechat.set");
return n;
}
}
function l(t) {
function e() {
U.isAuthenticated() ? window.console && window.console.log(nt.getPrefix() + ": setName API ignored for authenticated visitors.") : et.livechat.updateProfile({
name: t
});
}
t = t && t.toString();
if (V.$("livechat").$("profile").$("display_name$string").getValue() !== t) {
nt.callOnFastInit(e);
nt.callOnReattached(e);
nt.instrument("livechat.setName");
}
}
function d(t) {
function e() {
U.isAuthenticated() ? window.console && window.console.log(nt.getPrefix() + ": setEmail API ignored for authenticated visitors.") : et.livechat.updateProfile({
email: t
});
}
t = t && t.toString().trim();
if (V.$("livechat").$("profile").$("email$string").getValue() !== t) if (tt.email.test(t)) {
nt.callOnFastInit(e);
nt.callOnReattached(e);
nt.instrument("livechat.setEmail");
} else window.console && window.console.log(nt.getPrefix() + ": setEmail(): the email provided is not valid: [" + t + "]");
}
function u(t) {
function e() {
et.livechat.updateProfile({
phone: t
});
}
t = t && t.toString();
if (V.$("livechat").$("profile").$("phone$string").getValue() !== t) {
nt.callOnFastInit(e);
nt.callOnReattached(e);
nt.instrument("livechat.setPhone");
}
}
function c() {
function t() {
V.$("livechat").$("channel").$("tags").write({
added$string: n.join(",")
});
}
if (arguments.length) {
for (var e, i = arguments, n = [], o = 0, r = i.length; o < r; o++) {
e = (i[o] + "").trim();
e && n.push(e);
}
nt.callOnFastInit(t);
nt.callOnReattached(t);
nt.instrument("livechat.addTags");
}
}
function h(t) {
function e() {
V.$("livechat").$("session").$("page_path").write({
url$string: i,
title$string: n
});
}
var i, n;
if ("object" == typeof t && t && (i = M(t.url))) n = t.title || bt.title || ""; else {
if (!G(t)) {
window.console && window.console.log(nt.getPrefix() + ": sendVisitorPath(): the parameters provided are not valid. Please refer to the API documentation.");
return;
}
i = wt + "";
n = bt.title || "";
}
nt.callOnReattached(e);
nt.instrument("livechat.sendVisitorPath");
}
function p() {
function t() {
V.$("livechat").$("channel").$("tags").write({
removed$string: n.join(",")
});
}
if (arguments.length) {
for (var e, i = arguments, n = [], o = 0, r = i.length; o < r; o++) {
e = (i[o] + "").trim();
e && n.push(e);
}
nt.callOnFastInit(t);
nt.callOnReattached(t);
nt.instrument("livechat.removeTags");
} else window.console && window.console.log(nt.getPrefix() + ": removeTags(): Please provide at least one tag");
}
function f(t) {
function e() {
V.$("livechat").$("profile").$("notification").update({
sound$bool: !t
});
}
if ("boolean" == typeof t) {
nt.callOnFastInit(e);
nt.callOnRegistered(e);
nt.instrument("livechat.setDisableSound");
} else window.console && window.console.log(nt.getPrefix() + ": setDisableSound() expects passed argument to be true/false");
}
function g(t) {
function e() {
z.setDisabled(t);
}
if ("boolean" == typeof t) {
nt.callOnFastInit(e);
nt.callOnRegistered(e);
nt.instrument("livechat.setDisableGoogleAnalytics");
} else window.console && window.console.log(nt.getPrefix() + ": setDisableGoogleAnalytics() expects passed argument to be true/false");
}
function m(t) {
function e() {
nt.saveAPISettings({
settings: {
language: {
language$string: t
}
}
});
V.$("livechat").$("settings").$("language").update({
language$string: t
});
}
if (Y(t) && t) {
nt.callOnFastInit(e);
nt.callOnRegistered(e);
nt.instrument("livechat.setLanguage");
} else window.console && window.console.log(nt.getPrefix() + ": setLanguage() expects passed argument to be a non-empty string");
}
function $(t) {
function e(t) {
if (o[t] && Y(o[t])) {
var e = {};
e[t + "$string"] = o[t];
nt.saveAPISettings({
settings: {
greetings: e
}
});
V.$("livechat").$("settings").$("greetings").update(e);
} else window.console && window.console.log(nt.getPrefix() + ': setGreetings() expects a non-empty string to be provided for "' + t + '"');
}
function i(t) {
var e = {};
e[t + "$string"] = null;
nt.resetAPISettings({
settings: {
greetings: e
}
});
var i = nt.getServerSettings("settings.greetings." + t + "$string");
if (i) {
e[t + "$string"] = i;
V.$("livechat").$("settings").$("greetings").update(e);
}
}
function n(t, e) {
if (e in t) return X(t[e]) ? t[e][0] : t[e];
}
if (t && "object" == typeof t) {
var o = {
online: n(t, "online"),
offline: n(t, "offline")
}, r = function() {
(null === o.online ? i : e)("online");
(null === o.offline ? i : e)("offline");
};
nt.callOnFastInit(r, !0);
nt.callOnReattached(r, !0);
nt.instrument("livechat.setGreetings");
}
}
function b() {
function t() {
et.livechat.clearAll();
et.livechat.reconnect();
}
nt.callOnRegistered(t);
nt.instrument("livechat.clearAll");
}
function w() {
function t() {
it.hideAll();
}
var e = J.once(t);
nt.callOnFastInit(e);
nt.callOnRegistered(e);
nt.instrument("livechat.hideAll");
}
function x(t) {
if (t && "string" == typeof t) {
nt.callOnReattached(function() {
var e = V.$("livechat").$("profile").$("department_id$int").getValue(), i = {
msg: t
};
e && (i.department = e);
et.livechat.sendChatMsg(i);
$t.window.show();
});
nt.instrument("livechat.say");
} else window.console && window.console.log(nt.getPrefix() + ": say() expects a non-empty string to be provided as an argument");
}
function v(t) {
if (q(t)) {
nt.callOnReattached(nt.getCallbackCaller(t), !0);
nt.instrument("livechat.setOnConnected");
} else window.console && window.console.log(nt.getPrefix() + ": setOnConnected() expects a callback function to be provided");
}
function y(t) {
var e = vt.last_chatting_state, i = K(t);
if (i !== vt.last_chatting_state) {
vt.last_chatting_state = i;
i ? vt.start_ready && vt.fire("chat_start") : e && vt.fire("chat_end");
}
}
function j() {
if (!vt.listening) {
vt.listening = !0;
V.$("livechat").$("channel").$("chatting$bool").bindValue(y);
}
}
function C(t) {
if (q(t)) {
vt.on("chat_start", nt.getCallbackCaller(t));
j();
nt.instrument("livechat.setOnChatStart");
if (!vt.start_settled) {
vt.start_settled = !0;
nt.callOnReattached(function() {
vt.last_chatting_state = K(V.$("livechat").$("channel").$("chatting$bool").getValue());
vt.start_ready = !0;
});
}
} else window.console && window.console.log(nt.getPrefix() + ": setOnChatStart() expects a callback function to be provided");
}
function S(t) {
if (q(t)) {
vt.on("chat_end", nt.getCallbackCaller(t));
j();
nt.instrument("livechat.setOnChatEnd");
} else window.console && window.console.log(nt.getPrefix() + ": setOnChatEnd() expects a callback function to be provided");
}
function A(t) {
q(t) ? nt.callOnRegistered(nt.getCallbackCaller(t), !0) : window.console && window.console.log(nt.getPrefix() + ": setOnFlashReady() expects a callback function to be provided");
}
function k(t) {
function e() {
i(n.getValue());
}
if (q(t)) {
var i = nt.getCallbackCaller(t), n = V.$("livechat").$("account").$("status$string"), o = V.$("livechat").$("departments"), r = H.debounce(e);
n.bindValue(r);
o.bindValue(r);
nt.instrument("livechat.setOnStatus");
} else window.console && window.console.log(nt.getPrefix() + ": setOnStatus() expects a callback function to be provided");
}
function I(t) {
if (q(t)) {
var e;
t = nt.getCallbackCaller(t);
V.$("livechat").$("ui").$("chat_button").$("unread_count$int").bindValue(function(i) {
if (Z(i) && e != i) {
e = i;
nt.callNow(t, e);
}
});
nt.instrument("livechat.setOnUnreadMsgs");
} else window.console && window.console.log(nt.getPrefix() + ": setOnUnreadMsgs() expects a callback function to be provided");
}
function T() {
et.livechat.endChat();
nt.instrument("livechat.endChat");
}
function B(t) {
function e() {
if (Y(t) && t) {
t = t.toLowerCase();
if ("online" === t || "offline" === t) {
nt.saveAPISettings({
account: {
status$string: t
}
});
V.$("livechat").$("account").update({
status$string: t
});
} else window.console && window.console.log(nt.getPrefix() + ': setStatus() only accepts "online" or "offline" as a valid status');
} else window.console && window.console.log(nt.getPrefix() + ": setStatus() expects passed argument to be a non-empty string");
}
function i() {
nt.resetAPISettings({
account: {
status$string: null
}
});
var t = nt.getServerSettings("account.status$string");
t && V.$("livechat").$("account").update({
status$string: t
});
}
var n = null === t ? i : e;
nt.savePopoutAPICalls("setStatus", [ t ]);
nt.callOnFastInit(n);
nt.callOnReattached(n);
nt.instrument("livechat.setStatus");
}
function N(t) {
function e() {
V.$("livechat").$("profile").write({
notes$string: t
});
}
if (Y(t)) {
nt.callOnFastInit(e);
nt.callOnReattached(e);
nt.instrument("livechat.setNotes");
} else window.console && window.console.log(nt.getPrefix() + ": setNotes() expects passed argument to be a string");
}
function D(t) {
function e() {
V.$("livechat").$("profile").write({
notes_append$string: t
});
}
if (Y(t)) {
nt.callOnReattached(e);
nt.instrument("livechat.appendNotes");
} else window.console && window.console.log(nt.getPrefix() + ": appendNotes() expects passed argument to be a string");
}
function E(t) {
if ("object" == typeof t && q(t.jwtFn)) {
nt.instrument("livechat.authenticate");
V.$("connection").$("status$string").getValue() ? window.console && window.console.log(nt.getPrefix() + ": visitor authentication must be initiated immediately after embedding script") : U.setSiteJWTFunc(t.jwtFn);
} else window.console && window.console.log(nt.getPrefix() + ": authenticate(): the parameters provided are not valid. Please refer to the API documentation.");
}
function O() {
var t = window.$zopim;
window.$zopim = nt.callNow;
window.$zopim.livechat = $t;
nt.handleDelayed(t && t._);
}
function P() {
var t = window.$zopim, e = t && t.onError;
if ("function" == typeof e) {
e = nt.getCallbackCaller(e);
nt.callNow(e);
}
}
function L() {
xt = {
"departments.filter": lt.filter,
"departments.setLabel": lt.setLabel,
"prechatForm.setGreetings": ht.setGreetings,
"offlineForm.setGreetings": pt.setGreetings,
"theme.setColors": dt.setColors,
"theme.reload": dt.reload,
"theme.setTheme": dt.setTheme,
"theme.setProfileCardConfig": dt.setProfileCardConfig,
"concierge.setName": at.setName,
"concierge.setTitle": at.setTitle,
"concierge.setAvatar": at.setAvatar,
"window.setTitle": ut.setTitle,
setStatus: $t.setStatus
};
for (var t = nt.parseAPIFromQuery(), e = this, i = 0, n = t.length; i < n; i++) {
var o = t[i][0], r = t[i][1];
o in xt && xt[o].apply(e, r);
}
}
function W(t, e, i) {
return function() {
window.console && window.console.log(nt.getPrefix() + ': LiveChatAPI call "' + t + '" is deprecated and may be removed in the future. ' + (e ? 'Use "' + e + '" instead.' : "Refer to http://api.zopim.com/ for the latest API documentation."));
return i.apply(this, arguments);
};
}
function R(t, e, i) {
return function() {
var t = Array.prototype.slice.call(arguments, 0);
return i.apply(this, t);
};
}
function F(t) {
t += "";
return t.charAt(0).toUpperCase() + t.substring(1);
}
function M(t) {
if ("string" != typeof t) return "";
var e, i = tt.search.hurl;
i.lastIndex = 0;
e = i.exec(t);
i.lastIndex = 0;
return e ? e[0].trim() : "";
}
var V, H = i(39), z = i(50), U = i(45), q = i(20), G = i(26), Y = i(21), X = i(22), K = i(12), Z = i(28), Q = i(14), J = i(40), tt = i(59), et = i(5), it = i(25), nt = i(27), ot = i(206), rt = i(205), st = i(204), at = i(203), _t = i(202), lt = i(201), dt = i(114), ut = i(200), ct = i(199), ht = i(198), pt = i(197), ft = i(196), gt = {
interval: 500,
limit: 10
}, mt = nt.rateLimit(B, "setStatus", gt), $t = {
badge: ot,
bubble: rt,
button: st,
concierge: at,
cookieLaw: _t,
departments: lt,
theme: dt,
window: ut,
debug: ct,
prechatForm: ht,
offlineForm: pt,
mobileNotifications: ft,
generateDeprecatedFunction: W,
generateLimitedFunction: R,
authenticate: E,
init: n,
handleInitError: P,
isChatting: a,
set: _,
getName: o,
getEmail: r,
getPhone: s,
setName: l,
setEmail: d,
setPhone: u,
addTags: c,
sendVisitorPath: h,
removeTags: p,
setDisableSound: f,
setLanguage: m,
setGreetings: $,
clearAll: b,
hideAll: w,
say: x,
setOnConnected: v,
setOnChatStart: C,
setOnChatEnd: S,
setOnFlashReady: A,
setOnStatus: k,
setOnUnreadMsgs: I,
endChat: T,
setStatus: mt,
setNotes: N,
appendNotes: D,
setDisableGoogleAnalytics: g
}, bt = document, wt = window.location, xt = {}, vt = {
listening: !1,
last_chatting_state: null,
start_settled: !1,
start_ready: !1
};
Q.extend(vt);
var yt = {
global: "fire freeze setOnGreeting".split(" "),
bubble: "setImage".split(" "),
button: "setImage setTheme useFavicon".split(" "),
window: "getSettings setBg".split(" "),
cookieLaw: "showPrivacyPanel".split(" "),
unreadflag: "disable enable".split(" ")
};
for (var jt in yt) if (yt.hasOwnProperty(jt)) {
var Ct, St = yt[jt];
if ("global" == jt) Ct = $t; else {
$t[jt] || ($t[jt] = {});
Ct = $t[jt];
}
for (var At = 0; At < St.length; At++) {
var kt = St[At];
Ct[kt] = function(t) {
return function() {
window.console && window.console.log(nt.getPrefix() + ': LiveChatAPI call "' + t + '" is obsolete. Refer to http://api.zopim.com/ for the latest API documentation.');
};
}(kt);
}
}
t.exports = $t;
e($t, "meshim_widget_controllers_LiveChatAPI");
return $t;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_components_chatWindow_MenuStack = i(124);
e.__$$__meshim_widget_widgets_ViewStack = i(55);
e.__$$__meshim_widget_components_chatWindow_NewChatForm = i(170);
e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm = i(163);
e.__$$__meshim_widget_components_mobileChatWindow_ChatPanel = i(219);
e.__$$__meshim_widget_components_chatWindow_PostChatForm = i(131);
e.__$$__meshim_widget_components_chatWindow_CookieForm = i(129);
e.__$$__meshim_widget_components_chatWindow_CardForm = i(128);
e.__$$__meshim_widget_components_chatWindow_AgentList = i(127);
e.__$$__meshim_widget_components_chatWindow_AboutPanel = i(126);
e.__$$__meshim_widget_components_chatWindow_RatingPanel = i(125);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_MenuStack, "menu_stack", "", [], {
id: "menu_stack",
addClass: "popout"
} ], [ e.__$$__meshim_widget_widgets_ViewStack, "main_stack", "", [ [ e.__$$__meshim_widget_components_chatWindow_NewChatForm, "", "", [], {
name: "new_chat_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm, "", "", [], {
name: "pre_chat_offline_form"
} ], [ e.__$$__meshim_widget_components_mobileChatWindow_ChatPanel, "", "", [], {
name: "chat_panel"
} ], [ e.__$$__meshim_widget_components_chatWindow_PostChatForm, "", "", [], {
name: "post_chat_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_CookieForm, "", "", [], {
name: "cookie_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_CardForm, "", "", [], {
name: "card_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_AgentList, "", "", [], {
name: "agent_list"
} ], [ e.__$$__meshim_widget_components_chatWindow_AboutPanel, "", "", [], {
name: "about_panel"
} ], [ e.__$$__meshim_widget_components_chatWindow_RatingPanel, "", "", [], {
name: "rating_panel"
} ] ], {
id: "main_stack",
onChildHide: "-1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:mobileChatWindow": "meshim.widget.components.mobileChatWindow",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__menu_stack"), f = n.get(s + "__main_stack");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
s.update("");
}
var e = i(5), n = e.root.$("livechat"), o = n.$("ui").$("chat_window"), r = o.$("main_stack_name$string"), s = o.$("menu_stack_name$string");
!function() {
t();
f.on("click", t);
f.on("indexChange", t);
h.autobind(r, "value", function() {
f.setName(r.getValue());
});
h.autobind(s, "value", function() {
p.setName(s.getValue());
});
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"top, left, right, bottom": 0,
backgroundColor: "$$windowBg",
boxShadow: "$$windowShadow",
"-webkit-text-size-adjust, -moz-text-size-adjust, -ms-text-size-adjust, text-size-adjust": "100%"
}
};
s(t, "meshim_widget_components_mobileChatWindow_MainScreen");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_a = i(44);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_a, "", "", [], {
xmlns: "jx.ui.html",
position: "absolute",
top: "0",
left: "0",
width: "100%",
height: "100%"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
o.trackEvent("Button Clicked");
u.write({
button_clicked$bool: !0
});
if (c.getValue()) r.userShowWindow(); else if (_.requestPermission()) if (l.isIEMobile) {
h.setAttribute("href", a.getPopoutURL());
h.setAttribute("target", e.POPOUT_WINDOW_PREFIX + p.getValue());
} else {
s.resetUnreadCount();
a.openPopout(!0);
}
}
var e = i(18), n = i(5), o = i(50), r = i(25), s = i(33), a = i(72), _ = i(41), l = i(34), d = n.root.$("livechat").$("ui"), u = d.$("chat_button"), c = d.$("mobile_overlay$bool"), p = n.root.$("livechat").$("account").$("key$string");
!function() {
h.on("click", t);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_a.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_a;
t.__jx__jcss = {};
s(t, "meshim_widget_components_mobileChatButton_TappingScreen");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_Image = i(231);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Image, "image", "", [], {
id: "image",
addClass: "custom_icon"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "icon", "", [], {
id: "icon",
addClass: "default_icon"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "dots", "", [], {
id: "dots",
addClass: "dots",
selectable: "false"
} ] ], {
addClass: "dots_container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__image"), f = n.get(s + "__icon"), g = n.get(s + "__dots");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
function t(t) {
d = !t;
if (t) {
p.setDisplay("none");
f.setDisplay("");
} else {
p.setDisplay("");
f.setDisplay("none");
}
e();
}
if (l) try {
l.abort();
} catch (t) {}
l = null;
if (s) {
if (a) {
p.setSrc(a);
t(!1);
return;
}
var i = function() {
for (var t = window.document.getElementsByTagName("head")[0], e = t.getElementsByTagName("link"), i = 0, n = e.length; i < n; i++) if ("icon" == e[i].rel || "shortcut icon" == e[i].rel) return e[i].href;
}();
if (i) {
p.setSrc(i);
t(!1);
return;
}
l = function(t) {
var e, i = window.location.protocol + "//" + window.location.host + "/favicon.ico";
try {
if (window.ActiveXObject) {
e = new window.ActiveXObject("Msxml2.XMLHTTP");
e || (e = new window.ActiveXObject("Microsoft.XMLHTTP"));
}
} catch (t) {}
e || void 0 === window.XMLHttpRequest || (e = new window.XMLHttpRequest());
if (e) {
e.onreadystatechange = function() {
4 === e.readyState && (200 === e.status || e.status >= 300 && e.status < 400 ? t(i) : t());
};
e.open("HEAD", i, !0);
e.send(null);
}
return e;
}(function(e) {
if (e) {
p.setSrc(e);
t(!1);
} else t(!0);
});
} else t(!0);
}
function e() {
if (r || "offline" != o) {
f.setIcon("message");
f.removeClass("default_icon_offline");
f.addClass("default_icon_online");
} else {
f.setIcon("email");
f.removeClass("default_icon_online");
f.addClass("default_icon_offline");
}
if (_ && r && !d) {
if (!u) {
n();
u = window.setInterval(n, m);
}
g.setDisplay("");
} else {
if (u) {
window.clearInterval(u);
u = null;
}
g.setDisplay("none");
}
}
function n() {
var t = g.getText();
g.setText(t.length == $ ? "" : t + ".");
}
var o, r, s, a, _, l, d, u, c = i(5), m = 1e3, $ = 3, b = c.root.$("livechat").$("account"), w = c.root.$("livechat").$("settings").$("branding"), x = b.$("status$string"), v = c.root.$("livechat").$("channel").$("chatting$bool"), y = w.$("hide_favicon$bool"), j = w.$("custom_favicon_path$string"), C = c.root.$("livechat").$("ui").$("chat_button").$("unread_count$int");
!function() {
h.autobind(y, "value", function(e) {
s = e;
t();
});
h.autobind(j, "value", function(e) {
a = e;
t();
});
h.autobind(v, "value", function(t) {
if (r !== t) {
r = t;
e();
}
});
h.autobind(x, "value", function(t) {
if (t != o) {
o = t;
e();
}
});
h.autobind(C, "value", function(t) {
if (t != _) {
_ = t;
e();
}
});
}();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".custom_icon": {
"width, height": "16px"
},
".default_icon": {
fontSize: "16px",
width: "16px",
display: "inline-block",
"&.default_icon_online": {
lineHeight: "20px",
verticalAlign: "top",
color: "$$faviconOnlineColor"
},
"&.default_icon_offline": {
lineHeight: "18px",
verticalAlign: "top",
color: "$$faviconOfflineColor"
}
},
".dots_container": {
fontFamily: "Arial",
position: "absolute",
width: "100%",
textAlign: "center",
fontSize: "20px",
letterSpacing: "-2px",
top: "-3px",
left: "-1px",
lineHeight: "24px"
},
".dots": {
display: "inline-block",
width: "12px",
lineHeight: "22px",
textAlign: "left",
color: [ "$$chatButtonBg", "$$faviconBg", "$$faviconDotsColor" ],
background: "transparent"
}
};
s(t, "meshim_widget_widgets_Favicon");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
if (!(this instanceof i)) return new i(t);
var e = "";
"object" == typeof t ? e = "object" : /#/.test(t) ? e = "hex" : /hsl\(.+\)/.test(t) ? e = "hsl" : /hsv\(.+\)/.test(t) ? e = "hsv" : /rgba\(.+\)/.test(t) && (e = "rgba");
switch (e) {
case "object":
o.call(this, t);
break;

case "hex":
n.call(this, t);
break;

case "hsl":
r.call(this, t);
break;

case "hsv":
_.call(this, t);
break;

case "rgba":
a.call(this, t);
}
"number" != typeof this.alpha && (this.alpha = 1);
}
function n(t) {
t = t.replace(/#/g, "").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
/^\w{3}/.test(t) && (t = t.replace(/^(\w)(\w)(\w)$/, "$1$1$2$2$3$3"));
this.red = parseInt(t.substr(0, 2), 16);
this.green = parseInt(t.substr(2, 2), 16);
this.blue = parseInt(t.substr(4, 2), 16);
}
function o(t) {
if ("red" in t && "green" in t && "blue" in t) {
this.red = t.red;
this.green = t.green;
this.blue = t.blue;
this.alpha = t.alpha;
} else "h" in t && "s" in t && "l" in t ? s.call(this, t) : "h" in t && "s" in t && "v" in t && l.call(this, t);
}
function r(t) {
t = t.replace(/[A-Za-z]+|\(|\)/g, "").replace(/,/g, " ").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
var e = t.split(" "), i = {
h: parseFloat(e[0]) < 0 ? 360 + parseFloat(e[0]) % 360 : parseFloat(e[0]) % 360,
s: e[1].indexOf("%") < 0 ? parseFloat(e[1]) : parseInt(e[1], 10) / 100,
l: e[2].indexOf("%") < 0 ? parseFloat(e[2]) : parseInt(e[2], 10) / 100
};
s.call(this, i);
}
function s(t) {
var e, i = t.h, n = t.s, o = t.l, r = (1 - Math.abs(2 * o - 1)) * n, s = i / 60, a = r * (1 - Math.abs(s % 2 - 1)), _ = o - .5 * r;
switch (Math.floor(s)) {
case 0:
e = [ r, a, 0 ];
break;

case 1:
e = [ a, r, 0 ];
break;

case 2:
e = [ 0, r, a ];
break;

case 3:
e = [ 0, a, r ];
break;

case 4:
e = [ a, 0, r ];
break;

case 5:
e = [ r, 0, a ];
}
this.red = Math.round(255 * (e[0] + _));
this.green = Math.round(255 * (e[1] + _));
this.blue = Math.round(255 * (e[2] + _));
}
function a(t) {
t = t.replace(/[A-Za-z(,]+/g, " ").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
var e = t.split(" ");
this.red = parseInt(e[0], 10);
this.green = parseInt(e[1], 10);
this.blue = parseInt(e[2], 10);
this.alpha = parseFloat(e[3]);
}
function _(t) {
t = t.replace(/[A-Za-z%]+|\(|\)/g, "").replace(/,/g, " ").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
var e = t.split(" "), i = {
h: parseFloat(e[0]) < 0 ? (360 + parseFloat(e[0])) % 360 : parseFloat(e[0]) % 360,
s: e[1].indexOf("%") < 0 ? parseFloat(e[1]) : parseInt(e[1], 10) / 100,
v: e[2].indexOf("%") < 0 ? parseFloat(e[2]) : parseInt(e[2], 10) / 100
};
l.call(this, i);
}
function l(t) {
var e, i = t.h, n = t.s, o = t.v, r = o * n, s = i / 60, a = r * (1 - Math.abs(s % 2 - 1)), _ = o - r;
switch (Math.floor(s)) {
case 0:
e = [ r, a, 0 ];
break;

case 1:
e = [ a, r, 0 ];
break;

case 2:
e = [ 0, r, a ];
break;

case 3:
e = [ 0, a, r ];
break;

case 4:
e = [ a, 0, r ];
break;

case 5:
e = [ r, 0, a ];
}
this.red = Math.round(255 * (e[0] + _));
this.green = Math.round(255 * (e[1] + _));
this.blue = Math.round(255 * (e[2] + _));
}
var d = [ "red", "green", "blue" ];
i.prototype.lighten = function(t) {
var e = this.toHSL();
e.l = e.l + (1 - e.l) * t;
return new i(e);
};
i.prototype.darken = function(t) {
var e = this.toHSL();
e.l = e.l - e.l * t;
return new i(e);
};
i.prototype.blend = function(t, e) {
t instanceof i || (t = new i(t));
for (var n = {}, o = 0; o < 3; o++) {
var r = this[d[o]], s = t[d[o]];
n[d[o]] = Math.round(r + (s - r) * e);
}
return new i(n);
};
i.prototype.complement = function() {
var t = this.red, e = this.blue, n = this.green, o = Math.max(t, e, n), r = Math.min(t, e, n), s = {};
s.red = o + r - t;
s.green = o + r - n;
s.blue = o + r - e;
return new i(s);
};
i.prototype.toStrRGB = i.prototype.toRGB = function() {
for (var t = [], e = 0; e < 3; e++) {
var i = this[d[e]].toString(16);
t[e] = i.length < 2 ? "0" + i : i;
}
return "#" + t.join("");
};
i.prototype.toStrRGBA = function() {
return "rgba(" + [ this.red, this.green, this.blue, this.alpha ].join(",") + ")";
};
i.prototype.toHSL = function() {
var t, e, i, n, o = this.red / 255, r = this.green / 255, s = this.blue / 255, a = Math.max(o, r, s), _ = Math.min(o, r, s), l = a - _;
0 === l ? n = 0 : a == o ? n = (r - s) / l % 6 : a == r ? n = (s - o) / l + 2 : a == s && (n = (o - r) / l + 4);
t = 60 * n;
t = t < 0 ? 360 + t % 360 : t % 360;
i = .5 * (a + _);
e = 0 === l ? 0 : l / (1 - Math.abs(2 * i - 1));
return {
h: t,
s: e,
l: i
};
};
i.prototype.toHSV = function() {
var t, e, i, n, o = this.red / 255, r = this.green / 255, s = this.blue / 255, a = Math.max(o, r, s), _ = Math.min(o, r, s), l = a - _;
0 === l ? n = 0 : a == o ? n = (r - s) / l % 6 : a == r ? n = (s - o) / l + 2 : a == s && (n = (o - r) / l + 4);
t = 60 * n;
t = t < 0 ? 360 + t % 360 : t % 360;
i = a;
e = 0 === l ? 0 : l / i;
return {
h: t,
s: e,
v: i
};
};
i.prototype.toArray = function() {
return [ this.red, this.green, this.blue ];
};
i.prototype.clone = function() {
return new i(this);
};
i.prototype.validate = function() {
for (var t = 0; t < 3; t++) {
var e = this[d[t]];
if (!("number" == typeof e && e >= 0 && e <= 255)) return !1;
}
return "number" == typeof this.alpha && this.alpha >= 0 && this.alpha <= 1;
};
t.exports = i;
e(i, "meshim_common_Color");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
"use strict";
function n(t) {
return "object" == typeof t && null !== t;
}
function o(t) {
switch ({}.toString.call(t)) {
case "[object Error]":
case "[object Exception]":
case "[object DOMException]":
return !0;

default:
return t instanceof Error;
}
}
function r(t) {
function e(e, i) {
var n = t(e) || e;
return i ? i(n) || n : n;
}
return e;
}
t.exports = {
isObject: n,
isError: o,
wrappedCallback: r
};
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_FileUploader = i(266);
e.__$$__jx_ui_Input = i(43);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_FileUploader, "file_form", "", [ [ e.__$$__jx_ui_Input, "file_input", "", [], {
id: "file_input",
name: "file[]",
type: "file",
multiple: "true",
addClass: "file_input"
} ] ], {
id: "file_form"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__file_form"), f = n.get(s + "__file_input");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
if (s && f.getValue()) {
var t = [], i = [], n = 0, o = f.dom.files, a = u.getHost();
if (a) {
if (o) {
for (var m = 0, $ = o.length; m < $; m++) {
if (!l.isValidType(o[m].name, r)) {
C.update({
error$string: "type"
});
f.setValue("");
return;
}
t.push(o[m].name);
i.push(o[m].type);
n += o[m].size || 0;
}
if (n > _.FILE_UPLOAD_MAX) {
C.update({
error$string: "size"
});
f.setValue("");
return;
}
t = t.join(", ");
i = i.join(", ");
} else {
o = f.dom.value || "";
if (!o) return;
t = o.substr(o.lastIndexOf("\\") + 1);
i = t.substr(t.lastIndexOf(".") + 1);
if (!l.isValidType(t, r)) {
C.update({
error$string: "type"
});
f.setValue("");
return;
}
}
var x = c.livechat.sendFile({
file_name: t,
file_type: i,
file_size: n
}), v = {
ts: x,
mid: b.getValue(),
uid: w.getValue()
}, y = "https://" + a + _.FILE_UPLOAD_PATH + "?" + d.buildQuery(v);
p.setPath(y);
h.fire("before_submit");
o && "FormData" in window ? e(a, x, o) : p.submit();
g.increment("file_upload");
f.setValue("");
}
}
}
function e(t, e, i) {
for (var n = new window.XMLHttpRequest(), o = new window.FormData(), r = {
ts: e
}, s = "https://" + t + _.FILE_UPLOAD_PATH + "?" + d.buildQuery(r), a = 0, l = i.length; a < l; a++) o.append("file_" + i[a].name, i[a]);
n.open("POST", s, !0);
n.setRequestHeader("X-Zopim-MID", b.getValue());
n.setRequestHeader("X-Zopim-UID", w.getValue());
n.send(o);
}
function n() {
var t = v.getValue(), e = S.getValue("color_customization_enabled$int") || S.getValue("widget_customization_enabled$int");
s = !!e && !1 !== t;
}
function o() {
var t = y.getValue() || "";
r = t.trim().replace(/\s*,\s*/g, ",").split(",");
}
var r, s, a, _ = i(18), l = i(66), d = i(35), u = i(57), c = i(5), g = i(56), m = c.root, $ = m.$("livechat"), b = $.$("profile").$("mid$string"), w = $.$("profile").$("uid$string"), x = $.$("settings").$("file_sending"), v = x.$("enabled$bool"), y = x.$("allowed_extensions$string"), j = $.$("ui").$("chat_window"), C = j.$("chat_panel").$("file_toast"), S = $.$("settings").$("package");
!function() {
f.on("change", function() {
if (!a) {
a = !0;
u.reconnectIfServerRetired(function() {
a = !1;
t();
});
}
});
h.autobind(v, "value", n);
h.autobind(S, "value", n);
h.autobind(y, "value", o);
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".file_input": {
fontSize: "1000px",
outline: "none",
opacity: "0"
}
};
s(t, "meshim_widget_widgets_SendFile");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
s = f.root.$$("livechat.settings.sound.disabled$bool");
a = f.root.$$("livechat.profile.notification.sound$bool");
_ = f.root.$$("connection.reattached_timestamp$int");
d = f.root.$$("livechat.ui.sounds");
c = f.root.$("livechat").$("ui").$("mobile$bool");
c.getValue() && a.update(!1);
h.runAfterFirstChildReady(function() {
if (!u) {
u = new g(m);
d.bindValue(o);
}
});
}
function o(t) {
if (t && r()) {
l = _.getValue() || 0;
if (0 !== l) for (var e in t) if (t.hasOwnProperty(e)) {
if (!t[e] || t[e] < l) continue;
e = e.substring(0, e.indexOf("$"));
u.hasSound(e) || u.create(e, $[e]);
u.play(e, 1);
}
}
}
function r() {
var t = s.getValue(), e = a.getValue();
return "boolean" == typeof e ? e : "boolean" != typeof t || !t;
}
var s, a, _, l, d, u, c, h = i(14), p = i(18), f = i(5), g = i(273), m = p.SOUNDS_URL, $ = {
new_message: "triad_gbd"
}, b = {
init: n,
isSoundEnabled: r,
play: function() {}
};
t.exports = b;
e(b, "meshim_widget_controllers_SoundController");
return b;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(12), e = i(9), n = {
true: "tick",
false: "cross"
}, o = h.setIcon;
h.setIcon = function(e, i) {
i || (e = t(e).toString());
return o.call(h, n[e] || e);
};
!function() {
e.rtl(h);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_IconFont.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_IconFont;
t.__jx__jcss = {
"**self": {
float: "right",
lineHeight: 1,
position: "relative",
top: "3px",
verticalAlign: "middle",
"&.rtl": {
float: "left"
}
},
"&.left": {
float: "left",
"&.rtl": {
float: "right"
}
}
};
s(t, "meshim_widget_widgets_menu_IconFont");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ViewStack = i(55);
e.__$$__meshim_widget_components_chatWindow_SettingsMenu = i(276);
e.__$$__meshim_widget_components_chatWindow_ProfileMenu = i(263);
e.__$$__meshim_widget_components_chatWindow_EndChatMenu = i(258);
e.__$$__meshim_widget_components_chatWindow_EmailTranscriptMenu = i(257);
e.__$$__meshim_widget_components_chatWindow_EmailTranscriptNotification = i(256);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ViewStack, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_SettingsMenu, "", "", [], {
name: "settings_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_ProfileMenu, "", "", [], {
name: "profile_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_EndChatMenu, "", "", [], {
name: "end_chat_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_EmailTranscriptMenu, "", "", [], {
name: "email_transcript_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_EmailTranscriptNotification, "", "", [], {
name: "email_transcript_notification"
} ] ], {
"xmlns:ui": "jx.ui",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:widgets": "meshim.widget.widgets",
onChildHide: "-1"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
i(9).popout(h);
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ViewStack.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ViewStack;
t.__jx__jcss = {
"**self": {
overflow: "visible"
},
"&.popout": {
position: "absolute"
},
"&.mobile": {}
};
s(t, "meshim_widget_components_chatWindow_MenuStack");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(38);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(82);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_RatingBar = i(98);
e.__$$__meshim_widget_widgets_TextArea = i(77);
e.__$$__meshim_widget_widgets_Bottom = i(32);
e.__$$__meshim_widget_widgets_Controls = i(49);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(76);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(120), h = o(121), p = o(122), f = o(123), g = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "rating_desc", "", [], {
id: "rating_desc",
addClass: "rating_desc"
} ], [ e.__$$__meshim_widget_widgets_RatingBar, "rating_bar", "", [], {
id: "rating_bar",
addClass: "rating_bar"
} ], [ e.__$$__jx_ui_Widget, "", "", [ c ], {
addClass: "comment_intro"
} ], [ e.__$$__meshim_widget_widgets_TextArea, "comment_area", "", [], {
id: "comment_area",
addClass: "comment_area",
rows: "4",
placeholder: h
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "send", "", [], {
placement: "primary",
id: "send",
addClass: "send wide",
value: p
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ f ], {
placement: "secondary",
id: "cancel",
addClass: "cancel secondary wide"
} ] ], {} ] ], {} ] ], {
absPaddingBottom: "bottomHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
titleBar: "hidePopout",
actionBar: ""
} ], m = g[0].call(this, s, a, null, n.mangleIDs(a, g[3]), g[4]), $ = m || this;
n.set(a, $);
var b = n.get(a + "__rating_desc"), w = n.get(a + "__rating_bar"), x = n.get(a + "__comment_area"), v = n.get(a + "__send"), y = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var j = function() {
function t(t) {
_ = t;
y.setText(t ? f.END_CHAT : f.DURING_CHAT);
}
function e(t) {
t ? o(t) : b.setText(p.NOT_RATED);
}
function n() {
var t = w.getValue();
t ? o(t) : b.setText(p.UNRATED);
}
function o(t) {
b.setText("good" == t ? p.RATED_GOOD : p.RATED_BAD);
}
function r() {
var t, e = {
good: "Good",
bad: "Bad"
}, i = "rating_panel" + (_ ? "_end_chat" : "_during_chat"), n = w.getValue(), o = j && j.getValue();
if (n !== o) {
j && c.writeNode(j, n);
u.trackEvent("Chat_Rating_" + (e[n] || "Removed"), i);
t = !0;
}
var r = x.getValue().trim();
if (r) {
m.write({
comment$string: r
});
u.trackEvent("Chat_Comment_Submitted", i);
t = !0;
}
s(!t);
}
function s(t) {
S.update("chat_panel");
window.setTimeout(function() {
if (_) {
d.livechat.endChat();
A.update(null);
}
}, t ? 0 : 2e3);
}
function a() {
w.setValue(j.getValue());
e(j.getValue());
x.setValue(C.getValue() || "").focus();
}
var _, l = i(7), d = i(5), u = i(50), c = i(10), h = l(124), p = {
NOT_RATED: h,
RATED_GOOD: l(125),
RATED_BAD: l(126),
UNRATED: l(127)
}, f = {
DURING_CHAT: l(128),
END_CHAT: l(129)
}, g = d.root.$("livechat"), m = g.$("channel"), j = m.$("rating$string"), C = m.$("comment$string"), S = g.$("ui").$("chat_window").$("main_stack_name$string"), A = g.$("ui").$("chat_window").$("rating_panel").$("end_chat$bool");
!function() {
b.setText(p.NOT_RATED);
$.autobind(A, "value", t);
w.setDataNode(j);
w.setSize("big");
v.on("click", r);
y.on("click", function() {
s(!0);
});
$.on("show", a);
$.autobind(j, "value", e);
w.on("change", n);
}();
}();
for (var C in j) j.hasOwnProperty(C) && ($[C] = j[C]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(l);
$.setAttributes && $.setAttributes(u);
"function" == typeof $.addChildren ? $.addChildren(d) : n.addChildren($, d);
if ($ !== this) {
$.__jx__constructor = _;
$.__jx__native = !1;
}
return $;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".rating_desc": {
textAlign: "center",
marginBottom: "15px"
},
".rating_bar": {
marginBottom: "25px"
},
".comment_intro": {
fontWeight: "700"
},
".comment_area": {
overflow: "auto",
marginTop: "15px"
}
};
a(t, "meshim_widget_components_chatWindow_RatingPanel");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(38);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Header = i(63);
e.__$$__meshim_widget_widgets_Body = i(37);
e.__$$__meshim_widget_widgets_Button = i(17);
e.__$$__meshim_widget_widgets_Bottom = i(32);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(132), h = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "Zendesk Chat"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright Â© 2016 Zendesk, Inc. All Rights Reserved."
} ], [ e.__$$__meshim_widget_widgets_Button, "back_top", "", [ c ], {
id: "back_top",
addClass: "back_top wide"
} ], [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "Open Source Licenses"
} ] ], {} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "chroma.js - JavaScript library for color conversions"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright Â© 2011-2013, Gregor Aisch. All rights reserved."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "3. The name Gregor Aisch may not be used to endorse or promote products derived from this software without specific prior written permission."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.'
} ] ], {
class: "break_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "store.js"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright Â© 2010-2013 Marcus Westin"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'
} ] ], {
class: "break_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "d3-timer, d3-interpolate"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright 2010-2015 Mike Bostock"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "All rights reserved."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Neither the name of the author nor the names of contributors may be used to endorse or promote products derived from this software without specific prior written permission."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.'
} ] ], {
class: "break_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "d3-ease"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright 2010-2015 Mike Bostock"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright 2001 Robert Penner"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "All rights reserved."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Neither the name of the author nor the names of contributors may be used to endorse or promote products derived from this software without specific prior written permission."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.'
} ] ], {
class: "break_top"
} ] ], {
addClass: "ltr"
} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "back", "", [ c ], {
id: "back",
addClass: "back wide"
} ] ], {} ] ], {
absPaddingBottom: "bottomHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
titleBar: "hidePopout",
actionBar: ""
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__back_top"), m = n.get(a + "__back");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
var t = i(5), e = i(9), n = t.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
!function() {
e.mobile(f);
m.on("click", function() {
n.update("chat_panel");
});
g.on("click", function() {
n.update("chat_panel");
});
}();
}();
for (var b in $) $.hasOwnProperty(b) && (f[b] = $[b]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".break_top": {
padding: "10px 0",
borderTop: "1px solid",
borderColor: "$$inputColor",
fontSize: "$$fontSizeXS",
".meshim_widget_widgets_Body": {
color: "$$inputColor",
marginBottom: "$$marginS"
}
},
".back_top": {
display: "none",
"&.mobile": {
marginBottom: "18px",
display: "block"
}
},
".ltr": {
direction: "ltr"
}
};
a(t, "meshim_widget_components_chatWindow_AboutPanel");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(38);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__jx_controls_List = i(146);
e.__$$__meshim_widget_widgets_motif_Chat = i(130);
e.__$$__meshim_widget_widgets_Bottom = i(32);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(119), h = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "scrollable_frame", "", [ [ e.__$$__jx_controls_List, "list", "", [], {
id: "list",
addClass: "list"
} ], [ e.__$$__meshim_widget_widgets_motif_Chat, "chat_motif", "", [], {
id: "chat_motif",
addClass: "chat_motif"
} ] ], {
id: "scrollable_frame"
} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "back", "", [ c ], {
id: "back",
addClass: "back wide"
} ] ], {
addClass: "padding_bottom"
} ] ], {
absPaddingBottom: "bottomHeightBottomPadding"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
titleBar: "hidePopout",
actionBar: "none"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__scrollable_frame"), m = n.get(a + "__list"), $ = n.get(a + "__chat_motif"), b = n.get(a + "__back");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
var t = i(16), e = i(5), n = i(277), o = e.root.$("livechat").$("agents"), r = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
!function() {
m.setRenderer(n);
m.setDataNode(o);
f.autobind(o, "keys", function() {
t(function() {
if (f.dom) {
var t = m.offsetHeight, e = g.getHeight(), i = $.getHeight();
t <= e && e - t > i ? f.removeClass("many_agents") : f.addClass("many_agents");
}
});
});
b.on("click", function() {
r.update("chat_panel");
});
}();
}();
for (var x in w) w.hasOwnProperty(x) && (f[x] = w[x]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
"**self": {},
".list": {
position: "relative",
"width, height": "100%"
},
".chat_motif": {
position: "absolute",
"bottom, left": 0,
transition: "opacity 0.5s",
opacity: 1
},
"&.many_agents .chat_motif": {
opacity: 0
}
};
a(t, "meshim_widget_components_chatWindow_AgentList");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(38);
e.__$$__jx_ui_Form = i(42);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__meshim_widget_widgets_Body = i(37);
e.__$$__meshim_widget_widgets_form_Profile = i(105);
e.__$$__meshim_widget_widgets_Form = i(103);
e.__$$__meshim_widget_widgets_Bottom = i(32);
e.__$$__meshim_widget_widgets_Controls = i(49);
e.__$$__meshim_widget_widgets_Submit = i(70);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(130), h = o(131), p = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__meshim_widget_widgets_form_Profile, "profile", "", [], {
id: "profile"
} ], [ e.__$$__meshim_widget_widgets_Form, "form_generator", "", [], {
id: "form_generator"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
placement: "primary",
addClass: "wide",
value: c
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ h ], {
placement: "secondary",
id: "cancel",
addClass: "secondary wide"
} ] ], {} ] ], {} ] ], {
absPaddingBottom: "bottomHeight"
} ] ], {
id: "form",
noValidate: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
titleBar: "hidePopout",
actionBar: ""
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
var m = n.get(a + "__form"), $ = n.get(a + "__message"), b = n.get(a + "__profile"), w = n.get(a + "__form_generator"), x = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
var t, e = i(5), n = e.root.$("livechat").$("settings").$("forms").$("card_form"), o = n.$("message$string"), r = n.$("form"), s = n.$("form_submitted"), a = n.$("profile_required$bool"), _ = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
!function() {
w.setDataNode(r);
b.setDataNode(r);
g.autobind(o, "value", function(t) {
$.setText(t || "");
});
g.autobind(a, "value", function(e) {
t = e;
b.setDisplay(e ? "" : "none");
b.setDisabled(e);
});
m.on("submit", function(t) {
t.preventDefault();
if (m.validate(!0)) {
b.submit();
w.submit(s, b);
_.update("chat_panel");
}
});
x.on("click", function() {
_.update("chat_panel");
});
}();
}();
for (var y in v) v.hasOwnProperty(y) && (g[y] = v[y]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_CardForm");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(38);
e.__$$__meshim_widget_widgets_ViewStack = i(55);
e.__$$__meshim_widget_components_chatWindow_cookieForm_Accept = i(279);
e.__$$__meshim_widget_components_chatWindow_cookieForm_Decline = i(278);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_cookieForm_Accept, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_cookieForm_Decline, "", "", [], {} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:cookieForm": "meshim.widget.components.chatWindow.cookieForm",
titleBar: "hidePopout",
actionBar: ""
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(5), e = t.root.$("livechat").$("profile").$("allow_cookies$bool");
!function() {
h.autobind(e, "value", function(t) {
p.setIndex(!1 === t ? 0 : 1);
});
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
a: {
color: "inherit"
}
};
s(t, "meshim_widget_components_chatWindow_CookieForm");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Motif = i(281);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Motif, "", "", [], {
"xmlns:widgets": "meshim.widget.widgets",
items: "hill, bubble b1, bubble b2, bubble b3, bubble b4, bubble b5"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
var e = h.dom.getElementsByClassName(t)[0];
if (e) {
e.style.OTransform = "none";
e.style.transform = "none";
}
}
var e = i(8);
if (e.isOpera) {
t("b3");
t("b4");
t("b5");
}
e.isIE8 && h.setDisplay("none");
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Motif.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Motif;
t.__jx__jcss = {
"**self": {
width: "100%",
height: "50px",
fontFamily: 'zopim, "Segoe UI Symbol", "Arial Unicode MS", "Lucida Sans Unicode", sans-serif',
"*display": "none"
},
"*": {
position: "absolute"
},
".hill": {
width: "95%",
height: "20px",
bottom: 0,
left: "2.5%",
borderTopLeftRadius: "50% 100%",
borderTopRightRadius: "50% 100%",
background: "$$chatMotifHill"
},
".bubble": {
top: 0,
color: "$$chatMotifBubble",
"&:before": {
content: "'\\1f4ac'"
}
},
".b1": {
fontSize: "24px",
top: "12px",
left: "10%",
opacity: .4
},
".b2": {
fontSize: "16px",
top: "16px",
left: "21%"
},
".b3": {
fontSize: "16px",
top: "13px",
right: "33.5%",
opacity: .4
},
".b4": {
fontSize: "16px",
top: "14px",
right: "26%"
},
".b5": {
fontSize: "35px",
top: 0,
right: "11%",
opacity: .2
},
".b3, .b4, .b5": {
transform: "scale(-1, 1)"
}
};
s(t, "meshim_widget_widgets_motif_Chat");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(38);
e.__$$__meshim_widget_widgets_ViewStack = i(55);
e.__$$__meshim_widget_components_chatWindow_postChatForm_RatingForm = i(282);
e.__$$__meshim_widget_components_chatWindow_postChatForm_CommentsForm = i(280);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_postChatForm_RatingForm, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_postChatForm_CommentsForm, "", "", [], {} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:postChatForm": "meshim.widget.components.chatWindow.postChatForm",
titleBar: "hidePopout",
actionBar: "none"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t, e = i(5), n = e.root.$("livechat").$("ui").$("chat_window").$("post_chat_form").$("stack_index$int"), o = e.root.$$("livechat.channel.rating$string");
!function() {
h.autobind(n, "value", function(e) {
0 == e && t ? n.update(1) : 1 != e || t ? p.setIndex(e || 0) : n.update(0);
});
h.autobind(o, "value", function(e) {
t = e;
});
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_PostChatForm");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(201), h = [ e.__$$__jx_ui_html_div, "", "", [ " {str_queue_position} " ], {
xmlns: "jx.ui.html"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
var t = r.getValue(), e = !0;
if (t && t > 0) {
t > 99 && (t = 99);
f.setText(c.replace("<number>", t));
} else e = !1;
f[e ? "removeClass" : "addClass"]("hidden");
}
var e = i(7), n = i(5), o = n.root.$("livechat"), r = o.$("channel").$("queue_position$int");
o.$("ui").$("mobile$bool").getValue();
!function() {
f.autobind(r, "value", t);
if (e && e.onLanguage) {
e.onLanguage(t);
f.onDestruction(function() {
e.unLanguage(t);
});
}
}();
}();
for (var m in g) g.hasOwnProperty(m) && (f[m] = g[m]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
borderWidth: "$$chatLogSystemMsgBorderWidth",
borderStyle: "$$chatLogSystemMsgBorderStyle",
borderColor: "$$chatLogSystemMsgBorderColor",
padding: "$$chatLogSystemMsgPadding",
textAlign: "center"
},
"&.hidden": {
display: "none"
}
};
a(t, "meshim_widget_components_chatWindow_chatPanel_QueueMessage");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
if ("fast_init" == n) {
if (!r) {
r = new _(h);
r.setDataNode(u);
h.autobind(d, "value", e);
h.fire("fast_log_appended");
}
} else if ("registered" == o || "reattached" == o) {
if (r instanceof _) {
h.autounbind(d, "value", e);
r.destroy();
}
r = !0;
if (!s) {
s = new _(h);
s.setDataNode(d);
h.fire("chat_log_appended");
}
}
}
function e(t) {
if (t) {
var e;
for (var i in t) if (t.hasOwnProperty(i)) {
e = t[i];
if (!e) continue;
if (e.unverified$bool && !e.nick$string) {
e.nick$string = "visitor:local";
u.$(i).update(e);
}
}
}
}
var n, o, r, s, a = i(5), _ = i(147), l = a.root.$("livechat"), d = l.$("channel").$("log"), u = l.$("temp").$("prev_log"), c = a.root.$("connection"), p = c.$("message$string"), f = c.$("status$string");
!function() {
h.autobind(p, "value", function(e) {
if (n != e) {
n = e;
t();
}
});
h.autobind(f, "value", function(e) {
if (o != e) {
o = e;
t();
}
});
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_chatPanel_FastInitChatLog");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_span = i(31);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__jx_ui_html_span, "", "", [], {
class: "default_value",
container: "default_value"
} ], [ e.__$$__jx_ui_html_span, "", "", [], {
class: "selected_value",
container: "selected_value"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(10), e = i(5);
t.hoverFix(h);
!function() {
var t = e.root.$("livechat").$("ui").$("mobile$bool");
h.autobind(t, "value", function(t) {
t || h.addClass("desktop");
});
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_span.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_span;
t.__jx__jcss = {
"**self": {
width: "50%",
display: "inline-block",
".default_value": {
display: "inline"
},
".selected_value": {
display: "none"
},
"&.desktop.hover, &.desktop:hover, &.active": {
".default_value": {
display: "none"
},
".selected_value": {
display: "inline"
}
}
}
};
s(t, "meshim_widget_widgets_ratingBar_emoticon_Button");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_ButtonBar = i(294);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_ButtonBar, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
selectable: "false"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_ButtonBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_ButtonBar;
t.__jx__jcss = {
".option": {
cursor: "pointer",
display: "inline-block",
textAlign: "center",
"&:first-child": {},
"&:last-child": {},
"&.active": {
cursor: "default"
},
"&:hover": {},
"&.disabled": {
cursor: "default",
"&.active": {
cursor: "default"
},
"&:hover": {
cursor: "default"
}
}
}
};
s(t, "meshim_widget_widgets_ButtonBar");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:widget": "meshim.widget",
"xmlns:mui": "meshim.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.setText(o.get(n));
}
function e(e) {
if (n !== e) {
n && h.autounbind(n, "value", t);
n = e;
n && h.autobind(n, "value", t);
}
}
var n, o = i(11);
h.setDataNode = e;
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
whiteSpace: "inherit",
overflow: "hidden",
textOverflow: "ellipsis",
fontWeight: "bold",
lineHeight: "1.2",
paddingBottom: "2px"
}
};
s(t, "meshim_widget_widgets_profileCard_MemberName");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__jx_ui_html_table = i(54);
e.__$$__jx_ui_html_tbody = i(53);
e.__$$__jx_ui_html_tr = i(52);
e.__$$__jx_ui_html_td = i(51);
e.__$$__meshim_widget_widgets_Gravatar = i(81);
e.__$$__meshim_widget_widgets_profileCard_MemberName = i(136);
e.__$$__meshim_widget_widgets_profileCard_TitleHolder = i(298);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_Gravatar, "gravatar", "", [], {
id: "gravatar",
addClass: "profile_avatar"
} ] ], {
class: "avatar_cell"
} ], [ e.__$$__jx_ui_html_td, "content_cell", "", [ [ e.__$$__meshim_widget_widgets_profileCard_MemberName, "name_holder", "", [], {
id: "name_holder",
addClass: "profile_name"
} ], [ e.__$$__meshim_widget_widgets_profileCard_TitleHolder, "title_holder", "", [], {
id: "title_holder",
addClass: "profile_title"
} ] ], {
pseudo: "content_cell",
id: "content_cell"
} ] ], {} ] ], {} ] ], {
class: "profile_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widget": "meshim.widget"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__gravatar"), f = n.get(s + "__content_cell"), g = n.get(s + "__name_holder"), m = n.get(s + "__title_holder");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t(t) {
p.setMemberNode(t);
if (t) {
n = t.$("display_name$string");
g.setDataNode(n);
o = t.$("title$string");
e(o);
} else {
g.setDataNode(null);
e(null);
}
}
function e(t) {
o = t;
m.setDataNode(o);
}
var n, o, r = i(5), s = r.root.$("livechat"), a = s.$("settings").$("theme").$("chat_window").$("profile_card").$("display_avatar$bool"), _ = s.$("settings").$("theme").$("chat_window").$("profile_card").$("display_title_name$bool"), l = s.$("ui").$("mobile$bool");
!function() {
p.on("click", function() {
h.onGravatarClick && h.onGravatarClick();
});
f.on("click", function() {
h.onContentClick && h.onContentClick();
});
l.getValue() && h.addClass("mobile");
h.autobind(a, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_avatar");
});
h.autobind(_, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_title_name");
});
h.setDataNode = t;
h.setTitleNode = e;
}();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
width: "100%",
position: "relative",
".profile_table": {
width: "100%",
tableLayout: "fixed",
fontSize: "100%",
borderSpacing: "0px",
borderCollapse: "collapse",
td: {
padding: "0px"
}
},
".profile_avatar": {
width: "32px",
height: "32px",
borderWidth: "$$profileCardAvatarBorderWidth",
borderStyle: "$$profileCardAvatarBorderStyle",
borderColor: "$$profileCardAvatarBorderColor",
borderRadius: "$$profileCardAvatarRadius",
boxShadow: "$$profileCardAvatarShadow"
},
".profile_name": {
fontWeight: "bold",
color: "$$profileCardNameColor"
},
".profile_title": {
color: "$$profileCardTitleColor"
},
".profile_name, .profile_title": {
lineHeight: "1.2"
}
},
"**self.no_avatar .profile_table": {
".avatar_cell": {
display: "none"
},
".content_cell": {
paddingLeft: "0px"
}
},
"**self.no_title_name .profile_table": {
".content_cell": {
visibility: "hidden"
}
},
"**self.mobile": {
".profile_table": {
height: "100%"
}
}
};
s(t, "meshim_widget_widgets_ProfileCard");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ProfileCard = i(137);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ProfileCard, "", "", [], {
xmlns: "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
e.call(h, t);
if (t && t !== _) {
var i = t.$("title$string"), n = new s(i, l);
h.setTitleNode(n);
}
}
var e, n = i(7), o = n(208), r = i(5), s = i(297), a = i(91), _ = r.root.$$("livechat.settings.concierge"), l = new a("title$string");
l.update(o);
!function() {
e = h.setDataNode || function() {};
h.setDataNode = t;
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ProfileCard.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ProfileCard;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_AgentProfileCard");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__jx_ui_html_table = i(54);
e.__$$__jx_ui_html_tbody = i(53);
e.__$$__jx_ui_html_tr = i(52);
e.__$$__jx_ui_html_td = i(51);
e.__$$__jx_ui_ViewStack = i(171);
e.__$$__meshim_widget_widgets_AgentProfileCard = i(138);
e.__$$__meshim_widget_widgets_MultiProfilesCard = i(296);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__jx_ui_ViewStack, "stack", "", [ [ e.__$$__meshim_widget_widgets_AgentProfileCard, "agent_card", "", [], {
id: "agent_card",
addClass: "card"
} ], [ e.__$$__meshim_widget_widgets_MultiProfilesCard, "multi_agents_card", "", [], {
id: "multi_agents_card",
addClass: "card cursor_pointer"
} ] ], {
id: "stack"
} ] ], {
pseudo: "served_by_cell"
} ], [ e.__$$__jx_ui_html_td, "rating_cell", "", [], {
pseudo: "rating_cell",
id: "rating_cell",
class: "display_none"
} ] ], {} ] ], {} ] ], {
class: "profile_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__stack"), f = n.get(s + "__agent_card"), g = n.get(s + "__multi_agents_card"), m = n.get(s + "__rating_cell");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
var t = v.getKeys().length;
if (t > 1) {
if (1 === p.getIndex()) return;
p.setIndex(1);
f.setDataNode(null);
g.setDataNode(v);
} else {
if (0 !== p.getIndex()) {
p.setIndex(0);
g.setDataNode(null);
}
var e;
if (1 === t) {
e = v.$(v.getKeys()[0]);
f.addClass("cursor_pointer");
} else {
e = C;
f.removeClass("cursor_pointer");
}
f.setDataNode(e);
}
}
function e() {
I.getValue() && _.resetUnreadCount();
v.getKeys().length && k.update("agent_list");
}
function n() {
var t = a(S.getValue()), e = a(y.getValue()), i = a(A.getValue());
o(t && e && i);
}
function o(t) {
if (t) {
b || r();
m.removeClass("display_none");
} else m.addClass("display_none");
}
function r() {
b = new $(m).setPseudo("rating_bar");
b.setDataNode(j);
b.setSize("small");
b.on("change", s);
}
function s(t) {
B && l.scrollToBottom();
j && c.writeNode(j, t);
var e = {
good: "Good",
bad: "Bad"
};
u.trackEvent("Chat_Rating_" + (e[t] || "Removed"), "chat_panel");
}
var a = i(12), _ = i(33), l = i(62), d = i(5), u = i(50), c = i(10), $ = i(98), b = null, w = d.root.$("livechat"), x = w.$("channel"), v = w.$("agents"), y = x.$("served$bool"), j = x.$("rating$string"), C = w.$("settings").$("concierge"), S = w.$("settings").$("rating").$("enabled$bool"), A = w.$("settings").$("theme").$("chat_window").$("profile_card").$("display_rating$bool"), k = w.$("ui").$("chat_window").$("main_stack_name$string"), I = w.$("ui").$("popout$bool"), T = w.$("ui").$("mobile$bool").getValue(), B = w.$("ui").$("mobile_overlay$bool").getValue();
!function() {
p.on("instantiate", function(t) {
var i = p.children[t];
i.onGravatarClick = e;
i.onContentClick = e;
0 === t ? f = i : g = i;
});
p.setIndex(0);
h.autobind(v, "keys", t);
h.autobind(S, "value", n);
h.autobind(y, "value", n);
h.autobind(A, "value", n);
T && h.addClass("mobile");
}();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
height: "100%",
".profile_table": {
width: "100%"
},
".card": {
".avatar_cell": {
width: "50px",
verticalAlign: "bottom",
".profile_avatar": {
position: "absolute",
bottom: "0",
"width, height": "50px",
borderWidth: "$$chatPanelProfileCardAvatarBorderWidth",
borderStyle: "$$chatPanelProfileCardAvatarBorderStyle",
borderColor: "$$chatPanelProfileCardAvatarBorderColor",
borderRadius: "$$chatPanelProfileCardAvatarRadius",
boxShadow: "$$chatPanelProfileCardAvatarShadow"
}
},
".content_cell": {
padding: "0 10px",
verticalAlign: "middle",
width: "100%",
height: "32px",
".profile_name, .profile_title": {
overflow: "hidden",
width: "100%",
whiteSpace: "nowrap"
}
}
},
".rating_cell": {
width: "52px",
verticalAlign: "middle"
},
".cursor_pointer": {
cursor: "pointer"
},
".display_none": {
display: "none"
}
},
"&.mobile": {
".card": {
".avatar_cell": {
width: "40px",
verticalAlign: "middle",
".profile_avatar": {
position: "relative",
"width, height": "40px"
}
},
".content_cell": {
verticalAlign: "middle",
".profile_name": {
marginTop: "3px"
}
}
},
".rating_cell": {
width: "88px"
}
}
};
s(t, "meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Toast = i(107);
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Toast, "", "", [ [ e.__$$__jx_ui_html_div, "message", "", [], {
id: "message"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__message");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDisplay("none");
}
var e = i(8), n = i(14), o = i(16), r = i(5), s = i(66), a = i(18), _ = i(10), l = i(11), d = l.file_upload.error, u = s.prettySize(a.FILE_UPLOAD_MAX, {
base2: !0
}), c = 3100, f = _.isStyleSupported("transition");
e.isFF && (f = !1);
var g, m = r.root.$("livechat").$("ui").$("chat_window").$("chat_panel").$("file_toast").$("error$string"), $ = r.root.$("livechat").$("ui").$("popout$bool");
!function() {
_.onTransitionEnd(h, h, t);
$ && n.window.on("click", t);
h.onDestruction(function() {
$ && n.window.un("click", t);
});
h.autobind(m, "value", function(e) {
if (e) {
"size" == e ? p.setText(d[e].replace("<size>", u)) : p.setText(d[e] || d.default);
g && window.clearTimeout(g);
f && h.removeClass("fade_out");
h.setDisplay("");
f && h.dom.offsetHeight;
f && o(function() {
h.addClass("fade_out");
});
g = window.setTimeout(t, c);
} else t();
});
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Toast.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Toast;
t.__jx__jcss = {
"**self": {
position: "absolute",
zIndex: "1000",
top: "50%",
left: "50%",
width: "160px",
height: "auto",
marginTop: "-32px",
marginLeft: "-80px",
padding: "10px",
textAlign: "center",
fontWeight: "bold",
transition: "opacity 0.5s linear 2.5s",
opacity: 1,
"&": "$$fileToast",
"&.fade_out": {
opacity: 0
}
}
};
s(t, "meshim_widget_components_chatWindow_chatPanel_File");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
r && h.autounbind(r, "value", e);
s = t;
r = s.$("type$string");
h.autobind(r, "value", e);
}
function e(t) {
if (t && !a) {
switch (t) {
case "chat.memberjoin":
a = new d(h);
break;

case "chat.memberleave":
a = new d(h);
_ = new f(h);
_.setDataNode(s);
break;

case "chat.changename":
a = new u(h);
break;

case "chat.rating":
a = new c(h);
break;

case "chat.comment":
a = new p(h);
}
n();
}
}
function n() {
if (s) {
a && a.setDataNode(s);
_ && _.setDataNode(s);
}
}
function o() {
l.unLanguage && l.unLanguage(n);
}
var r, s, a, _, l = i(7), d = i(306), u = i(305), c = i(304), p = i(303), f = i(302);
!function() {
h.setDataNode = t;
h.onDestruction(o);
l.onLanguage && l.onLanguage(n);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
borderWidth: "$$chatLogSystemMsgBorderWidth",
borderStyle: "$$chatLogSystemMsgBorderStyle",
borderColor: "$$chatLogSystemMsgBorderColor",
padding: "$$chatLogSystemMsgPadding",
textAlign: "center"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_SystemLogRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_Button, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "secondary chat_log_button"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Button;
t.__jx__jcss = {
"**self.chat_log_button": {
width: "auto",
maxWidth: "100%",
padding: "6px"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_Button");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_widgets_chatLogRenderer_Button = i(142);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(221), h = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_Button, "rate_this_chat", "", [ c ], {
id: "rate_this_chat"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__rate_this_chat");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function e() {
o.update("rating_panel");
}
var n = i(5), o = n.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
!function() {
t.last_instance && t.last_instance.destroy();
t.last_instance = f;
f.autobind(g, "click", e);
}();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
marginTop: "5px",
marginBottom: "5px"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_RatingPrompt");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble = i(310);
e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer = i(99);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer, "content", "", [], {
id: "content",
class: "content"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:logRenderer": "meshim.widget.widgets.chatLogRenderer",
addClass: "chat_bubble"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
var h = n.get(s + "__content");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
i || h.setDataNode(t);
i && c.autounbind(i, "value", e);
i = t.$("nick$string");
c.autobind(i, "value", e);
}
function e(t) {
if (t) if (n.test(t)) {
c.setArrowPointing("left");
c.setFloat("left");
} else if (o.test(t)) {
c.setArrowPointing("right");
c.setFloat("right");
}
}
var i, n = /^agent/, o = /^visitor:/;
!function() {
c.setDataNode = t;
}();
}();
for (var f in p) p.hasOwnProperty(f) && (c[f] = p[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble;
t.__jx__jcss = {
"**self": {
maxWidth: "90%",
clear: "both",
padding: "5px 10px",
margin: "0px 5px",
borderRadius: "4px",
".arrow_border": {},
".arrow_background": {},
".arrow_border": {
top: "auto !important",
bottom: "5px",
marginTop: "0px",
borderWidth: "6px"
},
".arrow_background": {
top: "auto !important",
bottom: "6px",
marginTop: "0px",
borderWidth: "5px"
},
".content": {
marginTop: "0px"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_ChatBubble");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(3), o = n.nativeGenerator("div");
t.exports = o;
e(o, "div");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__div = i(145);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = [ e.__$$__div, "", "", [ [ e.__$$__div, "template", "", [ [ e.__$$__div, "", "", [], {} ] ], {
id: "template",
container: "default",
display: "none"
} ], [ e.__$$__div, "content", "", [], {
id: "content"
} ] ], {} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), p = h || this;
n.set(a, p);
var f = n.get(a + "__template"), g = n.get(a + "__content");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
p.defaultPlacement = f;
var m = function() {
function t(t) {
S && p.autounbind(S, "keys", o);
S = t;
e();
p.autobind(S, "keys", o);
}
function e() {
g.empty();
I = {};
N = [];
if (D) {
D = 0;
p.fire("jx:list:length", D);
}
}
function o(t, e) {
var i = t.length + e.length > 2;
i && p.removeChild(g);
var n, o, r, a, _ = D;
for (o = 0; o < t.length; o++) {
n = t[o];
if (!(n in I)) {
var l = O(g), d = S.$(n);
I[n] = l;
D++;
C.applySetDataNode(l);
r = A ? w(n) : n;
a = y(r, l);
l.setAttribute("jx:list:rowID", n);
l.setDataNode(d);
s(a);
}
}
for (o = 0; o < e.length; o++) {
n = e[o];
if (n in I) {
r = A ? w(n, !0) : n;
a = v(r);
delete T[r];
I[n] === P && (P = null);
I[n].destroy();
delete I[n];
s(a);
D--;
}
}
i && p.appendChild(g);
_ != D && p.fire("jx:list:length", D);
t.length && p.fire("jx:list:added", t);
}
function s(t) {
if (!(t < 0) && N[t]) {
var e, i, n = N[t], o = I[n];
if (o) {
if (N[t + 1]) {
o.setAttribute("jx:list:nextID", N[t + 1]);
e = I[N[t + 1]];
e.setAttribute("jx:list:prevID", n);
o.fire("update.neighbour", {
next: N[t + 1]
});
e.fire("update.neighbour", {
prev: n
});
} else {
o.removeAttribute("jx:list:nextID");
o.fire("update.neighbour", {
next: null
});
}
if (N[t - 1]) {
o.setAttribute("jx:list:prevID", N[t - 1]);
i = I[N[t - 1]];
i.setAttribute("jx:list:nextID", n);
o.fire("update.neighbour", {
prev: N[t - 1]
});
i.fire("update.neighbour", {
next: n
});
} else {
o.removeAttribute("jx:list:prevID");
o.fire("update.neighbour", {
prev: null
});
}
}
}
}
function a(t) {
for (;t.parentNode && t != p; ) {
var e = t.getAttribute("jx:list:nextID");
if (e) return e;
t = t.parentNode;
}
}
function _(t) {
for (;t.parentNode && t != p; ) {
var e = t.getAttribute("jx:list:prevID");
if (e) return e;
t = t.parentNode;
}
}
function l(t) {
for (;t.parentNode && t != p; ) {
var e = t.getAttribute("jx:list:rowID");
if (e) return e;
t = t.parentNode;
}
}
function d() {
var t, e, i = [];
for (t in I) if (I.hasOwnProperty(t)) {
e = I[t].getAttribute("jx:list:rowID");
e && i.push(e);
}
return i;
}
function u(t) {
var e = I[t];
if (e) return e.jx_wrapper || e;
}
function c(t) {
h(t.target);
}
function h(t) {
var e, i;
if (r(t)) {
i = t;
e = I[i];
} else if ("number" == typeof t) {
e = g.childNodes[t];
e && (i = e.getAttribute("jx:list:rowID"));
} else {
e = t;
for (;e.parentNode && e != g; ) {
i = e.getAttribute("jx:list:rowID");
if (i) {
e.jx_wrapper && (e = e.jx_wrapper);
break;
}
e = e.parentNode;
}
}
if (e && e != P) {
m();
P = e.jx_wrapper || e;
P.addClass("active");
P.fire("jx:list:selected");
p.fire("jx:list:select", i);
}
}
function m() {
P && P.removeClass("active");
P && P.fire("jx:list:deselected");
P = null;
}
function $(t, e) {
if (A != t || k != e) {
k = e;
A = t;
if (A) {
if (!E) {
p.autobind(S, "value", x);
E = !0;
}
} else {
if (E) {
p.autounbind(S, "value", x);
E = !1;
}
k = !1;
}
T = {};
B = {};
D > 1 && b();
}
}
function b() {
var t, e, i;
g.innerHTML = "";
N = [];
for (e in I) if (I.hasOwnProperty(e)) {
t = A ? w(e) : e;
i = y(t, I[e]);
B[e] = t;
T[t] = e;
s(i);
}
}
function w(t, e) {
return e ? B[t] : (S.$(t).getValue(A) + "\0" + t).replace(/ /g, "").toLowerCase();
}
function x(t) {
if (A) {
var e, i, n, o, r, a;
for (n in t) if (t.hasOwnProperty(n)) {
i = t[n];
if (B[n] && i && i[A]) {
e = I[n];
g.removeChild(e);
r = B[n];
o = w(n);
delete T[r];
a = v(r);
s(a);
T[o] = n;
B[n] = o;
a = y(o, e, i[A]);
s(a);
}
}
}
}
function v(t) {
var e = j(N, t);
if (e < 0) {
console.log("Could not find " + t + " in List");
return e;
}
N.splice(e, 1);
return e;
}
function y(t, e) {
var i = (-j(N, t) >> 0) - 1;
i < 0 && "undefined" != typeof console && "log" in console && console.log(t + " is already in List");
N.splice(i, 0, t);
k && (i = N.length - i - 1);
g.insertBefore(e.dom || e, g.childNodes[i] || null);
return i;
}
function j(t, e) {
for (var i, n, o = t.length, r = 0, s = o - 1; r <= s; ) {
i = (r + s) / 2 >> 0;
n = t[i];
if (n < e) r = i + 1; else {
if (!(n > e)) return i;
s = i - 1;
}
}
return -(r + 1);
}
var C = i(325);
p.setDataNode = t;
p.setRenderer = function(t) {
O = t;
};
p.getID = l;
p.getNextID = a;
p.getPrevID = _;
p.getRowIDs = d;
p.getByID = u;
p.clearList = e;
p.select = h;
p.deselect = m;
p.setSort = $;
var S, A, k, I = {}, T = {}, B = {}, N = [], D = 0, E = !1, O = function(t) {
if (f.lastChild.__jx__native) {
var e = f.lastChild.cloneNode(!0);
n.extend(e, !0);
return e;
}
return f.lastChild.__jx__constructor(t);
}, P = null;
g.on("click", c);
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__div;
t.__jx__jcss = {};
a(t, "jx_controls_List");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(21), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_controls_List = i(146);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_controls_List, "list", "", [], {
id: "list"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:renderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__list");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t, e, n, o = i(5), r = i(324), s = o.root.$("livechat"), a = s.$("settings").$("theme").$("chat_window").$("size$string"), _ = s.$("settings").$("theme").$("message_type$string");
h.setDataNode = function(e) {
if (e) {
t = e;
p.setDataNode(t);
}
};
!function() {
h.autobind(a, "value", function(t) {
e && h.removeClass("chat_log_" + e);
e = t;
e && h.addClass("chat_log_" + e);
});
h.autobind(_, "value", function(e) {
if (e && n != e) {
n = e;
h.setDataNode(t);
}
});
p.setRenderer(r);
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".visitor .chat_bubble": {
background: "$$chatLogVisitorBubbleBg",
borderWidth: "$$chatLogVisitorBubbleBorderWidth",
borderStyle: "$$chatLogVisitorBubbleBorderStyle",
borderColor: "$$chatLogVisitorBubbleBorderColor",
".arrow_border": {
borderColor: "$$chatLogVisitorBubbleBorderColor"
},
".arrow_background": {
borderColor: "$$chatLogVisitorBubbleBg"
},
".image_file_border": {
borderColor: "$$chatLogVisitorBubbleBorderColor"
},
".generic_file_border": {
borderColor: "$$chatLogVisitorBubbleBorderColor"
}
},
".agent .chat_bubble": {
background: "$$chatLogAgentBubbleBg",
borderWidth: "$$chatLogAgentBubbleBorderWidth",
borderStyle: "$$chatLogAgentBubbleBorderStyle",
borderColor: "$$chatLogAgentBubbleBorderColor",
".arrow_border": {
borderColor: "$$chatLogAgentBubbleBorderColor"
},
".arrow_background": {
borderColor: "$$chatLogAgentBubbleBg"
},
".image_file_border": {
borderColor: "$$chatLogAgentBubbleBorderColor"
},
".generic_file_border": {
borderColor: "$$chatLogAgentBubbleBorderColor"
}
},
".log_avatar": {
borderWidth: "$$chatLogAvatarBorderWidth",
borderStyle: "$$chatLogAvatarBorderStyle",
borderColor: "$$chatLogAvatarBorderColor",
borderRadius: "$$chatLogAvatarRadius",
boxShadow: "$$chatLogAvatarShadow"
},
".group_head, .card, .group_children.bubble_avatar, .group_children.bubble": {
marginTop: "$$margin"
},
a: {
color: "inherit"
},
".card": {
"marginLeft, marginRight": "auto"
},
"&.chat_log_small": {
".card": {}
},
"&.chat_log_medium": {
".card": {
maxWidth: "220px"
}
},
"&.chat_log_large": {
".card": {
maxWidth: "260px"
}
}
};
s(t, "meshim_widget_components_chatWindow_chatPanel_ChatLog");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
for (var e, i, n = o.search.url, l = 0, d = []; null !== (i = n.exec(t)); ) {
var u = i[0].trim(), c = i[2], h = n.lastIndex - u.length;
if (o.tld.test(c)) {
h > l && d.push(t.substring(l, h));
e = r.parseURL("//" + u).hostname === a ? _ : "http://";
d.push({
jxmlConstructor: s,
attributes: {
href: e + u
},
children: [ u ]
});
l = n.lastIndex;
}
}
l < t.length && d.push(t.substring(l));
return d;
}
var o = i(59), r = i(331), s = i(149), a = window.location.hostname, _ = window.location.protocol + "//";
t.exports = n;
e(n, "meshim_common_stringParser_URLWithoutProtocolParser");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_a = i(44);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_a, "", "", [], {
xmlns: "jx.ui.html"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
t && t.preventDefault();
var e, i;
e = h.getAttribute("href");
if (e) {
i = window.open();
i.opener = null;
i.location.href = e;
}
}
var e = i(8);
!function() {
h.setAttribute("rel", "noreferrer");
h.setAttribute("target", "_blank");
e.isIE && h.on("click", t);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_a.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_a;
t.__jx__jcss = {};
s(t, "meshim_common_stringParser_SafeAnchor");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
for (var e, i = o.search.hurl, n = 0, s = []; null !== (e = i.exec(t)); ) {
var a = e[0].trim(), _ = i.lastIndex - a.length;
_ > n && s.push(t.substring(n, _));
s.push({
jxmlConstructor: r,
attributes: {
href: a
},
children: [ a ]
});
n = i.lastIndex;
}
n < t.length && s.push(t.substring(n));
return s;
}
var o = i(59), r = i(149);
t.exports = n;
e(n, "meshim_common_stringParser_URLWithProtocolParser");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
for (var e, i = /\r?\n/g, n = 0, o = []; null !== (e = i.exec(t)); ) {
var r = e[0], s = i.lastIndex - r.length;
s > n && o.push(t.substring(n, s));
o.push({
tagName: "br"
});
n = i.lastIndex;
}
n < t.length && o.push(t.substring(n));
return o;
}
t.exports = i;
e(i, "meshim_common_stringParser_BRParser");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
var n = o(e, i);
t.addChildren(n);
}
function o(t, e) {
t += "";
a(e) || (e = [ e ]);
var i, n, o = [], _ = [ t ];
for (i = 0, n = e.length; i < n; i++) _ = s(_, e[i]);
for (i = 0, n = _.length; i < n; i++) o[i] = r(_[i]);
return o;
}
function r(t) {
if ("string" == typeof t) return t;
var e, i = t.children, n = [];
e = l.extend({}, t.attributes, t.tagName ? {
tagName: t.tagName
} : null);
if (i) for (var o = 0, s = i.length; o < s; o++) n[o] = r(i[o]); else n = null;
return [ t.jxmlConstructor || _, null, null, n, e ];
}
function s(t, e) {
var i = [];
t = t.slice();
for (var n = 0; n < t.length; n++) {
var o, r = t[n];
if ("string" == typeof r) {
o = e(r);
a(o) ? i = i.concat(o) : i.push(o);
} else {
r.children && (r.children = s(r.children, e));
i.push(r);
}
}
return i;
}
var a = i(22), _ = i(6), l = i(65), d = {
appendTo: n,
toJXMLElements: o,
parseChildrenText: s
};
t.exports = d;
e(d, "meshim_common_StringParser");
return d;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "textarea");
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(83);
n.prototype = o(r.prototype);
n.prototype.setCols = function(t) {
this.dom.cols = t;
return this;
};
n.prototype.getCols = function() {
return this.dom.cols;
};
n.prototype.setRows = function(t) {
this.dom.rows = t;
return this;
};
n.prototype.getRows = function() {
return this.dom.rows;
};
n.prototype.setResize = function(t) {
"resize" in this.style && (this.style.resize = t);
};
n.prototype.getInitialValue = function() {
return this._initialValue;
};
n.prototype.setInitialValue = function(t) {
this._initialValue = t && (t.toString ? t.toString() : t);
return this;
};
t.exports = n;
e(n, "jx_ui_TextArea");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
r.tagName || (r.tagName = "option");
s.call(this, t, e, i, o, r);
}
var o = i(1), r = i(12), s = i(43);
n.prototype = o(s.prototype);
n.prototype.getLabel = function() {
return this.dom.label;
};
n.prototype.setLabel = function(t) {
this.dom.label = t;
return this;
};
n.prototype.getSelected = function() {
return this.dom.defaultSelected;
};
n.prototype.setSelected = function(t) {
this.dom.defaultSelected = r(t);
return this;
};
n.prototype.getPlaceholder = function() {
return this.placeholder;
};
n.prototype.setPlaceholder = function(t) {
this.placeholder = t;
return this;
};
t.exports = n;
e(n, "jx_ui_Option");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, s) {
if (!(this instanceof n)) return new n(t, e, i, r, s);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s || (s = {});
s.tagName || (s.tagName = "select");
a.call(this, t, e, i, r, s);
if (this.container) {
this.container.addClass(this.__jx__fqname);
this.iconFont = new l(this.container, null, null, null, {
addClass: "select_icon",
icon: "arrow_down"
});
this.container.insertBefore(this.iconFont, this.container.getFirstChild());
d.mobile(this.container);
d.rtl(this.container);
}
_.__constructor.call(this);
}
var o = i(2), r = i(1), s = i(12), a = i(333), _ = i(64), l = i(15), d = i(9);
n.__jx__jcss = {
"&.mobile.invalid, &.rtl.mobile.invalid": {
"paddingRight, paddingLeft": "$$inputPadding"
},
".select_placeholder": {
overflow: "hidden",
whiteSpace: "nowrap",
textOverflow: "ellipsis"
},
".select_icon": {
float: "right",
marginTop: "3px"
},
"&.rtl .select_icon": {
float: "left"
},
"&.mobile": {
".select_placeholder": {
lineHeight: "26px"
},
".select_icon": {
marginTop: "8px"
}
}
};
n.prototype = r(a.prototype);
n.prototype.__jx__super = _;
n.prototype.setValidity = function(t) {
if (this.container) {
t = s(t);
this.container[t ? "removeClass" : "addClass"]("invalid");
}
return a.prototype.setValidity.apply(this, arguments);
};
t.exports = n;
e(n, "meshim_widget_widgets_Select");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, a) {
if (!(this instanceof n)) return new n(t, e, i, r, a);
if (!n.__jx__jcss_generated) {
s.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
a || (a = {});
a.prompt = a.prompt || String.fromCharCode(160);
c.call(this, t, e, i, r, a);
this.inputSuffix = "select";
this.departments_label_path = "livechat.settings.forms.pre_chat_form.form.2.label$string";
this.default_departments_label = h.descendsObj(u, this.departments_label_path);
this.$departments = d.root.$("livechat").$("departments");
this.$departments_ui = d.root.$("livechat").$("ui").$("departments").$("options");
this.$profile_department_id = d.root.$("livechat").$("profile").$("department_id$int");
this.$departments_label = d.root.$$(this.departments_label_path);
this.$filter_enabled = d.root.$("livechat").$("ui").$("departments").$("filter_enabled$bool");
this.$hide_when_offline = d.root.$("livechat").$("settings").$("chat_button").$("hide_when_offline$bool");
this.prev_value = null;
this.avail_departments = {};
var _ = this;
this.autobind(this.$departments, "value", function() {
_.setOptions();
});
this.autobind(this.$departments_ui, "value", function() {
_.setOptions();
});
this.autobind(this.$filter_enabled, "value", function() {
_.setOptions();
});
this.autobind(this.$hide_when_offline, "value", function() {
_.setOptions();
});
this.autobind(this.$profile_department_id, "value", function(t) {
o.call(_, t);
});
this.autobind(this.$departments_label, "value", function() {
_.updateBlankOption();
});
this.onDestruction(function() {
if (_.blank_option) {
_.blank_option.destroy();
_.blank_option = null;
}
});
this.on("change", function() {
this.userSelected = !0;
});
this.reset();
}
function o(t) {
this.profile_department = t;
this.updateSelectedDepartment();
}
function r(t) {
function e(t, e) {
return t.name$string < e.name$string ? -1 : t.name$string > e.name$string ? 1 : 0;
}
var i = [], n = [];
for (var o in t) t.hasOwnProperty(o) && t.hasOwnProperty(o) && ("offline" == t[o].status$string ? n.push({
id$int: o,
name$string: t[o].name$string,
status$string: "offline"
}) : i.push({
id$int: o,
name$string: t[o].name$string,
status$string: "online"
}));
i.sort(e);
n.sort(e);
return i.concat(n);
}
var s = i(2), a = i(1), _ = i(12), l = i(7), d = i(5), u = i(90), c = i(155), h = i(10), p = i(11), f = i(154);
n.__jx__jcss = {};
n.prototype = a(c.prototype);
n.prototype.__jx__super = c;
n.prototype.validate = function() {
if (this.isBlank) {
this.setValidity(!0);
return !0;
}
return c.prototype.validate.call(this);
};
n.prototype.reset = function() {
var t = this.$profile_department_id.getValue();
t && this.avail_departments[t] ? this.setValue(t) : this.setSelectedIndex(0);
this.userSelected = !1;
};
n.prototype.setHide = function(t) {
this.isHide = _(t);
this.setOptions();
};
n.prototype.setDisableWhenOffline = function(t) {
this.overrideDisable = !_(t);
this.setOptions();
};
n.prototype.isHidden = function() {
return this.isBlank || this.isHide;
};
n.prototype.setRequired = function() {
var t = c.prototype.setRequired.apply(this, arguments);
this.updateBlankOption();
return t;
};
n.prototype.updateBlankOption = function() {
if (this.blank_option) if (this.getRequired()) this.children[0] == this.blank_option && this.removeChild(this.blank_option); else {
this.blank_option.setText(p.get(this.$departments_label) == this.default_departments_label ? p.pre_chat_offline_form.department_any : "â€”");
this.children[0] !== this.blank_option && this.insertBefore(this.blank_option, this.children[0]);
}
};
n.prototype.setOptions = function() {
if (this.$departments) {
var t = this.$departments.getValue(), e = this.$departments_ui.getValue(), i = this.$filter_enabled.getValue(), n = this.$hide_when_offline.getValue(), o = {}, s = "";
if (t) if (null !== this.prev_value) {
s = this.prev_value;
this.prev_value = null;
} else s = this.getValue(); else this.prev_value = this.getValue();
this.isBlank = !0;
for (var a in t) if (t.hasOwnProperty(a)) {
if (i && !(e && e[a] && e[a].display$bool)) continue;
if (t[a]) {
this.isBlank = !1;
o[a] = t[a];
}
}
if (this.isBlank || this.isHide) (this.container || this).parentNode.setDisplay("none"); else {
(this.container || this).parentNode.setDisplay("");
this.empty();
var _, d = this.getName();
this.blank_option = _ = new f(this, null, null, null, {
name: "",
value: "",
className: "input_input_" + this.inputSuffix
});
(_.container || _).addClass("input");
this.avail_departments = o;
o = r(o);
for (var u = 0, c = o.length; u < c; u++) {
var h = "online" == o[u].status$string;
_ = new f(this, null, null, [ o[u].name$string + (h ? "" : " (" + l(203) + ")") ], {
name: d,
value: o[u].id$int,
disabled: !this.overrideDisable && n && !h,
className: "input_input_" + this.inputSuffix
});
(_.container || _).addClass("input");
s != _.getValue() || _.getDisabled() || this.setValue(s);
}
this.updateBlankOption();
this.updateSelectedDepartment();
}
}
};
n.prototype.updateSelectedDepartment = function() {
var t = this.profile_department;
t && parseInt(this.getValue(), 10) !== t && (this.userSelected || this.avail_departments[t] && this.setValue(t));
};
t.exports = n;
e(n, "meshim_widget_widgets_form_DepartmentSelect");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
r.tagName = "div";
this.options = [];
this.labels = [];
a.call(this, t, e, i, o, r);
this.on("click", function() {
this.validate();
});
}
var o = i(1), r = i(12), s = i(19), a = i(43);
n.prototype = o(a.prototype);
n.prototype.getRequired = function() {
return this.required;
};
n.prototype.setRequired = function(t) {
this.required = r(t);
return this;
};
n.prototype.setReadOnly = function(t) {
this.readOnly = r(t);
return a.prototype.setReadOnly.call(this, t);
};
n.prototype.setOptions = function(t, e) {
this.empty();
this.options.length = this.labels.length = 0;
var i, n, o = this.getName();
for (var r in t) if (t.hasOwnProperty(r)) {
i = new this.optionConstructor(this, null, null, null, {
name: o,
value: t[r].value$string,
checked: t[r].checked$bool,
initialChecked: t[r].checked$bool,
disabled: this.readOnly,
display: this.readOnly && !t[r].checked$bool ? "none" : "",
className: "input_input_" + this.inputSuffix
});
(i.container || i).addClass("input");
n = new s(this, null, null, [ t[r].label$string || t[r].value$string ], {
className: "option_label",
display: this.readOnly && !t[r].checked$bool ? "none" : ""
});
e && i.setChecked(t[r].checked_user$bool);
i.setLabelElement(n);
this.options.push(i);
this.labels.push(n);
}
return this;
};
n.prototype.getOptions = function(t) {
for (var e = {}, i = t ? "checked_user$bool" : "checked$bool", n = 0, o = this.options.length; n < o; n++) {
e[n] = {};
e[n][i] = this.options[n].getChecked();
}
return e;
};
n.prototype.focus = function() {
this.options[0] && this.options[0].focus();
return this;
};
n.prototype.validate = function(t) {
if (this.required) {
for (var e = 0, i = this.options.length; e < i; e++) if (this.options[e].getChecked()) {
this.hideErrorMessage();
return !0;
}
t && this.options[0] && this.options[0].focus();
this.showErrorMessage();
return !1;
}
this.hideErrorMessage();
return !0;
};
n.prototype.reset = function() {
for (var t = 0, e = this.options.length; t < e; t++) this.options[t].reset();
};
t.exports = n;
e(n, "meshim_widget_widgets_form_InputMultiple");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Button = i(17);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_Button, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "i", "", [], {
id: "i",
addClass: "auth_icon_font"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
var h = n.get(s + "__i");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
c.setIcon = function() {
h.setIcon.apply(h, arguments);
};
}();
for (var f in p) p.hasOwnProperty(f) && (c[f] = p[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Button;
t.__jx__jcss = {
"**self": {
overflow: "hidden",
paddingTop: "10px",
paddingBottom: "6px",
background: "$$authButtonBg",
borderColor: "$$authButtonBorderColor",
boxShadow: "$$authButtonShadow",
"&.facebook": {
color: "$$facebook"
},
"&.twitter": {
color: "$$twitter"
},
"&.google": {
color: "$$google"
}
},
"&:hover, &:focus, &:active": {
".auth_icon_font": {
color: "#FFFFFF"
},
"&.facebook": {
background: "$$facebook"
},
"&.twitter": {
background: "$$twitter"
},
"&.google": {
background: "$$google"
}
},
"&.float": {
width: "30%",
margin: "0 3% 0 0"
},
"&.mobile": {
".auth_icon_font": {
textAlign: "center",
fontSize: "22px"
}
}
};
s(t, "meshim_widget_widgets_iconFont_AuthButton");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_IconFont.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_IconFont;
t.__jx__jcss = {
"&.facebook": {
color: "$$facebook"
},
"&.twitter": {
color: "$$twitter"
},
"&.google": {
color: "$$google"
},
"&:hover, &:focus, &:active": {
"&.facebook": {
color: "$$facebookActive"
},
"&.twitter": {
color: "$$twitterActive"
},
"&.google": {
color: "$$googleActive"
}
}
};
s(t, "meshim_widget_widgets_iconFont_Auth");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, _) {
if (!(this instanceof n)) return new n(t, e, i, r, _);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.pattern || (_.pattern = "(^$|[0-9]+)");
_.type || (_.type = "tel");
s.call(this, t, e, i, r, _);
a.__constructor.call(this);
}
var o = i(2), r = i(1), s = i(83), a = i(64);
n.__jx__jcss = {};
n.prototype = r(s.prototype);
n.prototype.__jx__super = a;
t.exports = n;
e(n, "meshim_widget_widgets_PhoneField");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Button = i(71);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Button, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "i", "", [], {
id: "i"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__i");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
i(9).mobile(h);
var t;
h.setIcon = function(e) {
t && p.removeClass(t);
t = e;
t && p.addClass(t);
return p.setIcon.apply(p, arguments);
};
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Button;
t.__jx__jcss = {
"**self": {
background: "transparent",
border: "none",
color: "inherit",
".icon_font": {
display: "inline",
lineHeight: "inherit",
verticalAlign: "middle",
fontSize: "$$fontSizeL"
}
},
"&.mobile": {
".icon_font": {
position: "relative",
fontSize: "$$fontSizeXXL"
}
}
};
s(t, "meshim_widget_widgets_iconFont_Button");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, _) {
if (!(this instanceof n)) return new n(t, e, i, r, _);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.tagName || (_.tagName = "div");
s.call(this, t, e, i, r, _);
a.__constructor.call(this);
}
var o = i(2), r = i(1), s = i(6), a = i(64);
n.__jx__jcss = {};
n.prototype = r(s.prototype);
n.prototype.__jx__super = a;
t.exports = n;
e(n, "meshim_widget_widgets_FakeInput");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(38);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(82);
e.__$$__meshim_widget_widgets_ViewStack = i(55);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_Form = i(345);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_PostSubmit = i(330);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_OperatingHours = i(329);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_HistoryPanel = i(326);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "disconnected_toast", "", [], {
id: "disconnected_toast",
addClass: "disconnected_toast hide"
} ], [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_Form, "", "", [], {
name: "form"
} ], [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_PostSubmit, "", "", [], {
name: "post_submit"
} ], [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_OperatingHours, "", "", [], {
name: "operating_hours"
} ], [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_HistoryPanel, "", "", [], {
name: "history_panel"
} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:preChatOfflineForm": "meshim.widget.components.chatWindow.preChatOfflineForm",
titleBar: "hidePopout",
actionBar: ""
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__disconnected_toast"), f = n.get(s + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
t && p.removeClass("hide");
}
var e = i(5), n = i(9), o = e.root, r = o.$("livechat").$("ui").$("chat_window").$("pre_chat_offline_form"), s = o.$("connection").$("reattached_timestamp$int"), a = r.$("stack_index$int"), _ = 8e3;
!function() {
n.mobile(h);
h.autobind(a, "value", function(t) {
f.setIndex(t || 0);
r.write({
name$string: f.getName()
});
});
h.autobind(s, "value", t);
setTimeout(function() {
t(!0);
}, _);
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".disconnected_toast.hide": {
display: "none"
}
};
s(t, "meshim_widget_components_chatWindow_PreChatOfflineForm");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
var t = r.getVariable(n);
h.setStyle("padding-top", n && t || "");
}
function e() {
var t = r.getVariable(o);
h.setStyle("padding-bottom", o && t || "");
}
var n, o, r = i(2), s = i(5), a = s.root.$("livechat").$("ui").$("theme_loaded$bool");
h.setAbsPaddingTop = function(e) {
n = e;
t();
};
h.setAbsPaddingBottom = function(t) {
o = t;
e();
};
!function() {
h.autobind(a, "value", function(i) {
if (i) {
t();
e();
}
});
h.updatePaddingTop = t;
h.updatePaddingBottom = e;
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
"*overflow": "visible",
width: "100%",
height: "100%"
}
};
s(t, "meshim_widget_widgets_AbsolutePaddingContainer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__jx_ui_Localizer = i(85);
e.__$$__jx_ui_html_a = i(44);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(202), h = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_Localizer, "localizer", "", [ [ e.__$$__jx_ui_html_a, "", "", [], {
class: "cookie_link"
} ] ], {
id: "localizer",
content: c
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__localizer");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
var t = i(5), e = t.root.$$("livechat.ui.chat_window");
!function() {
g.on("click", function(t) {
t.target.jx_wrapper.hasClass("cookie_link") && e.update({
main_stack_name$string: "cookie_form"
});
});
}();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
".cookie_link": {
textDecoration: "underline",
cursor: "pointer"
}
};
a(t, "meshim_widget_widgets_CookieLawNotice");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_Label = i(19);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "", "", [], {
text: "â‰¡"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
t ? h.addClass("isActive") : h.removeClass("isActive");
}
function e(t) {
t.stopPropagation();
o.update("settings_menu" === o.getValue() ? "" : "settings_menu");
}
var n = i(5), o = n.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string");
!function() {
h.autobind(o, "value", t);
h.on("click", e);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
"width, height": "$$titleBarHeight",
lineHeight: "$$titleBarHeight",
textAlign: "center",
color: "$$actionBarColor",
fontSize: "30px",
"&.isActive": {
backgroundColor: "$$actionBarBg"
}
}
};
s(t, "meshim_widget_widgets_MobileOptionsMenuIcon");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_BorderOverlay = i(86);
e.__$$__meshim_widget_widgets_Branding = i(87);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ], [ e.__$$__jx_ui_Widget, "$$defaultplacement$$", "", [], {
addClass: "actions",
container: "default",
id: "$$defaultplacement$$"
} ], [ e.__$$__meshim_widget_widgets_Branding, "", "", [], {
addClass: "branding",
hideOnMobile: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
class: "action_bar",
selectable: "false"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__$$defaultplacement$$");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
h.defaultPlacement = p;
var f = function() {
var t = i(9);
!function() {
t.mobile(h);
t.rtl(h);
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"bottom, left": 0,
overflow: "hidden",
zIndex: 10,
width: "$$actionBarWidth",
height: "$$actionBarHeight",
color: "$$actionBarColor",
background: "$$actionBarBg",
"paddingLeft, paddingRight": "$$actionBarPadding"
},
".border_overlay": {
borderWidth: "$$actionBarBorderWidth",
borderStyle: "$$actionBarBorderStyle",
borderColor: "$$actionBarBorderColor"
},
".actions": {
float: "left"
},
".branding": {
position: "relative",
float: "right",
color: "$$actionBarColor",
lineHeight: "$$actionBarHeight",
".meshim_widget_widgets_IconFont": {
"*color": "$$actionBarColor",
"*lineHeight": "$$actionBarHeight",
"*textDecoration": "none"
},
"&:hover": {
color: "$$actionBarHoverColor"
}
},
"&.rtl": {
".actions": {
float: "right"
},
".branding": {
float: "left"
}
}
};
s(t, "meshim_widget_widgets_ActionBar");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_BorderOverlay = i(86);
e.__$$__jx_ui_Label = i(19);
e.__$$__meshim_widget_widgets_IconFont = i(15);
e.__$$__meshim_widget_widgets_titleBar_MinimizeButton = i(357);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(199), h = o(200), p = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "title_text", "", [], {
id: "title_text",
addClass: "title_text"
} ], [ e.__$$__jx_ui_Label, "status_text", "", [], {
id: "status_text",
addClass: "status_text",
display: "none"
} ] ], {
addClass: "title"
} ], [ e.__$$__jx_ui_Widget, "icons", "", [ [ e.__$$__jx_ui_Widget, "popout_container", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "popout_button", "", [], {
id: "popout_button",
icon: "popout",
title: c
} ] ], {
id: "popout_container",
addClass: "button_container"
} ], [ e.__$$__jx_ui_Widget, "minimize_container", "", [ [ e.__$$__meshim_widget_widgets_titleBar_MinimizeButton, "minimize_button", "", [], {
id: "minimize_button"
} ] ], {
id: "minimize_container",
addClass: "button_container last_child",
title: h
} ] ], {
id: "icons",
addClass: "icons"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:titleBar": "meshim.widget.widgets.titleBar",
class: "title_bar",
selectable: "false"
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
var m = n.get(a + "__title_text"), $ = n.get(a + "__status_text"), b = n.get(a + "__icons"), w = n.get(a + "__popout_container"), x = n.get(a + "__popout_button"), v = n.get(a + "__minimize_container"), y = n.get(a + "__minimize_button");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var j = function() {
function t() {
var t = r && !s && !a && !d && !c.bugs.noBoxSizing;
x.setDisplay(t ? "" : "none");
}
function e() {
var t = l || a;
v.setDisplay(t ? "none" : "");
t ? w.addClass("last_child") : w.removeClass("last_child");
}
function n() {
o && $.setText(j.get(I.$$(_ + "$string")));
}
var o, r, s, a, _, l, d, u = i(12), c = i(8), h = i(5), p = i(72), f = i(25), j = i(11), C = i(9), S = h.root.$("livechat"), A = S.$("settings").$("chat_window").$("title_bar").$("title$string"), k = S.$("ui").$("theme_loaded$bool"), I = S.$("settings").$("chat_window").$("title_bar").$("status_messages"), T = S.$("settings").$("popout").$("enabled$bool"), B = S.$("ui").$("popout$bool"), N = S.$("ui").$("mobile$bool").getValue(), D = S.$("account").$("status$string"), E = S.$("settings").$("theme").$("chat_window").$("title_bar").$("hide_minimize$bool"), O = S.$("settings").$("theme").$("chat_window").$("title_bar").$("hide_popout$bool");
g.setHidePopout = function(e) {
s = u(e);
t();
};
!function() {
C.mobile(g);
C.rtl(g);
C.windowPosition(g);
g.autobind(B, "value", function(i) {
a = i;
t();
e();
g[i ? "addClass" : "removeClass"]("title_bar_popout");
});
g.autobind(A, "value", function() {
m.setText(j.get(A));
});
N && g.autobind(k, "value", function(t) {
t && y.setMobile(!0);
});
g.autobind(I, "value", function() {
o = I.getValue();
n();
});
g.autobind(D, "value", function(t) {
_ = t;
n();
});
g.autobind(T, "value", function(e) {
r = e;
t();
});
g.autobind(E, "value", function(t) {
l = t;
e();
});
g.autobind(O, "value", function(e) {
d = e;
t();
});
b.on("mousedown", function(t) {
t.stopPropagation();
});
w.on("click", function() {
p.openPopout(!0);
f.userHideWindow();
});
v.on("click", function() {
f.userHideWindow();
});
}();
}();
for (var C in j) j.hasOwnProperty(C) && (g[C] = j[C]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"top, left": 0,
width: "100%",
overflow: "hidden",
zIndex: 10,
height: "$$titleBarHeight",
color: "$$titleBarColor",
background: "$$titleBarBg",
"&.title_bar_popout": {
cursor: "default"
}
},
".border_overlay": {
borderWidth: "$$titleBarBorderWidth",
borderStyle: "$$titleBarBorderStyle",
borderColor: "$$titleBarBorderColor"
},
".title": {
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis",
cursor: "inherit",
textAlign: "$$titleBarTextAlign",
fontSize: "$$titleBarFontSize",
lineHeight: "$$titleBarHeight",
fontWeight: "$$titleBarFontWeight",
".title_text, .status_text": {
cursor: "inherit"
},
".title_text": {
display: [ "inline", "$$titleBarTitleDisplay" ]
},
".status_text": {
display: [ "none", "$$titleBarStatusDisplay" ]
}
},
"&.ltr .title": {
paddingLeft: "$$titleBarPaddingBefore",
paddingRight: "$$titleBarPaddingAfter"
},
"&.rtl .title": {
paddingLeft: "$$titleBarPaddingAfter",
paddingRight: "$$titleBarPaddingBefore"
},
".icons": {
position: "absolute",
cursor: "default",
color: "$$titleBarIconsColor",
fontSize: "$$fontSizeXS",
".icon_font": {
display: "inline-block",
textAlign: "center",
"paddingRight, paddingLeft": "6px",
lineHeight: "$$titleBarHeight",
"&:hover": {
"&": "$$titleBarItemHover"
}
},
".button_container": {
display: "inline-block",
verticalAlign: "middle",
cursor: "pointer",
paddingTop: "2px"
}
},
"&.ltr .icons": {
"top, right": 0,
".button_container": {
"&.last_child": {
paddingRight: "3px"
}
}
},
"&.rtl .icons": {
"top, left": 0,
".button_container": {
"&.last_child": {
paddingLeft: "3px"
}
}
},
"&.br, &.bm, &.bl": {
"borderTopLeftRadius, borderTopRightRadius": "$$windowRadius"
},
"&.tr, &.tm, &.tl": {},
"&.mobile": {
zIndex: 101,
borderRadius: "0",
".title": {
fontSize: "$$fontSizeXL"
},
"&.ltr .icons, &.rtl .icons": {
".button_container": {
padding: 0,
"&.last_child": {
padding: 0
}
}
}
}
};
a(t, "meshim_widget_widgets_TitleBar");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_a = i(44);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_a, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
target: "_blank"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(5), e = i(9), n = t.root.$("livechat"), o = n.$("ui").$("mobile$bool");
!function() {
e.mobile(h);
o.getValue() && h.on("click", function(t) {
t.preventDefault();
window.open(h.getAttribute("href"));
});
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_a.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_a;
t.__jx__jcss = {
"**self": {
color: "inherit",
textDecoration: "inherit"
},
"&.mobile": {}
};
s(t, "meshim_widget_widgets_branding_Link");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(38);
e.__$$__meshim_widget_widgets_AbsolutePaddingContainer = i(164);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_components_chatWindow_newChatForm_Banner = i(352);
e.__$$__meshim_widget_components_chatWindow_newChatForm_Branding = i(351);
e.__$$__meshim_widget_widgets_IconFont = i(15);
e.__$$__jx_ui_Form = i(42);
e.__$$__meshim_widget_components_chatWindow_newChatForm_TextField = i(350);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(116), h = o(117), p = o(118), f = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_AbsolutePaddingContainer, "", "", [ [ e.__$$__jx_ui_Widget, "content", "", [ [ e.__$$__meshim_widget_components_chatWindow_newChatForm_Banner, "banner", "", [], {
id: "banner",
addClass: "banner"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_newChatForm_Branding, "", "", [], {
addClass: "branding"
} ] ], {
addClass: "branding_container"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "close", "", [], {
id: "close",
addClass: "close",
icon: "minimize",
title: c
} ] ], {
id: "content",
addClass: "content"
} ], [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "submit", "", [], {
id: "submit",
icon: "send",
addClass: "send",
title: h
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_newChatForm_TextField, "input", "", [], {
id: "input",
addClass: "input",
autocomplete: "false",
placeholder: p,
tabIndex: "10"
} ] ], {
class: "input_wrapper"
} ] ], {
id: "form",
addClass: "form",
noValidate: "true"
} ], [ e.__$$__jx_ui_Widget, "disabled_overlay", "", [], {
id: "disabled_overlay",
class: "disabled_overlay",
visible: "none"
} ] ], {
absPaddingBottom: "badgeFormHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:newChatForm": "meshim.widget.components.chatWindow.newChatForm",
miniSize: "true",
titleBar: "none",
actionBar: "none",
addClass: "mini"
} ], g = f[0].call(this, s, a, null, n.mangleIDs(a, f[3]), f[4]), m = g || this;
n.set(a, m);
var $ = n.get(a + "__content"), b = n.get(a + "__banner"), w = n.get(a + "__close"), x = n.get(a + "__form"), v = n.get(a + "__submit"), y = n.get(a + "__input"), j = n.get(a + "__disabled_overlay");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var C = function() {
function t() {
if (!x.getDisabled()) {
var t = y.getValue().trim();
if (t) {
y.reset();
n(t);
} else y.focus();
}
}
function e() {
var t = y.getValue().trim();
t && (o ? g : h).update(t);
y.reset();
p.write({
button_clicked$bool: !0
});
n();
}
function n(t) {
t && h.update("");
a.setBannerUserHidden();
if (o && !r) {
t && g.update(t);
S.update(!0);
c.update("pre_chat_offline_form");
} else {
t && s.livechat.sendChatMsg({
msg: t
});
c.update("chat_panel");
}
}
var o, r, s = i(5), a = i(25), _ = i(10), l = i(9), d = s.root, u = d.$("livechat"), c = u.$("ui").$("chat_window").$("main_stack_name$string"), h = u.$("ui").$("chat_window").$("chat_panel").$("textarea").$("value$string"), p = u.$("ui").$("chat_button"), f = u.$("settings").$("forms").$("pre_chat_form").$("required$bool"), g = u.$("settings").$("forms").$("pre_chat_form").$("form").$("3").$("value_user$string"), C = u.$("ui").$("chat_window").$("pre_chat_form").$("submitted$bool"), S = u.$("ui").$("chat_window").$("pre_chat_form").$("form_populate$bool"), A = u.$("settings").$("branding").$("hide_branding$bool"), k = u.$("settings").$("banner").$("layout$string"), I = d.$("connection").$("status$string");
!function() {
l.rtl(m);
l.windowPosition(m);
_.hoverFix(m);
m.autobind(f, "value", function(t) {
o = t;
});
m.autobind(C, "value", function(t) {
r = t;
});
m.autobind(A, "value", function(t) {
b[t ? "addClass" : "removeClass"]("hide_branding");
});
m.autobind(k, "value", function(t) {
"image_only" == t ? b.addClass("image_only") : b.removeClass("image_only");
});
y.on("input", function() {
h.update(y.getValue().trim());
});
x.on("submit", function(e) {
e.preventDefault();
t();
});
v.on("click", function() {
t();
});
w.on("click", function(t) {
t.stopPropagation();
a.userHideBanner();
});
$.on("click", e);
j.on("click", e);
m.autobind(I, "value", function(t) {
if ("idle_disconnect" === t) {
x.setDisabled(!0);
j.show();
} else {
x.setDisabled(!1);
j.hide();
}
});
}();
}();
for (var S in C) C.hasOwnProperty(S) && (m[S] = C[S]);
m.fire && m.fire("init");
m.setStyle && m.setStyle(l);
m.setAttributes && m.setAttributes(u);
"function" == typeof m.addChildren ? m.addChildren(d) : n.addChildren(m, d);
if (m !== this) {
m.__jx__constructor = _;
m.__jx__native = !1;
}
return m;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".container": {
background: "$$badgeBg",
borderWidth: "$$badgeBorderWidth",
borderStyle: "$$badgeBorderStyle",
borderColor: "$$badgeBorderColor"
},
".content": {
width: "100%",
height: "100%",
overflow: "hidden",
color: "$$badgeContentColor",
background: "$$badgeContentBg",
borderWidth: "$$badgeContentBorderWidth",
borderStyle: "$$badgeContentBorderStyle",
borderColor: "$$badgeContentBorderColor"
},
".banner": {
width: "100%",
height: "100%",
position: "relative",
cursor: "pointer",
fontSize: "1.5em",
padding: "20px 10px 10px",
"&.hide_branding": {
paddingTop: "10px"
},
"&.image_only": {
padding: "0"
}
},
".branding_container": {
position: "absolute",
top: "6px",
left: 0,
width: "100%",
textAlign: "center",
cursor: "pointer",
".branding": {
cursor: "pointer"
}
},
".close": {
position: "absolute",
cursor: "pointer",
opacity: 0,
transition: "opacity 0.2s",
"top, right": 0,
padding: "9px 10px 2px 2px"
},
"&.rtl .close": {
left: "6px",
right: "auto",
padding: "3px 2px 2px 4px"
},
"&.hover, &:hover": {
".close": {
opacity: 1
}
},
".send": {
float: "right",
fontSize: "$$fontSizeXXL",
padding: "5px",
margin: "5px",
color: "$$badgeIconColor",
opacity: "0.8",
cursor: "pointer",
"&:hover": {
opacity: "1"
},
"&.disabled": {
cursor: "default",
"&:hover": {
opacity: "0.8"
}
}
},
".form, .disabled_overlay": {
position: "absolute",
"bottom, left": "0",
width: "100%",
height: "$$badgeFormHeight"
},
".disabled_overlay": {
cursor: "pointer"
},
".form": {
overflow: "hidden",
"*zoom": 1,
background: "$$badgeFormBg",
borderWidth: "$$badgeFormBorderWidth",
borderStyle: "$$badgeFormBorderStyle",
borderColor: "$$badgeFormBorderColor",
"&.disabled": {
opacity: "0.5"
},
".input_wrapper": {
display: "block",
overflow: "hidden",
"*width": "165px",
".input": {
width: "100%",
height: "100%",
position: "relative",
"*width": "165px",
"*overflow": "hidden"
}
},
".button": {
"*width": "60px"
}
},
"&.ltr .form": {
".input": {
paddingRight: 0
},
".button": {
float: "right"
}
},
"&.rtl .form": {
".input": {
paddingLeft: 0
},
".button": {
float: "left"
}
},
"&.br, &.bm, &.bl": {
".content": {
"borderTopLeftRadius, borderTopRightRadius": "$$windowRadius"
}
},
"&.tr, &.tm, &.tl": {}
};
a(t, "meshim_widget_components_chatWindow_NewChatForm");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
l.call(this, t, e, i, o, r);
this.index = void 0;
this.length = 0;
this.currentChild = null;
var s = this;
this._onChildHide = function() {
switch (s.onChildHide) {
case "next":
s.next(!0);
break;

case "prev":
s.prev(!0);
break;

case "first":
s.first(!0);
break;

case "last":
s.last(!0);
break;

default:
var t = parseInt(s.onChildHide, 10);
if (isNaN(t)) break;
s.setIndex(t, !0);
}
};
this.onDestruction(function() {
s.currentChild = null;
});
}
var o = i(1), r = i(22), s = i(12), a = i(24), _ = i(26), l = i(6);
n.prototype = o(l.prototype);
n.prototype.addChildren = function(t) {
var e = t && t.length;
if (t && e) for (var i = 0; i < e; i++) r(t[i]) && this.appendChild(t[i]);
};
n.prototype.appendChild = function(t) {
var e = !1;
if (r(t)) {
this.children.push(t);
t[4] && (e = s(t[4].forceInstantiate));
} else if (t.dom) {
l.prototype.appendChild.call(this, t);
t.setVisible("none");
} else this.dom.appendChild(t);
e && this.instantiateChild(t);
return t;
};
n.prototype.removeChild = function(t) {
try {
if (r(t)) ; else if (t.dom) {
this.dom.removeChild(t.dom);
t.parentNode = null;
} else this.dom.removeChild(t);
var e = a(t, this.children);
-1 != e && this.children.splice(e, 1);
} catch (t) {}
};
n.prototype.setIndex = function(t, e) {
t = parseInt(t, 10);
if (this.validIndex(t) && t != this.index) {
var i, n = this.currentChild;
if (!e && (n ? n.fire("beforeIndexChange", t) : 1) + this.fire("beforeIndexChange", t) < 2) return !1;
if (n) {
this.autounbind(n, "hide", this._onChildHide);
n.setVisible("none");
}
this.fire("indexChanging", t);
if (-1 == t) {
this.currentChild = null;
this.index = t;
this.fire("indexChange", t);
return !0;
}
n = this.children[t];
if (r(n)) {
n = this.instantiateChild(n);
i = !0;
}
n.setVisible("block");
this.autobind(n, "hide", this._onChildHide);
this.currentChild = n;
this.index = t;
i && this.fire("instantiate", t);
this.fire("indexChange", t);
return !0;
}
};
n.prototype.instantiateChild = function(t) {
if (r(t)) {
var e = a(t, this.children);
if (-1 != e) {
t = new t[0](this, t[1], t[2], t[3], t[4]);
this.children[e] = t;
this.children.pop();
return t;
}
}
};
n.prototype.validIndex = function(t) {
return null != t && t < this.getLength() && t >= -1;
};
n.prototype.next = function(t) {
return _(this.index, !0) ? this.setIndex(0, t) : this.setIndex(this.index + 1, t);
};
n.prototype.prev = function(t) {
return _(this.index, !0) ? this.setIndex(this.getLength() - 1, t) : this.setIndex(Math.max(this.index - 1, 0), t);
};
n.prototype.first = function(t) {
return this.setIndex(0, t);
};
n.prototype.last = function(t) {
return this.setIndex(this.getLength() - 1, t);
};
n.prototype.getName = function() {
return this.currentChild && this.currentChild.getName();
};
n.prototype.setName = function(t) {
if (!t) return this.setIndex(-1);
for (var e = 0, i = this.children.length; e < i; e++) if (r(this.children[e])) {
if (this.children[e][4] && this.children[e][4].name === t) return this.setIndex(e);
} else if (this.children[e].getName && this.children[e].getName() === t) return this.setIndex(e);
};
n.prototype.isFirst = function() {
return this.index <= 0;
};
n.prototype.isLast = function() {
return this.index >= this.getLength() - 1;
};
n.prototype.getLength = function() {
return this.children.length;
};
n.prototype.getChildren = function() {
return this.children;
};
n.prototype.getCurrentChild = function() {
return this.currentChild;
};
n.prototype.getIndex = function() {
return this.index;
};
n.prototype.getOnChildHide = function() {
return this.onChildHide;
};
n.prototype.setOnChildHide = function(t) {
this.onChildHide = t;
return this;
};
t.exports = n;
e(n, "jx_ui_ViewStack");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, _, h) {
function p(t) {
$.parentNode.setAttribute("lang", t);
$.parentNode.setAttribute("dir", a.flip("ltr"));
}
if (!(this instanceof n)) return new n(t, e, i, _, h);
h || (h = {});
h.tagName || (h.tagName = "iframe");
this._top = this._bottom = this._left = this._right = this._width = this._height = NaN;
this._position = null;
this.pos = "";
this.offsetx = 0;
this.offsety = 0;
this._snaps = [ 0, 0, 0, 0 ];
this.useDisplay = !1;
this.doc = this.ownerDocument = t.ownerDocument;
this.parentNode = t;
this.attributes = h;
this.tagName = h.tagName;
this.isNew = !0;
this.dom = this.doc.createElement(this.tagName);
this.dom.jx_wrapper = this;
this.style = this.dom.style;
this.children = [];
this._autobinds = [];
u.call(this);
void 0 !== this.dom.seamless && (this.dom.seamless = !0);
this.dom.allowTransparency = "true";
this.dom.frameBorder = "0";
this.style.backgroundColor = "transparent";
this.style.verticalAlign = "text-bottom";
this.style.visibility = "hidden";
t.appendChild(t instanceof c ? this : this.dom);
e && o.set(e, this);
var f;
f = r.bugs.noBoxSizing ? "<html><head><style>html,body{height:100%;width:100%;background:none} *{border:0;padding:0;margin:0;}</style></head><body></body></html>" : "<!DOCTYPE html><html><head><style>html,body{height:100%;width:100%;} *{border:0;padding:0;margin:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}</style></head><body></body></html>";
this.dom.src = "about:blank";
this.appendToParent(!0);
var g = this.iwin = this.dom.contentWindow, m = this.idoc = s.extend(g.document);
m.write(f);
m.close();
this.ihead = m.getElementsByTagName("head")[0];
var $ = this.ibody = s.extend(m.body);
a && a.onLanguage && a.onLanguage(p);
a && a.language && p(a.language);
$.style.position = "relative";
$.parentNode.style.overflowY = $.style.overflowY = "hidden";
var b, w;
if (r.bugs.noBoxSizing) {
b = new d($, null, null, null, {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden"
});
b.applyConstraints();
b.setPadding = function(t) {
$.style.padding = t;
};
} else {
b = new d($, null, null, null, {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
overflow: "hidden"
});
b.applyConstraints();
}
for (var x = "Background BackgroundImage Border BorderColor BorderStyle BorderWidth Color Cursor FontFamily FontSize FontWeight LetterSpacing LineHeight Opacity Padding Selectable TextAlign".split(" "); w = x.pop(); ) this["set" + w] = function(t) {
return function(e) {
b["set" + t](e);
return this;
};
}(w);
this.defaultPlacement = b;
this.addChildren(_);
this.style.visibility = "";
this.setStyle(i);
this.setAttributes(h);
l.bindIFrame(this);
}
var o = i(3), r = i(8), s = i(14), a = i(7), _ = i(1), l = i(2), d = i(6), u = i(185), c = i(23);
n.prototype = _(d.prototype);
n.prototype.destroy = function() {
l.unbindIFrame(this);
this.defaultPlacement && this.defaultPlacement.destroy();
d.prototype.destroy.call(this);
};
t.exports = n;
e(n, "jx_ui_IFrame");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(18), o = i(111), r = {};
r._super = null;
r.defaults = {
colors: {
primary$string: "#000000",
banner$string: "#000000",
bubble$string: "#000000"
}
};
r.overrides = {
avatars: {
concierge$string: n.IMAGES_URL + "/avatar_simple_agent.png",
agent$string: n.IMAGES_URL + "/avatar_simple_agent.png",
visitor$string: n.IMAGES_URL + "/avatar_simple_visitor.png"
},
chat_button: {
display_status$bool: !1,
use_bubble$bool: !1
},
chat_window: {
profile_card: {
display_avatar$bool: !0
},
use_banner$bool: !0
}
};
r.generate = function(t) {
var e = t.custom_fonts && t.custom_fonts.font_family$string || "";
return {
standard: {
fontFamily: "Verdana, Geneva, sans-serif",
customFontFamily: e ? e + ", Verdana, Geneva, sans-serif" : "Verdana, Geneva, sans-serif",
fontSizeXS: "10px",
fontSizeS: "11px",
fontSize: "12px",
fontSizeL: "14px",
fontSizeXL: "16px",
fontSizeXXL: "18px",
marginXS: "3px",
marginS: "5px",
margin: "10px",
marginL: "15px",
marginXL: "20px",
paddingS: "3px",
padding: "6px",
paddingL: "8px",
paddingXL: "10px",
borderWidth: "1px",
borderStyle: "solid",
borderColor: o.black,
radiusS: "3px",
radius: "5px",
headColor: o.white,
headBg: o.black,
headLowContrastColor: o.grey,
contentColor: o.black,
contentHeaderColor: o.black,
contentBg: o.white,
contentBlockBg: o.grey,
contentBlockRadius: "$$radius",
placeholderColor: o.grey,
inputMenuBg: o.white,
errorColor: "#CC0000",
dividerColor: o.grey,
inputColor: o.black,
inputBg: "$$inputMenuBg",
inputBorderWidth: "$$borderWidth",
inputBorderStyle: "$$borderStyle",
inputBorderColor: "$$borderColor",
inputPadding: "$$padding",
inputRadius: "$$radius",
inputShadow: "",
inputFocusColor: "",
inputFocusBg: "",
inputFocusBorderColor: "",
inputFocusShadow: "",
inputPlaceholderColor: "$$placeholderColor",
inputPlaceholderFontStyle: "italic",
inputInvalidColor: "",
inputInvalidBg: "",
inputInvalidBorderColor: "$$errorColor",
inputInvalidShadow: "",
buttonColor: o.white,
buttonBg: o.black,
buttonBorderWidth: "$$borderWidth",
buttonBorderStyle: "$$borderStyle",
buttonBorderColor: "",
buttonPadding: "$$padding",
buttonPaddingHorizontal: "$$paddingS",
buttonRadius: "$$radiusS",
buttonShadow: "",
buttonFontWeight: "bold",
buttonHoverColor: "",
buttonHoverBg: "",
buttonHoverBorderColor: "",
buttonHoverShadow: "",
buttonActiveColor: "",
buttonActiveBg: "",
buttonActiveBorderColor: "",
buttonActiveShadow: "",
buttonSecColor: o.white,
buttonSecBg: o.grey,
buttonSecBorderColor: "",
buttonSecShadow: "",
buttonSecHoverColor: "",
buttonSecHoverBg: "",
buttonSecHoverBorderColor: "",
buttonSecHoverShadow: "",
buttonSecActiveColor: "",
buttonSecActiveBg: "",
buttonSecActiveBorderColor: "",
buttonSecActiveShadow: "",
buttonShortPadding: "$$paddingS",
formSubmittedBg: "$$contentBlockBg",
formSubmittedRadius: "$$radius",
formSubmittedBorderWidth: 0,
formSubmittedBorderStyle: "",
formSubmittedBorderColor: "",
errorMessageColor: "$$errorColor",
errorMessageFontWeight: "bold",
errorMessageFontStyle: "italic",
scrollableFrameInnerPaddingSmall: "$$margin",
scrollableFrameInnerPaddingMedium: "$$marginXL",
scrollableFrameInnerPaddingLarge: "$$marginXL",
scrollableFrameTopHeight: "",
scrollableFrameTopBackground: "",
scrollableFrameTopBackgroundColor: "",
scrollableFrameBottomHeight: "",
scrollableFrameBottomBackground: "",
scrollableFrameBottomBackgroundColor: "",
toastColor: o.white,
toastBg: o.black,
toastPadding: "$$paddingXL",
toastBorderWidth: "$$borderWidth",
toastBorderStyle: "$$borderStyle",
toastBorderColor: "$$borderColor",
toastRadius: "$$radius",
toastShadow: "",
avatarBorderWidth: 0,
avatarBorderStyle: "$$borderStyle",
avatarBorderColor: "$$borderColor",
avatarRadius: "$$radiusS",
avatarShadow: "",
profileCardAvatarBorderWidth: "",
profileCardAvatarBorderStyle: "",
profileCardAvatarBorderColor: "",
profileCardAvatarRadius: "",
profileCardAvatarShadow: "",
profileCardNameColor: o.black,
profileCardTitleColor: o.grey,
bottomHeight: "40px",
bottomHeightBottomPadding: "50px",
bottomBorderWidth: "",
bottomBorderStyle: "$$borderStyle",
bottomBorderColor: "$$borderColor",
bottomNoteBorderWidth: 0,
bottomNoteBorderStyle: "$$borderStyle",
bottomNoteBorderColor: "$$borderColor",
brandingLinkColor: "$$actionBarColor",
chatMotifHill: "",
chatMotifBubble: "",
facebook: "#3B5998",
facebookActive: "#637BAD",
twitter: "#00ACEE",
twitterActive: "#7EB2D4",
google: "#DD4B39",
googleActive: "#E0736F",
externalIconColor: "$$placeholderColor",
authButtonBg: "",
authButtonBorderColor: "",
authButtonShadow: "",
chatRatingsEmoticonColor: "#999",
chatRatingsEmoticonActive: "#DDD",
chatRatingsEmoticonHover: "#EEE",
chatRatingsThumbLight: "#999",
chatRatingsThumbDark: "#666",
chatRatingsThumbActive: "#EEE",
chatRatingsThumbBGHover: "#DDD",
chatButtonMinWidth: "180px",
chatButtonMaxWidth: "300px",
chatButtonHeight: "30px",
chatButtonColor: "$$headColor",
chatButtonBg: "$$headBg",
chatButtonBorderWidth: "$$borderWidth",
chatButtonBorderStyle: "$$borderStyle",
chatButtonBorderColor: "$$dividerColor",
chatButtonRadius: "$$radius",
chatButtonShadow: "",
chatButtonPadding: "$$paddingXL",
chatButtonPaddingFavicon: "$$chatButtonPadding",
chatButtonFontWeight: "bold",
chatButtonStatusFontWeight: "bold",
faviconWidth: "36px",
faviconColor: "$$chatButtonColor",
faviconOnlineColor: "",
faviconOfflineColor: "",
faviconBg: "$$chatButtonBg",
faviconDotsColor: "",
chatBubbleTitle: "",
chatBubbleText: "",
chatBubbleClose: "",
windowMiniWidth: "240px",
windowMiniHeight: "200px",
windowSmallWidth: "240px",
windowSmallHeight: "335px",
windowMediumWidth: "290px",
windowMediumHeight: "400px",
windowLargeWidth: "350px",
windowLargeHeight: "450px",
windowColor: "$$contentColor",
windowBg: "$$contentBg",
windowPadding: "",
windowRadius: "$$radius",
windowShadow: "",
windowContentBg: "$$contentBg",
windowContentBorderWidth: "$$borderWidth",
windowContentBorderStyle: "$$borderStyle",
windowContentBorderColor: "$$dividerColor",
historyClockColor: "#999",
historyClockHoverColor: "#666",
menuColor: "$$contentColor",
menuBg: "$$inputMenuBg",
menuBorderWidth: "$$borderWidth",
menuBorderStyle: "$$borderStyle",
menuBorderColor: "$$dividerColor",
menuRadius: "$$radius",
menuShadow: "$$windowShadow",
menuHeaderColor: "$$placeholderColor",
menuItemPadding: "3px 20px",
menuItemHoverBg: o.grey,
titleBarHeight: "24px",
titleBarPaddingBefore: "60px",
titleBarPaddingAfter: "60px",
titleBarFontSize: "$$fontSizeS",
titleBarColor: "$$headLowContrastColor",
titleBarBg: "$$headBg",
titleBarBorderWidth: "",
titleBarBorderStyle: "$$borderStyle",
titleBarBorderColor: "$$borderColor",
titleBarFontWeight: "bold",
titleBarTextAlign: "center",
actionBarWidth: "100%",
actionBarHeight: "24px",
actionBarColor: o.grey,
actionBarColorDiabled: "#AAA",
actionBarBg: "$$windowContentBg",
actionBarBorderWidth: "",
actionBarBorderStyle: "$$borderStyle",
actionBarBorderColor: "$$borderColor",
actionBarPadding: "10px",
actionBarHoverColor: "",
chatPanelProfileCardContainerHeight: "50px",
chatPanelProfileCardContainerBackground: "",
chatPanelProfileCardContainerBorderWidth: "",
chatPanelProfileCardContainerBorderStyle: "$$borderStyle",
chatPanelProfileCardContainerBorderColor: "$$borderColor",
chatPanelProfileCardAvatarBorderWidth: "",
chatPanelProfileCardAvatarBorderStyle: "",
chatPanelProfileCardAvatarBorderColor: "",
chatPanelProfileCardAvatarRadius: "",
chatPanelProfileCardAvatarShadow: "",
chatLogMargin: "$$margin",
chatLogVisitorNameColor: "$$contentHeaderColor",
chatLogVisitorBubbleBg: "",
chatLogVisitorBubbleBorderWidth: "$$borderWidth",
chatLogVisitorBubbleBorderStyle: "$$borderStyle",
chatLogVisitorBubbleBorderColor: "$$borderColor",
chatLogAgentNameColor: "$$contentHeaderColor",
chatLogAgentBubbleBg: "",
chatLogAgentBubbleBorderWidth: "$$borderWidth",
chatLogAgentBubbleBorderStyle: "$$borderStyle",
chatLogAgentBubbleBorderColor: "$$borderColor",
chatLogAvatarBorderWidth: "",
chatLogAvatarBorderStyle: "",
chatLogAvatarBorderColor: "",
chatLogAvatarRadius: "",
chatLogAvatarShadow: "",
chatLogSystemMsgColor: "$$placeholderColor",
chatLogSystemMsgBg: "",
chatLogSystemMsgBorderWidth: 0,
chatLogSystemMsgBorderStyle: "$$borderStyle",
chatLogSystemMsgBorderColor: "$$borderColor",
chatLogSystemMsgPadding: "",
chatLogDateDividerColor: "$$placeholderColor",
chatLogDateDividerFontWeight: "",
chatLogFileProgressBg: "$$headBg",
chatTextAreaBorderWidth: "",
chatTextAreaBorderStyle: "$$borderStyle",
chatTextAreaBorderColor: "$$borderColor",
chatTextAreaPadding: "10px 10px 0",
chatTextAreaInputFontSize: "",
chatTextAreaInputMinHeight: "42px",
chatTextAreaInputMaxHeight: "64px",
chatTextAreaInputLineHeight: "",
chatTextAreaInputColor: "",
chatTextAreaInputBg: "",
chatTextAreaInputBorderWidth: "",
chatTextAreaInputBorderStyle: "",
chatTextAreaInputBorderColor: "",
chatTextAreaInputPadding: "",
chatTextAreaInputRadius: "",
chatTextAreaInputShadow: "",
chatTextAreaInputFocusColor: "",
chatTextAreaInputFocusBg: "",
chatTextAreaInputFocusBorderColor: "",
chatTextAreaInputFocusShadow: "",
chatTextAreaSubmitMargin: "6px",
chatTextAreaSubmitPadding: "5px 10px",
chatTranslationSwitchColor: o.grey,
chatTextAreaDropColor: "",
chatTextAreaDropBg: "",
chatTextAreaDropBorderWidth: "",
chatTextAreaDropBorderStyle: "",
chatTextAreaDropBorderColor: "",
agentBubbleBg: "",
visitorBubbleBg: "",
badgeBg: "",
badgeBorderWidth: "",
badgeBorderStyle: "$$borderStyle",
badgeBorderColor: "$$borderColor",
badgeContentColor: "$$headColor",
badgeContentBg: "",
badgeContentBorderWidth: "$$borderWidth",
badgeContentBorderStyle: "$$borderStyle",
badgeContentBorderColor: "$$borderColor",
badgeFormHeight: "36px",
badgeFormBg: "",
badgeFormBorderWidth: "$$borderWidth",
badgeFormBorderStyle: "$$borderStyle",
badgeFormBorderColor: "$$borderColor",
badgeInputColor: "",
badgeInputBorderWidth: "",
badgeInputBorderStyle: "",
badgeInputBorderColor: "",
badgeInputPadding: "$$paddingXL",
badgeInputRadius: "$$radius",
badgeInputShadow: "",
badgeInputFocusColor: "",
badgeInputFocusBg: "",
badgeInputFocusBorderColor: "",
badgeInputFocusShadow: "",
badgeInputPlaceholderColor: "",
badgeIconColor: ""
},
popout: {
windowRadius: 0
},
mobile: {
fontSizeXS: "12px",
fontSizeS: "13px",
fontSize: "14px",
fontSizeL: "16px",
fontSizeXL: "18px",
fontSizeXXL: "20px",
mobileMaxWidthS: "360px",
mobileMaxWidth: "480px",
mobileMaxWidthL: "640px",
inputPadding: "$$paddingXL",
buttonPadding: "$$paddingXL",
menuItemPadding: "14px",
titleBarHeight: "44px",
actionBarWidth: "$$titleBarHeight",
actionBarHeight: "$$titleBarHeight",
menuRadius: 0,
brandingLinkColor: o.grey
}
};
};
t.exports = r;
e(r, "meshim_widget_themes_Base");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = {};
i.SECOND = 1e3;
i.MINUTE = 60 * i.SECOND;
i.HOUR = 60 * i.MINUTE;
i.DAY = 24 * i.HOUR;
i.WEEK = 7 * i.DAY;
t.exports = i;
e(i, "meshim_common_Time");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = +new Date(), e = t - h;
Math.abs(e - d) > u && r();
h = t;
}
function o() {
for (var t = f.length; t--; ) {
for (var e = f[t], i = e.queue.length; i--; ) {
"histogram" === e.queue[i].method && e.queue.splice(i, 1);
}
e.start_ts = {};
}
}
function r() {
p = clearInterval(p);
c = !1;
o();
}
function s() {
this.ref_ts = null;
this.from_ref_ts = {};
this.start_ts = {};
this.tags = [];
this.queue = [];
f.push(this);
}
var a = i(22), _ = i(21), l = i(28), d = 15e3, u = .2 * d, c = !0, h = +new Date(), p = setInterval(n, d), f = [], g = s.prototype;
g.flush = function() {};
g.setTags = function(t) {
a(t) && (this.tags = t.concat());
};
g.addTag = function(t) {
_(t) && t && this.tags.push(t);
};
g.setRefTime = function(t) {
l(this.ref_ts) || l(t) && (this.ref_ts = t);
};
g.fromRefTime = function(t, e, i) {
if (c && l(this.ref_ts) && _(t) && t && !this.from_ref_ts[t]) {
this.from_ref_ts[t] = !0;
var n = +new Date();
n < this.ref_ts ? r() : this.histogram(t, (n - this.ref_ts) / 1e3, e, i);
}
};
g.start = function(t, e) {
c && _(t) && t && (t in this.start_ts || (this.start_ts[t] = l(e) ? e : +new Date()));
};
g.end = function(t, e, i) {
if (c && _(t) && t && t in this.start_ts) {
var n = +new Date();
if (n < this.start_ts[t]) r(); else {
this.histogram(t, (n - this.start_ts[t]) / 1e3, e, i);
delete this.start_ts[t];
}
}
};
g.restart = function(t, e) {
delete this.start_ts[t];
this.start(t, e);
};
g.increment = function(t, e, i) {
this._queue("increment", t, 1, e, i);
this.flush();
};
g.histogram = function(t, e, i, n) {
this._queue("histogram", t, e, i, n);
this.flush();
};
g._queue = function(t, e, i, n, o) {
if (a(n)) {
o = n;
n = void 0;
}
var r = {
method: t,
name: e,
value: i,
tags: this.tags.concat(o || [])
};
l(n) && (r.sample_rate = n);
this.queue.push(r);
};
t.exports = s;
e(s, "meshim_common_Instrumentation");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return window[t];
}
var n = {
getVariable: i
};
t.exports = n;
e(n, "meshim_widget_utils_BrowserGlobals");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
u = t;
c = e;
u.$("livechat").$("channel").$("department_id$int").on("value", function(t) {
t && (h = t);
});
}
function o(t, e, i) {
var n = parseInt(e, 10) || parseInt(c.getServerTime().toFixed(0), 10), o = n + "", r = u.$("livechat").$("profile"), s = h, a = (t.msg || "") + "";
"department" in t && (s = t.department);
u.$("livechat").$("channel").$("log").$(o).write({
timestamp$int: n,
type$string: "chat.msg",
msg$string: a,
nick$string: r.$("nick$string").getValue() || "",
display_name$string: r.$("display_name$string").getValue() || "",
department_id$int: s,
unverified$bool: !0,
__client$bool: !0
}, i);
}
function r(t, e) {
var i = parseInt(e, 10) || parseInt(c.getServerTime().toFixed(0), 10), n = i + "";
u.$("livechat").$("channel").$("log").$(n).write({
timestamp$int: i,
nick$string: u.$("livechat").$("profile").$("nick$string").getValue() || "",
display_name$string: u.$("livechat").$("profile").$("display_name$string").getValue() || "",
type$string: "chat.file.upload",
file_name$string: t.file_name || "",
file_type$string: t.file_type || "",
file_size$int: t.file_size || 0,
unverified$bool: !0,
__client$bool: !0
});
return i;
}
function s(t, e) {
function i(t) {
if ("ok" !== t.raw.__status) return e(new window.Error(d(t.raw.error)));
if (!t.raw.data || "chat.file" !== t.raw.data.type) return e(new window.Error("INTERNAL_ERROR"));
e(null, w.pick(t.raw.data, [ "mime_type", "name", "size", "url", "metadata" ]));
}
var n = y._validateAndPrepareData([ t ]);
e = g.once(e);
if (p(n)) f(function() {
e(new window.Error(n));
}); else {
var o = c.registerCallback(i), r = "https://" + n.host + m.CALLBACK_FILE_UPLOAD_PATH, s = {
ts: parseInt(c.getServerTime().toFixed(0), 10),
__messageID: o
}, a = {
"X-Zopim-MID": n.mid,
"X-Zopim-UID": n.uid
}, _ = {
error: function() {
e(new window.Error("CONN_ERROR"));
},
load: function() {
if (200 !== this.status) {
var t;
try {
t = JSON.parse(this.responseText);
} catch (t) {}
e(t && t.error ? new window.Error(d(t.error)) : new window.Error("INTERNAL_ERROR"));
}
}
};
y._uploadFiles(n.form_data, r, s, a, _);
}
}
function a(t, e) {
var i = y._validateAndPrepareData(t);
if (p(i)) return i;
var n = r({
file_name: i.name,
file_type: i.type,
file_size: i.size
}, e), o = "https://" + i.host + m.FILE_UPLOAD_PATH, s = {
ts: n
}, a = {
"X-Zopim-MID": i.mid,
"X-Zopim-UID": i.uid
};
y._uploadFiles(i.form_data, o, s, a);
}
function _(t) {
if (!window.FormData) return "NOT_SUPPORTED";
var e = u.$("livechat"), i = e.$("settings").$("file_sending"), n = e.$("settings").$("package"), o = i.$("enabled$bool").getValue(), r = (i.$("allowed_extensions$string").getValue() || "").trim().replace(/\s*,\s*/g, ",").split(","), s = n.$("color_customization_enabled$int").getValue() || n.$("widget_customization_enabled$int").getValue(), a = e.$("profile").$("mid$string").getValue(), _ = e.$("profile").$("uid$string").getValue(), l = c.getHost(), d = new window.FormData(), h = [], p = [], f = 0;
if (!l) return "CONN_ERROR";
if (!s) return "INVALID_PLAN";
if (!o) return "NOT_ALLOWED";
for (var g = 0, b = t.length; g < b; g++) {
if (!$.isValidType(t[g].name, r)) return "INVALID_EXTENSION";
h.push(t[g].name);
p.push(t[g].type);
f += t[g].size || 0;
d.append("file_" + t[g].name, t[g]);
}
return f > m.FILE_UPLOAD_MAX ? "EXCEED_SIZE_LIMIT" : {
form_data: d,
name: h.join(", "),
type: p.join(", "),
size: f,
host: l,
mid: a,
uid: _
};
}
function l(t, e, i, n, o) {
var r = new window.XMLHttpRequest(), s = e + (Object.keys(i).length ? "?" + b.buildQuery(i) : "");
if (r.upload) {
r.open("POST", s, !0);
for (var a in n) n.hasOwnProperty(a) && r.setRequestHeader(a, n[a]);
for (var _ in o) o.hasOwnProperty(_) && r.addEventListener(_, o[_]);
r.send(t);
}
}
function d(t) {
return v[t] || "UNKNOWN_ERROR";
}
var u, c, h, p = i(21), f = i(16), g = i(40), m = i(18), $ = i(66), b = i(35), w = i(10), x = {
NOT_SUPPORTED: "NOT_SUPPORTED",
NOT_ALLOWED: "NOT_ALLOWED",
CONN_ERROR: "CONN_ERROR",
INVALID_EXTENSION: "INVALID_EXTENSION",
INVALID_PLAN: "INVALID_PLAN",
EXCEED_SIZE_LIMIT: "EXCEED_SIZE_LIMIT",
INTERNAL_ERROR: "INTERNAL_ERROR",
UNKNOWN_ERROR: "UNKNOWN_ERROR"
}, v = {
TOO_LARGE: "EXCEED_SIZE_LIMIT",
ILLEGAL_TYPE: "INVALID_EXTENSION",
NO_SESSION: "INTERNAL_ERROR",
UNEXPECTED_ERROR: "INTERNAL_ERROR",
UNABLE_TO_GET_SETTINGS: "INTERNAL_ERROR",
S3_UPLOAD_ERROR: "INTERNAL_ERROR",
NO_GATES: "INTERNAL_ERROR",
FILE_UPLOADS_DISABLED: "NOT_ALLOWED",
FILE_UPLOADS_TEMPORARILY_DISABLED: "INVALID_PLAN"
}, y = {
FILE_SENDING_ERRORS: x,
init: n,
sendChatMsg: o,
sendFiles: a,
sendFileWithCallback: s,
_validateAndPrepareData: _,
_uploadFiles: l
};
t.exports = y;
e(y, "meshim_widget_controllers_ChatUtils");
return y;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
return "string" == typeof t && "" != t;
}
function o() {
var t, e, i, n, o = document.cookie, r = {};
if (!o || "string" != typeof o) return {};
o = o.split(/;\s/);
for (t = o.length; t--; ) try {
e = o[t].match(/^([^=]+)(=(.*))?$/);
if (!e) continue;
i = h(e[1]);
n = h(e[3] || "");
r[i] = n;
} catch (t) {}
return r;
}
function r(t) {
return n(t) ? o()[t] || null : null;
}
function s(t) {
var e = r(t), i = {};
try {
i = d.parse(e);
} catch (t) {}
return i && "object" == typeof i ? i : {};
}
function a(t, e, i) {
i = i || {};
var n = c(t) + "=" + c(e);
if ("ttl" in i) {
var o = new Date(), r = 24 * i.ttl * 60 * 60 * 1e3;
o.setTime(o.getTime() + r);
n += "; expires=" + o.toGMTString();
}
"path" in i && (n += "; path=" + i.path);
"domain" in i && (n += "; domain=" + i.domain);
i.secure && (n += "; secure");
document.cookie = n;
}
function _(t, e, i) {
"object" != typeof e && (e = {});
a(t, d.stringify(e), i);
}
function l(t, e) {
e = e || {};
e.ttl = -1;
a(t, "", e);
}
var d = i(58), u = {
set: a,
get: r,
getJSONCookie: s,
setJSONCookie: _,
remove: l
}, c = window.encodeURIComponent, h = window.decodeURIComponent;
t.exports = u;
e(u, "meshim_common_Cookie");
return u;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
return e ? s(t, e) : o(t);
}
function o(t) {
for (var e, i, n = t.length; n > 1; ) {
e = Math.floor(n-- * Math.random());
i = t[e];
t[e] = t[n];
t[n] = i;
}
return t;
}
function r(t, e) {
if (!t || t.length <= 0) return -1;
if (!e) return Math.floor(Math.random() * t.length);
e = a(t, e);
var i, n = 0;
for (i = e.length; i--; ) n += e[i];
var o = Math.random() * n, r = 0, s = e.length;
for (i = 0; i < s - 1; i++) {
r += e[i];
if (o <= r) return i;
}
return i;
}
function s(t, e) {
var i, n, o, r, s, _ = t.concat();
e = a(t, e);
t.length = 0;
s = 0;
for (i = e.length; i--; ) s += e[i];
o = Math.random() * s;
r = 0;
i = 0;
for (;_.length; ) {
r += e[i];
if (o <= r) {
s -= e[i];
n = _.splice(i, 1)[0];
e.splice(i, 1);
t.push(n);
o = Math.random() * s;
r = 0;
i = 0;
} else i++;
}
return t;
}
function a(t, e) {
if (l(e)) {
if (e.length === t.length) return e.concat();
throw new window.Error("Invalid weights array: length does not match");
}
if (d(e)) return _(t, e);
throw new window.Error("Invalid weights supplied");
}
function _(t, e, i) {
var n, o, r;
if (!l(t)) throw new TypeError(" arr is not an array");
var s = Object(t), a = s.length >>> 0;
if (!d(e)) throw new TypeError(e + " is not a function");
arguments.length > 2 && (n = i);
o = new Array(a);
r = 0;
for (;r < a; ) {
var _, u;
if (r in s) {
_ = s[r];
u = e.call(n, _, r, s);
o[r] = u;
}
r++;
}
return o;
}
var l = i(22), d = i(20), u = {
shuffle: n,
random_index: r,
map: _
};
t.exports = u;
e(u, "meshim_common_ArrayUtils");
return u;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, u) {
var c, h, p, f, g, m, $ = [], b = [];
for (c in t) if (t.hasOwnProperty(c)) {
h = t[c];
p = void 0;
if ("@keyframes" == c) {
for (var w in h) if (h.hasOwnProperty(w)) {
m = w + " { " + n(h[w]).join(" ") + " } ";
b.push("@-webkit-keyframes " + m, "@-moz-keyframes " + m, "@-ms-keyframes " + m, "@-o-keyframes " + m, "@keyframes " + m);
}
continue;
}
"@media" == c.slice(0, 6) && (c = [ c, "@mediaend" ].join(""));
switch (typeof h) {
case "boolean":
case "number":
case "string":
p = c.split(",");
for (f = 0, g = p.length; f < g; f++) $.push(r.toStyle(p[f], h));
break;

default:
if (s(h)) {
for (f = 0, g = h.length; f < g; f++) $.push(r.toStyle(c, h[f]));
break;
}
if (_.placeholder.test(c)) {
m = c.replace(_.placeholder, "");
p = [];
for (f = 0, g = l.placeholder.length; f < g; f++) p.push(d([ m, l.placeholder[f] ]));
}
s(p) || (p = c.split(","));
for (f = 0, g = p.length; f < g; f++) b = b.concat(n(h, p[f].trim()));
}
}
if ($.length) {
if (!u) {
$.unshift("{");
$.push("}");
}
b.push($.join(""));
}
if (e || i || o && !(a.isIE < 9)) for (f = 0, g = b.length; f < g; f++) {
e && (b[f] = [ e.replace(_.replacePseudo, ".$1"), " ", b[f] ].join(""));
i && (b[f] = b[f].replace(_.prePrependFQName, " ").replace(_.prependFQName, i));
o && (b[f] = b[f].replace(_.replaceAppend, ""));
o && -1 !== b[f].indexOf("@media") && (b[f] = b[f].replace(_.replaceMedia, "$2 { $1 $3 }"));
}
return b;
}
var o = i(93), r = i(181), s = i(22), a = i(8), _ = (i(24), o.REGEX), l = {
placeholder: [ "::-webkit-input-placeholder", ":-moz-placeholder", "::-moz-placeholder", ":-ms-input-placeholder", ".placeholder" ]
}, d = o.join;
t.exports = n;
e(n, "jx_core_jcss_modules_transform2CSS");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
n = function() {};
for (var t = [ "Moz", "webkit", "ms" ], e = document.createElement("div").style, i = g.length; i--; ) {
var r = g[i];
m[r] = function(i) {
if (i in e) return i;
for (var n = i.charAt(0).toUpperCase() + i.slice(1), r = t.length; r--; ) {
if (t[r] + n in e) return "-" + t[r].toLowerCase() + "-" + o(i);
}
return i;
}(r);
}
}
function o(t) {
return t.replace(p.selectorCase, "-$1").replace(p.commaStart, "").toLowerCase();
}
function r(t, e) {
n();
var i;
e += "";
if (p.isVariable.test(e)) return t + ":" + e + ";";
if ("!important" === e.substr(-10)) {
i = !0;
e = e.substr(0, e.length - 10).trim();
}
switch (!0) {
case "background" === t:
return a(e, i);

case "display" === t:
return h.bugs.noBoxSizing && "inline-block" == e ? "" + s("display", "inline", i) + s("zoom", "1", i) : s("display", e, i);

case t in m:
return s(m[t], e, i);

default:
return s(o(t), e, i);
}
}
function s(t, e, i) {
return t + ":" + e + (i ? "!important;" : ";");
}
function a(t, e) {
var i, n = [];
i = t.split(" ");
switch (i[0]) {
case "linear-gradient":
i.splice(0, 1);
t = i.join(" ");
n.push(s("background", "-webkit-linear-gradient" + t, e), s("background", "-o-linear-gradient" + t, e), s("background", "-moz-linear-gradient" + t, e), s("background", "-ms-linear-gradient" + t, e), s("background", "-linear-gradient" + t, e));
break;

case "gradient":
var o, r;
n.push(s("background", _(i[2], i[3]), e));
"top" == i[1] && (o = "bottom");
"left" == i[1] && (o = "right");
"right" == i[1] && (o = "left");
"bottom" == i[1] && (o = "top");
r = $([ "(", i[1], ",", i[2], ",", i[3], ")" ]);
n.push(s("background", "-o-linear-gradient" + r, e), s("background", "-moz-linear-gradient" + r, e), s("background", "-ms-linear-gradient" + r, e), s("background", "linear-gradient" + r, e));
if ("left" == i[1] || "right" == i[1]) {
n.push(s("background", $([ "-webkit-gradient(linear,", i[1], " center,", o, " center,", "from(", i[2], "),to(", i[3], "))" ])));
r = $([ "progid:DXImageTransform.Microsoft.gradient(startColorstr=", l(i[2]), ", endColorstr=", l(i[3]), ", GradientType=1)" ]);
n.push(s("filter", r, e), s("-ms-filter", r, e));
} else {
n.push(s("background", $([ "-webkit-gradient(linear,", "center ", i[1], ",", "center ", o, ",", "from(", i[2], "),to(", i[3], "))" ])));
r = $([ "progid:DXImageTransform.Microsoft.gradient(startColorstr=", l(i[2]), ", endColorstr=", l(i[3]), ")" ]);
n.push(s("filter", r, e), s("-ms-filter", r, e));
}
break;

default:
n.push(s("background", t, e));
}
return n.join("");
}
function _(t, e) {
function i(i) {
return (16 * Math.round((parseInt(t.substring(i, i + 2), 16) + parseInt(e.substring(i, i + 2), 16)) / 32)).toString(16);
}
"rgb" == t.slice(0, 3) && (t = d(t, !0));
"rgb" == e.slice(0, 3) && (e = d(e, !0));
t = l(t).substring(1);
e = l(e).substring(1);
return "#" + i(0) + i(2) + i(4);
}
function l(t) {
if ("string" != typeof t) return "";
var e;
e = "#" == t.charAt(0) ? t.substring(1) : t;
if ("rgb" == e.slice(0, 3)) return d(e);
3 == e.length && (e = e.charAt(0) + e.charAt(0) + e.charAt(1) + e.charAt(1) + e.charAt(2) + e.charAt(2));
return "#" + e;
}
function d(t, e) {
t = t.slice(5, -1);
t = t.split(",");
if (3 == t.length || e) return "#" + u(t[0]) + u(t[1]) + u(t[2]);
t[3] = (255 * parseFloat(t[3], 10)).toFixed();
return "#" + u(t[3]) + u(t[0]) + u(t[1]) + u(t[2]);
}
function u(t) {
t = parseInt(t, 10).toString(16);
1 == t.length && (t = "0" + t);
return t;
}
var c = i(93), h = i(8), p = c.REGEX, f = {
toStyle: r
}, g = [ "animation", "userSelect", "appearance", "transform", "transformOrigin" ], m = {}, $ = c.join;
t.exports = f;
e(f, "jx_core_jcss_modules_JCSSConverter");
return f;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, n) {
t || (t = document);
var r = o(t, e);
if (r) if (n) r.styleSheet ? r.styleSheet.cssText = i : r[a ? "textContent" : "innerText"] = i; else if (r.styleSheet) r.styleSheet.cssText = [ r.styleSheet.cssText, i ].join(""); else {
var s = t.createTextNode(i);
r.appendChild(s);
} else {
r = t.createElement("style");
t.getElementsByTagName("head")[0].appendChild(r);
r.type = "text/css";
e && r.setAttribute("__jx__stylesheet_id", e);
if (void 0 !== r.styleSheet) {
if (!r.styleSheet) {
t.getElementsByTagName("head")[0].removeChild(r);
r = null;
return;
}
r.styleSheet.cssText = i;
} else r[a ? "textContent" : "innerText"] = i;
}
}
function o(t, e) {
if (e) {
t || (t = document);
for (var i = 0, n = t.styleSheets.length; i < n; i++) if ((t.styleSheets[i].ownerNode && t.styleSheets[i].ownerNode.getAttribute("__jx__stylesheet_id") || t.styleSheets[i].owningElement && t.styleSheets[i].owningElement.getAttribute("__jx__stylesheet_id")) == e) return t.styleSheets[i].ownerNode && t.styleSheets[i].ownerNode || t.styleSheets[i].owningElement && t.styleSheets[i].owningElement;
}
}
var r = i(8), s = {
setStyleSheet: n
}, a = r.isTextContent;
t.exports = s;
e(s, "jx_core_jcss_modules_JCSSStyleSheet");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
for (var e = 0, i = h.length; e < i; e++) if (t === h[e]) return;
h.push(t);
for (var n in l.cache) l.cache.hasOwnProperty(n) && d.setStyleSheet(t.idoc, "jcss" + n, l.cache_replaced[n]);
}
function o(t) {
for (var e = 0, i = h.length; e < i; e++) t === h[e] && h.splice(e, 1);
}
function r(t) {
_ = u(t);
}
function s() {
return _;
}
function a() {
return h;
}
var _, l = i(92), d = i(182), u = i(12), c = {
bindIFrame: n,
unbindIFrame: o,
setIFrameOnly: r,
getIFrameOnly: s,
getIFrames: a
}, h = [];
t.exports = c;
e(c, "jx_core_jcss_modules_JCSSIFrame");
return c;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
var a = t.ownerDocument;
s || (s = {});
s.tagName || (s.tagName = "style");
r.call(this, a.getElementsByTagName("head")[0], e, i, null, s);
this.dom.type = "text/css";
this.addChildren(o);
}
var o = i(1), r = i(6);
n.prototype = o(r.prototype);
n.prototype.getText = function() {
return this.dom.styleSheet ? this.dom.styleSheet.cssText : r.prototype.getText.call(this);
};
n.prototype.addChildren = function(t) {
if (t && t.length) if ("styleSheet" in this.dom) {
if (!this.dom.styleSheet) {
this.destroy();
return;
}
this.dom.styleSheet.cssText += t.join("");
} else r.prototype.addChildren.call(this, [ t.join("") ]);
};
t.exports = n;
e(n, "jx_ui_StyleSheet");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
t.preventDefault = n.preventDefault;
t.stopPropagation = n.stopPropagation;
t.target = t.srcElement;
}
function o() {
this.allCallbacks = {};
this.nativeHandlers = {};
}
var r = i(8), s = i(14);
n.preventDefault = function() {
this.returnValue = !1;
};
n.stopPropagation = function() {
this.cancelBubble = !0;
};
o.prototype.useCustomHandling = function(t) {
return !this.dom.nodeType && this.dom != window && this.dom != document || ("form" != this.tagName.toLowerCase() || "submit" != t) && (!r.isCustomEvents && (r.isFF && r.isFF < 9 ? !document.createEvent("event")[t.toUpperCase()] : void 0 === this.dom["on" + t]));
};
o.prototype.addEventListener = function(t, e) {
if (!t && "function" != typeof e) throw "bad arguments to on / addEventListener";
if (!(t in this.allCallbacks)) {
this.allCallbacks[t] = [];
this.useCustomHandling(t) || this.setupNativeEventListener(t);
}
this.allCallbacks[t].push(e);
return this;
};
o.prototype.setupNativeEventListener = function(t) {
if (!(t in this.nativeHandlers)) {
var e = this;
this.nativeHandlers[t] = function(i) {
i && (i.stopPropagation || n(i));
var o, a = e.allCallbacks[t], _ = a.length, l = !0;
a._active = !0;
for (o = 0; o < _; o++) try {
if (!a[o]) continue;
!1 === a[o].call(e, r.isCustomEvents && i instanceof r.CustomEvent ? i.detail : i) && (l = !1);
} catch (t) {
s.fire("error", t);
}
a._active = !1;
if (a._dirty) {
for (o = 0; o < _; o++) if (!a[o]) {
o == _ - 1 ? a.pop() : a[o--] = a.pop();
_--;
}
a._dirty = !1;
}
if (!1 === l) {
if (i) {
i.preventDefault();
i.returnValue = !1;
}
return !1;
}
};
this.dom.attachEvent ? this.dom.attachEvent("on" + t, this.nativeHandlers[t]) : this.dom.addEventListener && this.dom.addEventListener(t, this.nativeHandlers[t], !1);
}
};
o.prototype.teardownNativeEventListener = function(t) {
var e = this.nativeHandlers[t];
if (e) {
this.dom.attachEvent ? this.dom.detachEvent("on" + t, e) : this.dom.addEventListener && this.dom.removeEventListener(t, e, !1);
delete this.nativeHandlers[t];
delete this.allCallbacks[t];
}
};
o.prototype.removeEventListener = function(t, e) {
var i = this.allCallbacks[t];
if (i) {
for (var n = 0, o = i.length; n < o; n++) if (i[n] === e) {
1 == i.length ? this.nativeHandlers[t] ? this.teardownNativeEventListener(t) : delete this.allCallbacks[t] : i._active ? (i[n] = null, 
i._dirty = !0) : n == o - 1 ? i.pop() : i[n] = i.pop();
break;
}
return this;
}
};
o.prototype.unextendEvents = function() {
if (this.allCallbacks && this.nativeHandlers) {
for (var t in this.nativeHandlers) this.nativeHandlers.hasOwnProperty(t) && this.teardownNativeEventListener(t);
this.allCallbacks = this.nativeHandlers = null;
}
};
o.prototype.fireCustomEvent = function(t, e) {
if (!r.isCustomEvents || this.useCustomHandling(t)) {
var i = this.allCallbacks[t], n = !0;
if (i && i.length) {
i._active = !0;
var o, a, _;
for (o = 0, a = i.length; o < a; o++) try {
if (!i[o]) continue;
_ = i[o].call(this, e);
!1 === _ && (n = !1);
} catch (t) {
s.fire("error", t);
}
i._active = !1;
if (i._dirty) {
for (o = 0; o < a; o++) if (!i[o]) {
o == a - 1 ? i.pop() : i[o--] = i.pop();
a--;
}
i._dirty = !1;
}
}
return n;
}
return this.dom.dispatchEvent(new r.CustomEvent(t, {
bubbles: !1,
cancelable: !0,
detail: e
}));
};
o.prototype.fire = o.prototype.fireCustomEvent;
o.prototype.on = o.prototype.addEventListener;
o.prototype.un = o.prototype.removeEventListener;
o.__jx__no_fqname = !0;
t.exports = o;
e(o, "jx_ui_HTMLEvent");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
t = t.split(/[^a-zA-Z0-9]/);
for (var e = 1; e < t.length; e++) t[e].length && (t[e] = t[e].substr(0, 1).toUpperCase() + t[e].substr(1));
return t.join("");
}
var n = {
toCamelCase: i
};
t.exports = n;
e(n, "jx_core_StringUtils");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
var i = a[t];
i.module_function = new Function("$Modules", e.toString().replace(u, "$1"));
i.ready();
}
function o(t) {
var e, i, n, o;
for (e = d.length - 1; e >= 0; e--) {
n = d[e];
o = n.dependencies;
for (i = o.length - 1; i >= 0; i--) if (o[i] == t) {
o.splice(i, 1);
break;
}
n.ready();
}
}
function r() {
var t = Array.prototype.slice.call(arguments), e = t.shift();
this.fqname = e;
this.name = e.split(".").pop();
this.callbacks = [];
this.dependencies = t;
d.push(this);
}
function s(t) {
t();
}
var a = i(4), _ = i(46), l = i(386), d = [], u = /^function *\( *\) *{ *([\s\S]*) *}$/;
r.ensureLoaded = function(t, e) {
t instanceof r ? t.ensureLoaded(e) : e();
};
r.prototype.ensureLoaded = function(t) {
this.ifLoaded(t);
this.load();
};
r.prototype.ifLoaded = function(t) {
this.callbacks.push(t);
};
r.prototype.load = function() {
function t(t) {
n(t[0], t[1]);
}
var e, i, o = this.getDependencies();
for (e = 0; e < o.length; e++) {
i = o[e];
i.loader || (i.loader = new l(_.baseURL + "/lib/" + _.build_number + "/" + i.fqname + ".js", a, t));
}
};
r.prototype.getDependencies = function() {
var t, e = this.dependencies, i = [ this ];
for (t = 0; t < e.length; t++) {
var n = a[e[t]];
i = i.concat(n.getDependencies());
}
return i;
};
r.prototype.ready = function() {
if (!this.dependencies.length && this.module_function) {
for (t = d.length - 1; t >= 0; t--) if (d[t] == this) {
d.splice(t, 1);
break;
}
this.module_function(a);
var t, e = a[this.fqname];
e.ifLoaded = e.ensureLoaded = s;
for (t = 0; t < this.callbacks.length; t++) this.callbacks[t](e);
o(this.fqname);
delete this.callbacks;
delete this.fqname;
delete this.name;
delete this.dependencies;
delete this.loader;
}
};
a.Module = r;
t.exports = r;
e(r, "jx_core_Module");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
if (!d) {
s = c.root.$("livechat");
a = s.$("settings").$("theme").$("chat_window").$("profile_card");
_ = s.$("ui").$("chat_window").$("display_profile_card$bool");
l = s.$("settings").$("rating").$("enabled$bool");
a.bindValue(o);
l.bindValue(o);
d = !0;
}
}
function o() {
var t = u(a.getValue("display_avatar$bool")), e = u(a.getValue("display_title_name$bool")), i = u(a.getValue("display_rating$bool")) && u(l.getValue()), n = t || i || e;
_.update(n);
}
function r() {
d = !1;
}
var s, a, _, l, d, u = i(12), c = i(5), h = {
init: n,
resetState: r
};
t.exports = h;
e(h, "meshim_widget_controllers_ChatPanelProfileCardController");
return h;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
d = y.root;
u = d.$("livechat").$("gates").$("premium_support$bool");
h = d.$("tmp").$("package_name$string");
f = d.$("livechat").$("ui").$("chat_window").$("offline_form");
g = d.$("livechat").$("ui").$("mockup$bool");
if (!g.getValue()) {
m = d.$("livechat").$("settings").$("forms").$("offline_form");
$ = d.$("tmp").$("api_settings").$("settings").$("forms").$("offline_form").$("message$string");
b = d.$("tmp").$("server_settings").$("settings").$("forms").$("offline_form").$("message$string");
h.update(window.sessionStorage ? window.sessionStorage.getItem("$zchat_package_name") : "");
h.bindValue(o);
u.bindValue(r);
}
}
function o() {
p = h.getValue();
s();
}
function r() {
c = u.getValue();
c ? s() : _();
}
function s() {
if (c) {
if (S.indexOf(p) > -1) {
_();
l(null);
} else {
var t, e = new Date(j.getServerTime()), i = (e.getUTCDay() + 1) % 7 * v.DAY + e.getUTCHours() * v.HOUR + e.getUTCMinutes() * v.MINUTE + e.getUTCSeconds() * v.SECOND, n = i < A;
l(n ? "offline" : null);
t = (n ? 2 : 7) * v.DAY - i;
a(t + v.SECOND);
}
}
}
function a(t) {
_();
w = window.setTimeout(s, t);
}
function _() {
w && (w = window.clearTimeout(w));
}
function l(t) {
C.setStatus(t);
var e = $.getValue() || ("offline" === t ? k.toString() : b.getValue());
m.update({
message$string: e
});
f.update({
upgrade_link_display$bool: "offline" === t
});
}
var d, u, c, h, p, f, g, m, $, b, w, x = i(7), v = i(174), y = i(5), j = i(57), C = i(115), S = [ "premium", "enterprise", "master" ], A = 2 * v.DAY, k = x(3), I = {
init: n
};
t.exports = I;
e(I, "meshim_widget_controllers_PremiumSupportController");
return I;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t, e) {
var i = e.match(t);
return i ? i.length : 0;
}
function n(t, e, n, o) {
return Math.pow(i(t, e) / n, 1 / o);
}
function o(t) {
var e, i = 1 - t[0];
for (e = 1; e < t.length; e++) i *= 1 - t[e];
return 1 - i;
}
function r(t, e, r) {
r || (r = i(/ /g, e));
for (var s, a, _, d, u = e.length, c = [], h = 0; h < l[t].length; h += 2) {
s = l[t][h];
a = l[t][h + 1];
_ = "\\\\b" == s.toString().substr(1, 2) ? r : u;
d = n(s, e, _, a);
c.push(d);
}
"en" == t && c.push(.6 / e.length);
return o(c);
}
function s(t, e) {
var n = document.body.getAttribute("lang") || document.documentElement.getAttribute("lang");
if (n) return n;
t || (t = _);
e || (e = document.body.innerHTML.replace(/\s+/g, " ").replace(/<script[^>]*?>.*?<\/script>/gi, " ").replace(/<style[^>]*?>.*?<\/style>/gi, " ").replace(/<!--.*?-->/g, " ").replace(/<\/?[^>]+?>/g, " ").replace(/[-_a-z0-9.@]+[.@][-_a-z0-9.@]+/gi, "").replace(/[\s\d!'#$%&'()*+,-.\/:;<=>?@^_{|}~\[\]\/]+/g, " "));
e = e.replace(/\s+/g, " ");
var o, s, a = i(/ +/g, e), l = [];
for (o = 0; o < t.length; o++) l.push([ t[o], r(t[o], e, a) ]);
l.sort(function(t, e) {
return e[1] - t[1];
});
s = l[0][0];
s.scores = l;
window.__$z_results = a + " " + e.length + " " + e.length / a + "\n" + l.join("\n");
window.__$z_innerText = e;
return s;
}
var a = {
guess: s
}, _ = [], l = {
en: [ /\b(up|me|submit|offers?|about|rights?|more|contact|all|downloads?|how|search|to|do|i[nst]?|your?|that|was|one?|are|with|[bw]e|have|this|f?or|had|by|[hn]ot?|[bo]ut|so|some|what|can|[tw]here|why|other|over|die|ten)\b/gi, 4, /\b(inn|set|end|about|pro|the|of|from|and|a|as|at)\b/gi, 6 ],
cs: [ /[\u00e1\u010d\u010f\u00e9\u011b\u00ed\u0148\u00f3\u0159\u0161\u0165\u00fa\u016f\u00fd\u017e]/gi, 5, /\b(by|do|to|[aikosvz])\b/gi, 3, /\b(na|za|se|je|\u017ee|ve|jako|jsem|pro|tak|po|u\u017e|jsou|byl)\b/gi, 6 ],
de: [ /[\u00df]/g, 10, /[\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc]/g, 7, /\b(de[mrs]|vo[nm]|zu[mr]?|da[s\u00df]?|eine[mnrs]?|a[lu]s|wir|[sw]ie|n[ao]ch|vor[ms]?|(\u00fcb|od|ab)er|und|im|mit|sich|auf|f\u00fcr|nicht|auch|es|bei|nur|bis|mehr|durch)\b/gi, 6 ],
es: [ /[\u00f1]/g, 10, /[\xE1\xE9\xED\xF3\xFA]/gi, 6, /\b(que|nuestro|ingresar|inicio|qu[e\u00e9]|[dt]e|ser?|[ms]i|l?a|e[lns]|y|tu|los?|una?|por|con|para|est(\u00e1|ar))\b/gi, 6 ],
fr: [ /[\u0153]/gi, 15, /[\u00e0\u00e2\u00e7\u00e9\u00e8\u00ea\u00eb\u00ee\u00ef\u00f4\u00fb\u00f9\u00fc\u00ff]/gi, 7, /\b(son)\b/gi, 4, /\b(en)\b/gi, 5, /\b([ado]u|aux?|[do]u|la|[cdls]es|es?t|une?|ne|qu[ei]|sur|dans|pa[rs]|il|sont|avec|voir)\b/gi, 6 ],
hr: [ /[\u010d\u0107\u0111\u0161\u017e]/gi, 10, /d\u017e|lj|nj/gi, 3, /\b(ali|ja|je|mene|na|ne|od|ovo|se|sve|ti|u|za|znati)\b/gi, 6 ],
ms: [ /\b(and)\b/gi, 4, /\b((se)?(biji|buah|orang)|ada|anda|atau|boleh|bukan|dalam|dan|dari|di|ini|kami|ke|lagi|sila|tidak|tinggi|telah|untuk)\b/gi, 6 ],
da: [ /[\u00c6\u00e6\u00d8\u00f8\u00c5\u00e5]/g, 10, /\b(de)\b/gi, 5, /\b(ind|l\u00e6s|nyheder|[vt]il|s?om|og|[mv]ed|kan|har|var|tager|af|d?et|de[tn]{2}e|skal|den|set|noget|nogle|mange|hadde|eller|efter|end|blive|er|sekund|viser|ud|(a|vi|sku)lle)\b/gi, 6 ],
nb: [ /[\u00c6\u00e6\u00d8\u00f8\u00c5\u00e5]/g, 10, /\b(de)\b/gi, 5, /\b(passord|nyheter|inn|[vt]il|s?om|og|[mv]ed|kan|[htv]ar|av|d?et|de[tn]{2}e|skal|se(g|tt)|noen?|mange|hadde|e[lt]{2}er|enn|blir?|ble|andre|viser|ut|(a|vi|sku)lle)\b/gi, 6 ],
nl: [ /\b(in|die)\b/gi, 4, /\b(de|en)\b/gi, 5, /\b(het|dat|van|ik|te|een|hij|niet|zijn)\b/gi, 6 ],
pt: [ /[\u00e1\u00e2\u00e3\u00e0\u00e7\u00e9\u00ea\u00ed\u00f3\u00f4\u00f5\u00fa]/gi, 7, /\b(gr\u00e1fico|ao|como|das?|de|dos|ele|em?|mai?s|na|n\u00e3o|os?|para|por|que|se|uma?)\b/gi, 6 ],
sk: [ /\u00e1\u00e4\u010d\u010f\u00e9\u00ed\u013e\u013a\u0148\u00f3\u00f4\u0155\u0161\u0165\u00fa\u00fd\u017e/gi, 10, /dz|d\u017e/gi, 5, /\b(ten|to|do|so)\b/gi, 4, /\b(ja|na|za|c\u030co|t\u00e1|po|vo|zo|n\u00e1[s\u030cs])\b/gi, 6 ],
tr: [ /[\u00c7\u011e\u0130\u00d6\u015e\u00dc\u00e7\u011f\u0131\u00f6\u015f\u00fc]/g, 7, /\b(son)\b/gi, 4, /\b(formu|bir|ve|ne|bu|i\u00e7in|o|b?en|\u00e7ok|(al|\u00e7\u0131k|ol|yap)mak|(de|gel|git|g\u00f6r|iste|ver)mek|gibi|daha|kendi|ile|ama|sonra|kadar|yer|insan|de\u011fil|y\u0131l|g\u00fcn|biz)\b/gi, 6 ],
vi: [ /[\u00e0\u1ea3\u00e3\u00e1\u1ea1\u0103\u1eb1\u1eb3\u1eb5\u1eaf\u1eb7\u00e2\u1ea7\u1ea9\u1eab\u1ea5\u1ead\u0111\u00e8\u1ebb\u1ebd\u00e9\u1eb9\u00ea\u1ec1\u1ec3\u1ec5\u1ebf\u1ec7\u00ec\u1ec9\u0129\u00ed\u1ecb\u00f2\u1ecf\u00f5\u00f3\u1ecd\u00f4\u1ed3\u1ed5\u1ed7\u1ed1\u1ed9\u01a1\u1edd\u1edf\u1ee1\u1edb\u1ee3\u00f9\u1ee7\u0169\u00fa\u1ee5\u01b0\u1eeb\u1eed\u1eef\u1ee9\u1ef1\u1ef3\u1ef7\u1ef9\u00fd\u1ef5]/gi, 8, /\b(v\u00e0|c\u00e1c|c\u1ee7a|c\u00f3|\u0111\u0103ng|\u0111\u00e2y|ho\u1eb7c|kh\u1ea9u|k\u00fd|m\u1ed9t|ng\u00e0y|l\u00e0|trong|cho)\b/gi, 6 ],
ja: [ /[\u3041-\u30ff]/g, 10 ],
ko: [ /[\uAC00-\uD7A3\u1100-\u11FF\u3131-\u318E\uFFA1-\uFFDC]/g, 10 ],
th: [ /[\u0E00-\u0E7F]/g, 10 ],
zh_CN: [ /[\u4e00-\u9fb4]/g, 1, /[\u7684\u662f\u8fd9\u6709\u5728\u4e0d\u4e86\u6765\u4e2a\u5230\u4e3a\u548c\u9053\u4e5f\u65f6\u5f97\u5c31\u90a3\u8981\u4ee5\u7740\u53bb\u4e4b\u8fc7\u5bb6\u5bf9\u53ef\u91cc\u540e\u4e48\u591a\u800c\u80fd\u90fd\u7136\u6ca1\u8d77\u8fd8]/g, 7 ],
ru: [ /[\u0410-\u042f\u0430-\u044f\u0401\u0451]/g, 3 ],
ar: [ /[\u0600-\u06FF\u0750-\u077F\uFB50-\uFDFF\uFE70-\uFEFF]/g, 1 ]
};
for (var d in l) l.hasOwnProperty(d) && _.push(d);
t.exports = a;
e(a, "jx_language_Detect");
return a;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
"string" != typeof t && (t = "");
return t.replace(/^[A-Za-z]{4}$/, function(t) {
return t.slice(0, 2).toLowerCase() + "_" + t.slice(2).toUpperCase();
});
}
var n = {
"en-US": "en",
"en-ca": "en",
"en-GB": "en",
"es-419": "es",
"es-es": "es",
fil: "tl",
"fr-ca": "fr",
no: "nb",
pt: "pt_BR",
"pt-BR": "pt_BR",
uk: "ru",
"zh-cn": "zh_CN",
"zh-tw": "zh_TW"
}, o = [ "pt", "uk" ], r = {};
r.zendeskToZopim = function(t, e) {
if (!e || -1 === o.indexOf(t)) {
var r = n[t];
if (r) return r;
}
return i(t);
};
t.exports = r;
e(r, "meshim_common_LocaleMapper");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
"--" !== t && t || (t = _.guess());
return a.zendeskToZopim(t, !0);
}
var o = i(7), r = i(5), s = i(35), a = i(191), _ = i(190), l = {};
l.init = function() {
var t, e = r.root.$("livechat").$("ui").$("mockup$bool"), i = r.root.$("livechat").$("ui").$("popout$bool"), a = r.root.$("livechat").$("ui").$("lang_dir$string"), _ = r.root.$("livechat").$("settings").$("language").$("language$string");
if (!e.getValue()) if (i.getValue()) {
t = s().get("lang");
t = n(t);
_.update(t);
o && o.update && o.update(t);
o && o.rtl && a.update(o.rtl() ? "rtl" : "ltr");
} else _.bindValue(function(t) {
if ("--" !== t && t) {
t = n(t);
o && o.update && o.update(t);
o && o.rtl && a.update(o.rtl() ? "rtl" : "ltr");
} else {
t = n(t);
_.update(t);
}
});
};
t.exports = l;
e(l, "meshim_widget_controllers_LanguageController");
return l;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = c.root;
u = t.$("connection").$("status$string");
s = t.$("livechat");
a = s.$("agents");
_ = s.$("channel").$("chatting$bool");
l = s.$("account").$("status$string");
d = s.$("ui").$("mockup$bool");
a.bindKeys(r);
}
function o() {
a.unbindKeys(r);
s = a = _ = null;
l = d = u = null;
}
function r() {
if (!d.getValue() && "reattached" === u.getValue()) {
var t = l.getValue(), e = a.getKeys().length;
_.getValue() && !e && "offline" == t && c.livechat.endChat();
}
}
var s, a, _, l, d, u, c = i(5), h = {
init: n,
reset: o
};
t.exports = h;
e(h, "meshim_widget_controllers_OfflineAndNoAgentEndChat");
return h;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
e = e || window;
s = t.$("livechat").$("profile");
var i = {
window: a.extend(e, !0),
document: a.extend(e.document, !0)
};
i.document.on("mousemove", o);
i.window.on("click", o);
i.window.on("scroll", o);
i.window.on("keypress", o);
r();
}
function o() {
l++;
}
function r() {
l && s.write({
active$int: +new Date()
});
l = 0;
window.setTimeout(r, d);
}
var s, a = i(14), _ = {
init: n
}, l = 1, d = 2e4;
t.exports = _;
e(_, "meshim_widget_controllers_Tracker");
return _;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
s = m.root.$("livechat").$("profile");
a = s.$("display_name$string");
l = s.$("email$string");
u = s.$("auth").$("type$string");
h = s.$("logged_in$bool");
a.on("value", function(t) {
_ = t;
o();
});
l.on("value", function(t) {
d = t;
o();
});
u.on("value", function(t) {
c = t;
o();
});
p = m.root.$("livechat").$("settings");
f = p.$("login").$("allowed_types");
g = p.$("login").$("allowed_types_count$int");
f.on("value", function() {
var t = f.getValue(), e = 0;
for (var i in t) if (t.hasOwnProperty(i)) {
if ("email$bool" == i) continue;
t[i] && e++;
}
e != g.getValue() && g.update(e);
});
}
function o() {
h.update(r());
}
function r() {
return !!c || (!(!d || !(d + "").trim()) || (!(!_ || !(_ + "").trim() || $.isDefaultName(_)) || void 0));
}
var s, a, _, l, d, u, c, h, p, f, g, m = i(5), $ = i(10), b = {
init: n
};
t.exports = b;
e(b, "meshim_widget_controllers_ProfileListener");
return b;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
s.disableMobileNotifications(t);
}
if ("boolean" == typeof t) {
r.callOnFastInit(e);
r.callOnRegistered(e);
r.instrument("mobileNotifications.setDisabled");
} else window.console && window.console.log(r.getPrefix() + ": mobileNotifications.setDisabled() expects argument passed to be a boolean");
}
function o(t) {
function e() {
s.mobileNotificationsIgnoreChatButtonVisibility(t);
}
if ("boolean" == typeof t) {
r.callOnFastInit(e);
r.callOnRegistered(e);
r.instrument("mobileNotifications.setIgnoreChatButtonVisibility");
} else window.console && window.console.log(r.getPrefix() + ": mobileNotifications.setIgnoreChatButtonVisibility() expects argument passed to be a boolean");
}
var r = i(27), s = i(25), a = {};
a.setDisabled = n;
a.setIgnoreChatButtonVisibility = o;
t.exports = a;
e(a, "meshim_widget_controllers_liveChatAPI_MobileNotifications");
return a;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
if (r(t)) {
a.saveAPISettings({
settings: {
forms: {
offline_form: {
message$string: t
}
}
}
});
o.$("livechat").$("settings").$("forms").$("offline_form").update({
message$string: t
});
} else window.console && window.console.log(a.getPrefix() + ": offlineForm.setGreetings() expects passed argument to be a string");
}
function i() {
a.resetAPISettings({
settings: {
forms: {
offline_form: {
message$string: null
}
}
}
});
var t = a.getServerSettings("settings.forms.offline_form.message$string");
t && o.$("livechat").$("settings").$("forms").$("offline_form").update({
message$string: t
});
}
var n = null === t ? i : e;
a.savePopoutAPICalls("offlineForm.setGreetings", [ t ]);
a.callOnFastInit(n, !0);
a.callOnRegistered(n, !0);
a.instrument("offlineForm.setGreetings");
}
var o, r = i(21), s = i(5), a = i(27), _ = {};
_.init = function() {
o = s.root;
};
_.setGreetings = n;
t.exports = _;
e(_, "meshim_widget_controllers_liveChatAPI_OfflineForm");
return _;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
a.saveAPISettings({
settings: {
forms: {
pre_chat_form: {
message$string: t
}
}
}
});
o.$("livechat").$("settings").$("forms").$("pre_chat_form").update({
message$string: t
});
}
if (r(t)) {
a.savePopoutAPICalls("prechatForm.setGreetings", [ t ]);
a.callOnFastInit(e, !0);
a.callOnRegistered(e, !0);
a.instrument("prechatForm.setGreetings");
} else window.console && window.console.log(a.getPrefix() + ": prechatForm.setGreetings() expects passed argument to be a string");
}
var o, r = i(21), s = i(5), a = i(27), _ = {};
_.init = function() {
o = s.root;
};
_.setGreetings = n;
t.exports = _;
e(_, "meshim_widget_controllers_liveChatAPI_PreChatForm");
return _;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(8), o = i(58), r = i(5), s = {};
s.init = function() {
function t(t) {
window.console && window.console.log(i ? o.stringify(t) : t);
}
var e = r.root, i = n.isIE || n.isNewIE;
s.connection = function() {
t(e.$("connection").getValue());
};
s.livechat = function() {
t(e.$("livechat").getValue());
};
s.all = function() {
t(e.getValue());
};
};
t.exports = s;
e(s, "meshim_widget_controllers_liveChatAPI_Debug");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
if (f(t)) {
v.instrument("window.onShow");
var e = v.getCallbackCaller(t);
x.on("API:window:show", e);
} else window.console && window.console.log(v.getPrefix() + ": window.onShow() expects a callback function to be provided");
}
function o(t) {
if (f(t)) {
v.instrument("window.onHide");
var e = v.getCallbackCaller(t);
x.on("API:window:hide", e);
} else window.console && window.console.log(v.getPrefix() + ": window.onHide() expects a callback function to be provided");
}
function r(t) {
function e() {
v.saveAPISettings({
settings: {
chat_window: {
title_bar: {
title$string: t
}
}
}
});
h.$("livechat").$("settings").$("chat_window").$("title_bar").update({
title$string: t
});
}
t = t && t.toString();
if (p(t)) {
v.savePopoutAPICalls("window.setTitle", [ t ]);
v.callOnFastInit(e);
v.callOnRegistered(e);
v.instrument("window.setTitle");
} else window.console && window.console.log(v.getPrefix() + ": window.setTitle expects passed argument to be a string");
}
function s() {
v.callOnRegistered(function() {
x.toggleWindow();
});
v.instrument("window.toggle");
}
function a() {
v.instrument("window.getDisplay");
return h.$("livechat").$("ui").$("chat_window").$("display$bool").getValue();
}
function _(t) {
function e() {
v.saveAPISettings({
settings: {
theme: {
chat_window: {
v_offset$int: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_window").update({
v_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(v.getPrefix() + ': window.setOffsetVertical() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
v.callOnFastInit(e, !0);
v.callOnRegistered(e, !0);
v.instrument("window.setOffsetVertical");
}
}
function l(t) {
function e() {
v.saveAPISettings({
settings: {
theme: {
chat_window: {
h_offset$int: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_window").update({
h_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(v.getPrefix() + ': window.setOffsetHorizontal() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
v.callOnFastInit(e, !0);
v.callOnRegistered(e, !0);
v.instrument("window.setOffsetHorizontal");
}
}
function d(t) {
function e() {
v.saveAPISettings({
settings: {
theme: {
chat_window: {
position$string: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_window").update({
position$string: t
});
}
if (p(t)) {
v.callOnFastInit(e, !0);
v.callOnRegistered(e, !0);
v.instrument("window.setPosition");
} else window.console && window.console.log(v.getPrefix() + ": window.setPosition() expects passed argument to be a string");
}
function u() {
if (b.isAuthenticated()) {
window.console && window.console.log(v.getPrefix() + ": openPopout API ignored for authenticated visitors. Falling back to window.show()...");
y.show();
return !1;
}
if (f(w.isReady) && w.isReady() && m.requestPermission()) {
v.instrument("window.openPopout");
return w.openPopout(!0);
}
return !1;
}
var c, h, p = i(21), f = i(20), g = i(40), m = i(41), $ = i(5), b = i(45), w = i(72), x = i(25), v = i(27), y = {};
y.init = function(t) {
function e() {
function t() {
x.showWindow();
}
var e = g.once(t);
v.callOnFastInit(e);
v.callOnRegistered(e);
v.instrument("window.show");
}
function i() {
function t() {
x.hideWindow();
}
var e = g.once(t);
v.callOnFastInit(e);
v.callOnRegistered(e);
v.instrument("window.hide");
}
c = t;
h = $.root;
y.setColor = c.generateDeprecatedFunction("window.setColor", "$zopim.livechat.theme.setColor", function() {
v.instrument("window.setColor");
return c.theme.setColor.apply(this, arguments);
});
y.setSize = c.generateLimitedFunction("window.setSize", 1, function(t) {
function e() {
v.saveAPISettings({
settings: {
theme: {
chat_window: {
size$string: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_window").update({
size$string: t
});
}
if (p(t) && t) {
v.callOnFastInit(e);
v.callOnRegistered(e);
v.instrument("window.setSize");
} else window.console && window.console.log(v.getPrefix() + ": window.setSize expects passed argument to be a non-empty string");
});
y.show = e;
y.hide = i;
};
y.onShow = n;
y.onHide = o;
y.setTitle = r;
y.toggle = s;
y.getDisplay = a;
y.setOffsetBottom = y.setOffsetVertical = _;
y.setOffsetHorizontal = l;
y.setPosition = d;
y.openPopout = u;
t.exports = y;
e(y, "meshim_widget_controllers_liveChatAPI_Window");
return y;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = Array.prototype.slice.call(arguments);
v.savePopoutAPICalls("departments.filter", t);
v.instrument("departments.filter");
if (arguments.length) {
b = t;
if (j) r(); else {
$.update(!0);
f.bindValue(r);
j = !0;
}
} else {
$.update(!1);
f.unbindValue(r);
j = !1;
}
}
function o(t) {
var e, i = {}, n = f.getValue();
if (!n) return i;
for (var o = t.length; o--; ) {
e = t[o];
"number" != typeof e && (e = c(e));
n[e] && (i[e] = !0);
}
return i;
}
function r() {
if (!w && b) {
var t = {}, e = f.getValue(), i = o(b);
if (e) {
for (var n in e) e.hasOwnProperty(n) && (t[n] = {
display$bool: n in i
});
w = !0;
g.update(t);
w = !1;
}
}
}
function s(t) {
function e() {
a(t);
}
v.callOnFastInit(e);
v.callOnRegistered(e, !0);
v.instrument("departments.setVisitorDepartment");
}
function a(t) {
"number" != typeof t && (t = c(t));
t && m.parentNode.write({
department_id$int: t
});
}
function _() {
v.callOnFastInit(l);
v.callOnRegistered(l, !0);
v.instrument("departments.clearVisitorDepartment");
}
function l() {
m.parentNode.write({
department_id$int: null
});
}
function d(t) {
"number" != typeof t && (t = c(t));
if (t) {
var e = f.$(t).getValue();
if (e) {
v.instrument("departments.getDepartment");
return {
id: t,
name: e.name$string,
status: e.status$string
};
}
}
}
function u() {
var t = f.getValue(), e = [];
for (var i in t) t.hasOwnProperty(i) && e.push({
id: parseInt(i, 10),
name: t[i].name$string,
status: t[i].status$string
});
v.instrument("departments.getAllDepartments");
return e;
}
function c(t) {
t = t && t.toString();
if (t) {
var e = f.getValue();
for (var i in e) if (e.hasOwnProperty(i) && e[i].name$string == t) return parseInt(i, 10);
}
}
function h(t) {
function e() {
v.saveAPISettings({
settings: {
forms: {
pre_chat_form: {
form: {
2: {
label$string: t
}
}
}
}
}
});
p.$("livechat").$("settings").$("forms").$("pre_chat_form").$("form").$("2").update({
label$string: t
});
}
if (t && "string" == typeof t) {
v.savePopoutAPICalls("departments.setLabel", [ t ]);
v.callOnFastInit(e, !0);
v.callOnRegistered(e, !0);
v.instrument("departments.setLabel");
} else window.console && window.console.log(v.getPrefix() + ": departments.setLabel() expects passed argument to be a non-empty string");
}
var p, f, g, m, $, b, w, x = i(5), v = i(27), y = {};
y.init = function() {
p = x.root;
f = p.$("livechat").$("departments");
g = p.$("livechat").$("ui").$("departments").$("options");
m = p.$("livechat").$("profile").$("department_id$int");
$ = p.$("livechat").$("ui").$("departments").$("filter_enabled$bool");
};
var j;
y.filter = n;
y.setVisitorDepartment = s;
y.clearVisitorDepartment = _;
y.getDepartment = d;
y.getAllDepartments = u;
y.setLabel = h;
t.exports = y;
e(y, "meshim_widget_controllers_liveChatAPI_Departments");
return y;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
a.enableCookieLaw();
_.instrument("cookieLaw.comply");
}
function o() {
a.setDefaultImplicitConsent();
_.instrument("cookieLaw.setDefaultImplicitConsent");
}
var r, s = i(5), a = i(41), _ = i(27), l = {};
l.init = function() {
r = s.root;
};
l.comply = n;
l.setDefaultImplicitConsent = o;
t.exports = l;
e(l, "meshim_widget_controllers_liveChatAPI_CookieLawAPI");
return l;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
_.saveAPISettings({
settings: {
concierge: t
}
});
r.$("livechat").$("settings").$("concierge").update(t);
}
_.callOnFastInit(e, !0);
_.callOnRegistered(e, !0);
}
var o, r, s = i(21), a = i(5), _ = i(27), l = {};
l.init = function(t) {
function e(t) {
t = t || "";
if (s(t)) {
n({
display_name$string: t
});
_.savePopoutAPICalls("concierge.setName", [ t ]);
_.instrument("concierge.setName");
} else window.console && window.console.log(_.getPrefix() + ": concierge.setName() expects passed argument to be a string");
}
function i(t) {
t = t || "";
if (s(t)) {
n({
title$string: t
});
_.savePopoutAPICalls("concierge.setTitle", [ t ]);
_.instrument("concierge.setTitle");
} else window.console && window.console.log(_.getPrefix() + ": concierge.setTitle() expects passed argument to be a string");
}
o = t;
r = a.root;
l.setAvatar = o.generateLimitedFunction("concierge.setAvatar", 1, function(t) {
t = t || "";
if (s(t)) {
n({
avatar_path$string: t
});
_.savePopoutAPICalls("concierge.setAvatar", [ t ]);
_.instrument("concierge.setAvatar");
} else window.console && window.console.log(_.getPrefix() + ": concierge.setAvatar() expects passed argument to be a string");
});
l.setName = e;
l.setTitle = i;
};
t.exports = l;
e(l, "meshim_widget_controllers_liveChatAPI_Concierge");
return l;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
function t() {
$.hideButton();
}
var e = g.once(t);
w.callOnFastInit(e);
w.callOnRegistered(e);
w.instrument("button.hide");
}
function o() {
function t() {
$.showButton();
}
var e = g.once(t);
w.callOnFastInit(e);
w.callOnRegistered(e);
w.instrument("button.show");
}
function r(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
v_offset$int: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
v_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(w.getPrefix() + ': button.setOffsetVertical() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setOffsetVertical");
}
}
function s(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
v_offset_mobile$int: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
v_offset_mobile$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(w.getPrefix() + ': button.setOffsetVerticalMobile() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setOffsetVerticalMobile");
}
}
function a(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
h_offset$int: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
h_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(w.getPrefix() + ': button.setOffsetHorizontal() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setOffsetHorizontal");
}
}
function _(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
h_offset_mobile$int: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
h_offset_mobile$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(w.getPrefix() + ': button.setOffsetHorizontalMobile() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setOffsetHorizontalMobile");
}
}
function l(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
position$string: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
position$string: t
});
}
if (!h) if (f(t)) {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setPosition");
} else window.console && window.console.log(w.getPrefix() + ": button.setPosition() expects passed argument to be a string");
}
function d(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
position_mobile$string: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
position_mobile$string: t
});
}
if (f(t)) {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setPositionMobile");
} else window.console && window.console.log(w.getPrefix() + ": button.setPositionMobile() expects passed argument to be a string");
}
var u, c, h, p = i(12), f = i(21), g = i(40), m = i(5), $ = i(25), b = i(114), w = i(27), x = {};
x.init = function(t) {
function e(t) {
function e() {
$.setHideWhenOffline(t);
}
t = p(t);
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setHideWhenOffline");
}
u = t;
c = m.root;
h = c.$("livechat").$("ui").$("mobile$bool").getValue();
x.setColor = u.generateDeprecatedFunction("button.setColor", "$zopim.livechat.theme.setColor", function() {
w.instrument("button.setColor");
return b.setColor.apply(this, arguments);
});
x.setHideWhenOffline = u.generateLimitedFunction("button.setHideWhenOffline", 1, e);
};
x.hide = n;
x.show = o;
x.setOffsetBottom = x.setOffsetVertical = r;
x.setOffsetVerticalMobile = s;
x.setOffsetHorizontal = a;
x.setOffsetHorizontalMobile = _;
x.setPosition = l;
x.setPositionMobile = d;
t.exports = x;
e(x, "meshim_widget_controllers_liveChatAPI_Button");
return x;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
function t() {
c.showBubble();
}
h.callOnFastInit(t);
h.callOnRegistered(t);
h.instrument("bubble.show");
}
function o() {
function t() {
c.hideBubble();
}
h.callOnFastInit(t);
h.callOnRegistered(t);
h.instrument("bubble.hide");
}
function r() {
function t() {
c.resetBubble();
}
h.callOnFastInit(t);
h.callOnRegistered(t);
h.instrument("bubble.reset");
}
function s(t) {
function e() {
h.saveAPISettings({
settings: {
bubble: {
title$string: t
}
}
});
l.$("livechat").$("settings").$("bubble").update({
title$string: t
});
}
if (t && d(t)) {
h.callOnFastInit(e, !0);
h.callOnRegistered(e, !0);
h.instrument("bubble.setTitle");
} else window.console && window.console.log(h.getPrefix() + ": bubble.setTitle() expects passed argument to be a non-empty string");
}
function a(t) {
function e() {
h.saveAPISettings({
settings: {
bubble: {
text$string: t
}
}
});
l.$("livechat").$("settings").$("bubble").update({
text$string: t
});
}
if (t && d(t)) {
h.callOnFastInit(e, !0);
h.callOnRegistered(e, !0);
h.instrument("bubble.setText");
} else window.console && window.console.log(h.getPrefix() + ": bubble.setText() expects passed argument to be a non-empty string");
}
var _, l, d = i(21), u = i(5), c = i(25), h = i(27), p = {};
p.init = function(t) {
_ = t;
l = u.root;
p.setColor = _.generateLimitedFunction("bubble.setColor", 1, function(t) {
h.instrument("bubble.setColor");
return _.theme.setColor(t, "bubble");
});
};
p.show = n;
p.hide = o;
p.reset = r;
p.setTitle = s;
p.setText = a;
t.exports = p;
e(p, "meshim_widget_controllers_liveChatAPI_Bubble");
return p;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
d.saveAPISettings({
settings: {
banner: t
}
});
r.$("livechat").$("settings").$("banner").update(t);
}
d.callOnFastInit(e, !0);
d.callOnRegistered(e, !0);
}
var o, r, s = i(24), a = i(21), _ = i(5), l = i(25), d = i(27), u = {};
u.init = function(t) {
function e(t) {
function e() {
t = t || "";
a(t) ? n({
text$string: t
}) : window.console && window.console.log(d.getPrefix() + ": badge.setText() expects passed argument to be a string");
}
d.callOnFastInit(e, !0);
d.callOnRegistered(e, !0);
d.instrument("badge.setText");
}
function i() {
function t() {
l.showBanner();
}
d.callOnFastInit(t);
d.callOnRegistered(t);
d.instrument("badge.show");
}
function c() {
function t() {
l.hideBanner();
}
d.callOnFastInit(t);
d.callOnRegistered(t);
d.instrument("badge.hide");
}
o = t;
r = _.root;
u.setLayout = function() {
var t = [ "image_right", "image_left", "text_only", "image_only" ], e = t.join(", ");
return o.generateLimitedFunction("badge.setLayout", 1, function(i) {
function o() {
i && -1 != s(i, t) ? n({
layout$string: i
}) : window.console && window.console.log("Invalid layout. Valid layouts: " + e);
}
d.callOnFastInit(o, !0);
d.callOnRegistered(o, !0);
d.instrument("badge.setLayout");
});
}();
u.setImage = o.generateLimitedFunction("badge.setImage", 1, function(t) {
function e() {
t = t || "";
a(t) ? n({
image_path$string: t
}) : window.console && window.console.log(d.getPrefix() + ": badge.setImage() expects passed argument to be a string");
}
d.callOnFastInit(e, !0);
d.callOnRegistered(e, !0);
d.instrument("badge.setImage");
});
u.setColor = o.generateLimitedFunction("badge.setColor", 1, function(t) {
d.instrument("badge.setColor");
return o.theme.setColor(t, "badge");
});
u.setText = e;
u.show = i;
u.hide = o.generateLimitedFunction("badge.hide", 1, c);
};
t.exports = u;
e(u, "meshim_widget_controllers_liveChatAPI_Badge");
return u;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
a = d.root.$("livechat");
_ = a.$("agents");
l = a.$("ui").$("cache_agents");
_.bindValue(r);
}
function o() {
_.unbindValue(r);
a = _ = l = null;
}
function r(t) {
t && l.update(s(t));
}
function s(t) {
var e, i, n = {};
if (!t) return {};
for (e in t) if (t.hasOwnProperty(e)) {
i = t[e];
if (null === i) continue;
n[e] = "object" == typeof i ? s(i) : i;
}
return n;
}
var a, _, l, d = i(5), u = {
init: n,
reset: o
};
t.exports = u;
e(u, "meshim_widget_controllers_AgentDataController");
return u;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
s = d.root.$("livechat");
a = s.$("agents");
_ = s.$("triggers").$("agents");
l = s.$("ui").$("chat_window").$("typing_info");
a.on("value", o);
_.on("value", o);
}
function o() {
var t, e = a.getValue(), i = _.getValue(), n = [];
if (e) for (t in e) e.hasOwnProperty(t) && e[t].typing$bool && n.push(e[t].display_name$string);
if (i) for (t in i) i.hasOwnProperty(t) && i[t].typing$bool && n.push(t);
l.update({
agent_typing$bool: n.length > 0,
agent_names$string: n.join(u),
num_typing_agents$int: n.length
});
}
function r() {
_.un("value", o);
a.un("value", o);
s = a = _ = l = void 0;
}
var s, a, _, l, d = i(5), u = ", ", c = {
SEPARATOR: u,
init: n,
resetState: r
};
t.exports = c;
e(c, "meshim_widget_controllers_AgentTypingController");
return c;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Gravatar = i(81);
e.__$$__meshim_widget_widgets_Controls = i(49);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(113), h = o(114), p = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "paper"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Gravatar, "gravatar", "", [], {
id: "gravatar",
addClass: "rounded_avatar"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "agent_profile_spacer"
} ], [ e.__$$__jx_ui_Widget, "agent_name", "", [], {
id: "agent_name",
addClass: "agent_name"
} ] ], {
addClass: "agent_profile"
} ], [ e.__$$__jx_ui_Widget, "chat_msg", "", [], {
id: "chat_msg",
addClass: "text_container"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "reply_btn", "", [ c ], {
placement: "primary",
id: "reply_btn",
addClass: "wide"
} ], [ e.__$$__meshim_widget_widgets_Button, "dismiss_btn", "", [ h ], {
placement: "secondary",
id: "dismiss_btn",
addClass: "wide secondary"
} ] ], {
addClass: "controls_container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatNotification": "meshim.widget.components.mobileChatNotification"
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
var m = n.get(a + "__gravatar"), $ = n.get(a + "__agent_name"), b = n.get(a + "__chat_msg"), w = n.get(a + "__reply_btn"), x = n.get(a + "__dismiss_btn");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t(t) {
m.setMemberNode(t);
}
function e(t) {
o && g.autounbind(o, "value", n);
o = t;
o && g.autobind(o, "value", n);
}
function n(t) {
if (t) {
"attachment" in t ? b.setText(r.chat_notification.attachment) : "msg$string" in t && b.setText(t.msg$string);
"display_name$string" in t && $.setText(t.display_name$string);
}
}
var o, r = i(11), s = i(5), a = i(25), _ = s.root.$("livechat").$("ui").$("chat_notification");
g.setAgentDataNode = t;
g.setLogDataNode = e;
!function() {
x.on("click", function() {
a.userDismissMobileNotification();
_.write({
dismiss_clicked$bool: !0
});
});
w.on("click", function() {
a.userReplyMobileNotification();
_.write({
reply_clicked$bool: !0
});
});
}();
}();
for (var y in v) v.hasOwnProperty(y) && (g[y] = v[y]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".paper": {
position: "absolute",
top: "14px",
"bottom, left, right": 0,
backgroundColor: "white",
opacity: "0.9",
zIndex: "-1",
boxShadow: "0 0 2px rgba(0, 0, 0, 0.5);",
borderRadius: "5px",
margin: "0 2px 2px"
},
".agent_profile": {
width: "100%",
display: [ "flex", "-webkit-flex" ],
"alignItems, -webkit-align-items": "flex-end",
position: "relative",
padding: "0 14px"
},
".rounded_avatar": {
"flexShrink, -webkit-flex-shrink": "0",
borderRadius: "50%",
"width, height": "40px",
border: "1px solid #ddd"
},
".agent_profile_spacer": {
"flexShrink, -webkit-flex-shrink": "0",
width: "8px"
},
".agent_name": {
"flexGrow, -webkit-flex-grow": "1",
position: "relative",
bottom: "4px",
color: "$$profileCardNameColor",
fontWeight: "bold",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap"
},
".controls_container": {
position: "absolute",
"bottom, left, right": 0,
padding: "10px"
},
".text_container": {
width: "100%",
padding: "10px",
paddingTop: "6px",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap"
}
};
a(t, "meshim_widget_components_mobileChatNotification_NotificationCard");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_FloatingFrame = i(73);
e.__$$__jx_ui_FullFrame = i(88);
e.__$$__meshim_widget_components_mobileChatNotification_NotificationCard = i(209);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(61);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__jx_ui_FullFrame, "notification_card_container", "", [ [ e.__$$__meshim_widget_components_mobileChatNotification_NotificationCard, "notification_card", "", [], {
id: "notification_card",
addClass: "notification_card"
} ] ], {
id: "notification_card_container",
addClass: "notification_card_container",
overflow: "hidden"
} ], [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatNotification": "meshim.widget.components.mobileChatNotification",
position: "fixed",
bottom: "0",
left: "0",
right: "0",
width: "100%",
height: "132px",
minWidth: "220px",
maxWidth: "350px",
marginLeft: "auto",
marginRight: "auto",
zIndex: "16000004",
useDisplay: "true",
visible: "false",
addClass: "zopim"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__notification_card_container"), f = n.get(s + "__notification_card");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
var t = window.innerWidth;
if (!(t < b)) {
var e = parseFloat(B.getValue()), i = e * u.MOBILE_ZOOM_ADDITIONAL;
$ / i > t && (i = ($ + 4) / t);
h.setStyle({
maxWidth: $ / i + "px",
height: m / i + "px"
});
p.setStyle({
transform: "scale(" + 1 / i + ")",
"-webkit-transform": "scale(" + 1 / i + ")",
transformOrigin: "top left",
"-webkit-transform-origin": "top left",
width: $ + "px",
height: m + "px"
});
}
}
function e(e) {
if (e && !(parseFloat(B.getValue()) > 1)) {
var i = S.getValue();
if (!(i > e || void 0 === i) && (e < A.getValue() || !A.getValue())) {
var n = I.getValue(), o = j.$("log").$(n), r = o.getValue(), s = r.nick$string, a = y.$("agents").$(s);
null === a.getValue() && (a = y.$("settings").$("concierge"));
t();
f.setAgentDataNode(a);
f.setLogDataNode(o);
l.showMobileNotification();
}
}
}
function n(t) {
h.setVisible(!0);
r = clearTimeout(r);
s.animate({
endStyle: x,
duration: 200
}, function(e) {
if (!e) {
T.write({
shown$bool: !0
});
r = setTimeout(l.hideMobileNotification, g);
}
t && t(e);
});
}
function o(t) {
r = clearTimeout(r);
s.animate({
endStyle: w,
duration: 200
}, function(e) {
e || h.setVisible(!1);
t && t(e);
});
}
var r, s, a = i(5), _ = i(89), l = i(25), d = i(67), u = i(34), c = i(47), g = 7200, m = 132, $ = 350, b = 980, w = {
opacity: 0,
translateY: "100%"
}, x = {
opacity: 1,
translateY: "0%"
}, v = a.root, y = v.$("livechat"), j = y.$("channel"), C = y.$("ui"), S = v.$("connection").$("reattached_timestamp$int"), A = j.$("first_visitor_msg_ts$int"), k = j.$("first_account_msg_ts$int"), I = j.$("first_account_msg_id$string"), T = C.$("chat_notification"), B = C.$("chat_button").$("mobile").$("calculated_styles").$("zoom$string");
!function() {
h.defaultPlacement.addClass(h.__jx__fqname);
h.defaultPlacement.addClass("meshim_widget_Widget");
h.setCSSStyle("willChange", "transform");
c(h.ibody);
s = new d(h, w);
h.autobind(k, "value", e);
h.moveDown = o;
h.moveUp = n;
_.registerChatNotification(h);
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {
".notification_card": {
position: "relative",
height: "122px",
width: "100%"
},
".notification_card_container": {
paddingLeft: "5px",
paddingRight: "5px"
}
};
s(t, "meshim_widget_components_MobileChatNotification");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_FullFrame = i(88);
e.__$$__meshim_widget_components_mobileChatWindow_MainScreen = i(116);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(61);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_FullFrame, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_MainScreen, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileWindow": "meshim.widget.components.mobileChatWindow"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(62), e = i(47);
!function() {
e(h);
t.init();
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_FullFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FullFrame;
t.__jx__jcss = {};
s(t, "meshim_widget_components_PopoutMobileChatWindow");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = u.getDocumentScrollElement();
_ = t.scrollTop;
l = t.scrollLeft;
}
function o() {
if (void 0 !== _) {
var t = u.getDocumentScrollElement();
t.scrollTop = _;
t.scrollLeft = l;
}
}
function r() {
if (a) return a;
a = document.scrollingElement ? document.scrollingElement : !d.isWebKit && d.isStrict ? document.documentElement : document.body || document.documentElement;
return a;
}
function s() {
_ = l = a = void 0;
}
var a, _, l, d = i(8), u = {
store: n,
restore: o,
resetState: s,
getDocumentScrollElement: r
};
t.exports = u;
e(u, "meshim_widget_components_mobileChatWindow_utils_storePageScrolling");
return u;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
var e, i, a;
if (document.body && document.body.style) {
n = document.body.style, t = !!t;
if (t && !o) {
for (e = 0, i = r.length; e < i; e++) {
a = r[e];
s[a] = n[a];
}
n.position = "fixed";
n.overflowY = "hidden";
n.webkitTextSizeAdjust = "100%";
n.width = "100%";
n.minHeight = "100%";
n.margin = "0px";
o = !0;
} else if (!t && o) {
for (e = 0, i = r.length; e < i; e++) {
a = r[e];
n[a] = s[a];
}
o = !1;
}
}
}
var n, o, r = [ "position", "overflowY", "webkitTextSizeAdjust", "width", "minHeight", "margin" ], s = {};
i.resetState = function() {
o = void 0;
s = {};
};
t.exports = i;
e(i, "meshim_widget_components_mobileChatWindow_utils_disablePageScrolling");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
var e;
if (t && !a) {
e = n();
r = e.getAttribute("content") || "";
e.setAttribute("content", _);
a = !0;
} else if (!t && a) {
e = n();
e.setAttribute("content", r);
a = !1;
}
}
function n() {
if (s) return s;
var t = document.head.querySelectorAll("meta[name=viewport]");
s = t[t.length - 1] || o();
return s;
}
function o() {
var t = document.createElement("meta");
t.setAttribute("name", "viewport");
document.head.appendChild(t);
return t;
}
var r, s, a, _ = "width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no";
i.resetState = function() {
s && s.parentNode.removeChild(s);
r = s = a = void 0;
};
t.exports = i;
e(i, "meshim_widget_components_mobileChatWindow_utils_disablePageZooming");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Toast = i(107);
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_widgets_IconFont = i(15);
e.__$$__jx_ui_html_span = i(31);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Toast, "", "", [ [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "arrow_down_long",
addClass: "arrow_down_long"
} ] ], {
addClass: "arrow_container"
} ], [ e.__$$__jx_ui_html_span, "message", "", [], {
id: "message"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
display: "inline-block",
useDisplay: "true",
visible: "false"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__message");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
t && n();
}
function e() {
r = !0;
h.setVisible(!0);
o.animate({
endStyle: c,
duration: 300,
delay: 500
});
}
function n() {
if (r) {
r = !1;
o.animate({
endStyle: u,
duration: 100
}, function(t) {
t || h.setVisible(!1);
});
}
}
var o, r, s = i(33), a = i(62), _ = i(5), l = i(67), d = i(11), u = {
opacity: 0
}, c = {
opacity: 1
}, f = _.root.$("livechat").$("ui"), g = f.$("chat_button").$("unread_count$int"), m = f.$("chat_window").$("chat_panel").$("scrollable"), $ = m.$("scrolled_to_bottom$bool"), b = m.$("smooth_scroll_count$int");
!function() {
o = new l(h, u);
h.autobind($, "value", t);
h.autobind(b, "value", t);
h.autobind(g, "value", function(t) {
if (t > 0) {
e();
p.setText(d.chat_panel[1 == t ? "new_message_below" : "new_messages_below"].replace("<number>", t));
} else n();
});
h.on("click", function() {
s.resetUnreadCount();
a.scrollToBottom();
});
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Toast.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Toast;
t.__jx__jcss = {
"**self": {
fontWeight: "bold"
},
".arrow_container": {
display: "inline-block",
paddingRight: "4px",
verticalAlign: "bottom"
}
};
s(t, "meshim_widget_components_mobileChatWindow_chatPanel_NewMessagesToast");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_TextArea = i(77);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_TextArea, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "unstyled"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
t = n(t, "checkNull") ? "" : t;
t !== h.getValue() && s.call(h, t);
e();
}
function e() {
h.setHeight(0).setHeight(h.getScrollHeight());
}
var n = i(26), o = i(5), r = o.root.$("livechat").$("ui").$("theme_loaded$bool"), s = h.setValue;
!function() {
h.setValue = t;
h.autobind(r, "value", function(t) {
t && e();
});
h.on("input", e);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_TextArea.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_TextArea;
t.__jx__jcss = {
"**self": {
overflowX: "hidden"
}
};
s(t, "meshim_widget_components_mobileChatWindow_chatPanel_AutoResizeTextArea");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Button = i(17);
e.__$$__meshim_widget_widgets_IconFont = i(15);
e.__$$__meshim_widget_widgets_SendFile = i(121);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AutoResizeTextArea = i(216);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "send", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "send",
addClass: "send"
} ] ], {
id: "send",
addClass: "send_button primary fit"
} ], [ e.__$$__meshim_widget_widgets_Button, "upload", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "upload",
addClass: "upload"
} ], [ e.__$$__meshim_widget_widgets_SendFile, "", "", [], {
addClass: "send_file"
} ] ], {
id: "upload",
addClass: "upload_button primary fit"
} ] ], {
addClass: "send_wrapper"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AutoResizeTextArea, "textarea", "", [], {
id: "textarea",
addClass: "textarea"
} ] ], {
addClass: "textarea_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatWindow": "meshim.widget.components.mobileChatWindow"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__send"), f = n.get(s + "__upload"), g = n.get(s + "__textarea");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
v.$("chat_window").update({
menu_stack_name$string: ""
});
}
function e() {
u.resetUnreadCount();
}
function n() {
d.isIOS && "ja" === a && _ && g.dom.scrollIntoViewIfNeeded();
c.userInputValue(g.getValue());
}
function o(t, e) {
if (s !== t || l !== e) {
s = t;
l = e;
if (l && s === I.FILE) {
p.setDisplay("none");
f.setDisplay("");
} else {
p.setDisplay("");
f.setDisplay("none");
}
}
}
function r() {
var t = A.getValue(), e = j.getValue("color_customization_enabled$int") || j.getValue("widget_customization_enabled$int"), i = !0;
e ? !1 === t && (i = !1) : i = !1;
o(s, i);
}
var s, a, _, l, d = i(8), u = i(33), c = i(62), m = i(5), $ = i(11), b = i(34), w = m.root, x = w.$("livechat"), v = x.$("ui"), y = v.$("chat_window").$("chat_panel").$("textarea").$("value$string"), j = x.$("settings").$("package"), C = x.$("settings").$("language").$("language$string"), S = x.$("settings").$("file_sending"), A = S.$("enabled$bool"), k = w.$("connection").$("status$string"), I = {
TEXT: 0,
FILE: 1
};
!function() {
g.setPlaceholder($.chat_panel.chattextarea_placeholder);
_ = !!g.dom.scrollIntoViewIfNeeded;
h.autobind(C, "value", function(t) {
a = t;
});
h.autobind(y, "value", function(t) {
g.setValue(t);
o(t ? I.TEXT : I.FILE, l);
});
h.autobind(A, "value", r);
h.autobind(j, "value", r);
g.on("input", n);
g.on("focus", function() {
e();
t();
c.userFocusTextArea();
});
g.on("keydown", function(t) {
if (13 === t.keyCode && !t.shiftKey && !t.ctrlKey && !t.altKey) {
t.preventDefault();
c.userSendMessage(g.getValue());
}
});
p.on("mousedown", function(i) {
b.isChromeIOSMobile || d.isIOS && "ja" === a || i.preventDefault();
d.isAndroid && g.dom.setSelectionRange && g.dom.setSelectionRange(0, 1);
c.userSendMessage(g.getValue());
e();
t();
});
h.autobind(k, "value", function(t) {
h.setDisabled("idle_disconnect" === t);
});
}();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
width: "100%",
display: [ "flex", "-webkit-flex" ],
borderWidth: "$$chatTextAreaBorderWidth",
borderStyle: "$$chatTextAreaBorderStyle",
borderColor: "$$chatTextAreaBorderColor",
"&.disabled": {
opacity: "0.5"
}
},
".textarea": {
width: "100%",
lineHeight: "1.3em",
maxHeight: "3.9em",
minHeight: "2em",
padding: "10px",
paddingBottom: "0px",
resize: "none"
},
".textarea_wrapper": {
"flexGrow, -webkit-flex-grow": "1",
"order, -webkit-order": "1"
},
".send_button, .upload_button": {
fontSize: "$$fontSizeXXL",
margin: "$$chatTextAreaSubmitMargin",
padding: "$$chatTextAreaSubmitPadding",
width: "44px",
height: "32px",
boxShadow: "inset 0px 2px 0px 0px rgba(255,255,255,0.30)",
borderRadius: "4px",
".send": {
paddingLeft: "3px",
paddingTop: "4px"
},
".upload": {
paddingTop: "3px"
}
},
".send_button.rtl .send": {
direction: "ltr"
},
".upload_button": {
position: "relative"
},
".send_file": {
position: "absolute",
"top, left": 0
},
".send_wrapper": {
"flexShrink, -webkit-flex-shrink": "0",
"order, -webkit-order": "2",
marginTop: "auto"
}
};
s(t, "meshim_widget_components_mobileChatWindow_chatPanel_ChatTextArea");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
var t = s.$("num_typing_agents$int").getValue();
if (t >= 1) {
h.setText((1 == t ? o.chat_panel.name_is_typing : o.chat_panel.agents_are_typing).replace("<name>", s.$("agent_names$string").getValue()));
h.setDisplay("");
} else h.setDisplay("none");
}
var e = i(7), n = i(5), o = i(11), r = n.root.$("livechat"), s = r.$("ui").$("chat_window").$("typing_info");
!function() {
h.autobind(s.$("num_typing_agents$int"), "value", t);
if (e && e.onLanguage) {
e.onLanguage(t);
h.onDestruction(function() {
e.unLanguage(t);
});
}
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
textAlign: "center"
}
};
s(t, "meshim_widget_components_mobileChatWindow_chatPanel_AgentTypingStatus");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader = i(139);
e.__$$__meshim_widget_components_chatWindow_chatPanel_Spinner = i(101);
e.__$$__meshim_widget_components_chatWindow_chatPanel_HistoryLog = i(100);
e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog = i(133);
e.__$$__meshim_widget_widgets_Branding = i(87);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AgentTypingStatus = i(218);
e.__$$__meshim_widget_widgets_CookieLawNotice = i(165);
e.__$$__meshim_widget_components_chatWindow_chatPanel_QueueMessage = i(132);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_ChatTextArea = i(217);
e.__$$__meshim_widget_widgets_TitleBar = i(168);
e.__$$__meshim_widget_widgets_MobileOptionsMenuIcon = i(166);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(82);
e.__$$__meshim_widget_components_chatWindow_chatPanel_File = i(140);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_NewMessagesToast = i(215);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "served_by_container", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader, "", "", [], {} ] ], {
id: "served_by_container",
addClass: "served_by_container"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "scrollable", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_Spinner, "large_spinner", "", [], {
id: "large_spinner",
addClass: "large_spinner",
size: "big",
visible: "false"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_Spinner, "small_spinner", "", [], {
id: "small_spinner",
visible: "false"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_HistoryLog, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog, "", "", [], {} ] ], {
addClass: "chat_log_wrapper"
} ] ], {
addClass: "chatlog_container"
} ], [ e.__$$__jx_ui_Widget, "branding_and_agent_typing_container", "", [ [ e.__$$__meshim_widget_widgets_Branding, "chatpanel_branding", "", [], {
id: "chatpanel_branding",
addClass: "chatpanel_branding"
} ], [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AgentTypingStatus, "agent_typing", "", [], {
id: "agent_typing",
class: "agent_typing"
} ] ], {
id: "branding_and_agent_typing_container",
addClass: "branding_and_agent_typing_container"
} ], [ e.__$$__meshim_widget_widgets_CookieLawNotice, "cookie_law_notice", "", [], {
id: "cookie_law_notice",
addClass: "cookie_law_notice"
} ] ], {
id: "scrollable",
addClass: "scrollable"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_QueueMessage, "queue_message", "", [], {
id: "queue_message",
addClass: "queue_message"
} ] ], {
addClass: "scrollable_container"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_ChatTextArea, "", "", [], {} ] ], {
addClass: "textarea_container"
} ] ], {
addClass: "main_flexbox"
} ], [ e.__$$__meshim_widget_widgets_TitleBar, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_MobileOptionsMenuIcon, "", "", [], {
addClass: "mobile_options_menu_icon"
} ], [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_File, "", "", [], {} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_NewMessagesToast, "", "", [], {
addClass: "new_messages_toast"
} ] ], {
addClass: "new_messages_toast_parent"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel",
"xmlns:mobileChatPanel": "meshim.widget.components.mobileChatWindow.chatPanel"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__served_by_container"), f = n.get(s + "__scrollable"), g = n.get(s + "__large_spinner"), m = n.get(s + "__small_spinner"), $ = n.get(s + "__branding_and_agent_typing_container"), b = n.get(s + "__chatpanel_branding"), w = (n.get(s + "__agent_typing"), 
n.get(s + "__cookie_law_notice")), x = n.get(s + "__queue_message");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t() {
if (R.getValue() && !W.getValue()) {
$.setDisplay("none");
w.setDisplay("");
x.setDisplay("none");
} else {
$.setDisplay("");
w.setDisplay("none");
x.setDisplay("");
}
}
function e(t) {
b[t ? "addClass" : "removeClass"]("hide");
}
function n(t) {
p[t ? "removeClass" : "addClass"]("hide");
}
function o() {
F.getValue() > 0 ? b.setDisplay("none") : b.setDisplay("");
}
function r(t) {
if (!V || !0 === t) {
var e = _();
if (e <= I) V = !1; else {
var i = Math.floor(Math.max(e * A, k));
M.scrollTop = M.scrollTop + i;
if (e - i > 0) {
V = !0;
H(function() {
r(!0);
});
} else V = !1;
}
}
}
function s() {
M.scrollTop = 99999999999;
c.userDistFromBottom(0);
}
function a() {
return M.scrollHeight - M.offsetHeight - M.scrollTop;
}
function _() {
var t = a();
c.userDistFromBottom(t);
d && z(t);
return t;
}
function l() {
function t() {
var t = O.getValue(), i = E.getValue();
"chat_panel" === t && !0 === i && e();
}
function e() {
f.setCSSStyle("webkitOverflowScrolling", "auto");
setTimeout(function() {
f.setCSSStyle("webkitOverflowScrolling", "touch");
}, 50);
}
h.autobind(E, "value", t);
h.autobind(O, "value", t);
}
var d, u = i(16), c = i(62), v = i(69), y = i(5), j = i(9), C = i(10), S = i(39), A = .25, k = 5, I = 1, T = y.root.$("livechat"), B = T.$("ui").$("chat_window").$("chat_panel").$("scrollable"), N = T.$("ui").$("chat_window").$("typing_info").$("agent_typing$bool"), D = T.$("ui").$("chat_window"), E = D.$("display$bool"), O = D.$("main_stack_name$string"), P = D.$("display_profile_card$bool"), L = D.$("chat_panel").$("served_by").$("visible$bool"), W = T.$("profile").$("allow_cookies$bool"), R = T.$("settings").$("cookie_law").$("enabled$bool"), F = T.$("channel").$("queue_position$int"), M = (T.$("ui").$("history").$("spinner_visibility"), 
f.dom), V = !1, H = window.requestAnimationFrame || u, z = S.debounce(function(t) {
M.scrollHeight - M.offsetHeight != 1 && (0 === t ? M.scrollTop = M.scrollHeight - M.offsetHeight - I : 0 === M.scrollTop && (M.scrollTop = I));
}, 50);
!function() {
j.rtl(h);
v.setupScrollListener(f, 60);
v.bindSpinnerUI(h, m, g);
f.on("scroll", _);
h.on("touchstart", c.userTouchStart);
h.on("touchmove", c.userTouchMove);
h.on("touchend", c.userTouchEnd);
h.autobind(N, "value", e);
h.autobind(F, "value", o);
h.autobind(B.$("smooth_scroll_count$int"), "value", r);
h.autobind(B.$("instant_scroll_count$int"), "value", s);
h.autobind(R, "value", t);
h.autobind(W, "value", t);
h.autobind(L, "value", n);
d = C.isStyleSupported("overflow-scrolling");
d && l();
h.autobind(P, "value", function(t) {
p.setDisplay(t ? "block" : "none");
});
}();
}();
for (var y in v) v.hasOwnProperty(y) && (h[y] = v[y]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
height: "100%"
},
".mobile_options_menu_icon": {
position: "absolute",
zIndex: "102"
},
"&.ltr": {
".mobile_options_menu_icon": {
"top, left": 0
}
},
"&.rtl": {
".mobile_options_menu_icon": {
"top, right": 0
}
},
".main_flexbox": {
paddingTop: "$$titleBarHeight",
position: "relative",
height: "100%",
display: [ "flex", "-webkit-flex" ],
"flexDirection, -webkit-flex-direction": "column"
},
".scrollable_container": {
position: "relative",
"flexGrow, -webkit-flex-grow": "1",
display: [ "flex", "-webkit-flex" ]
},
".scrollable": {
"flexGrow, -webkit-flex-grow": "1",
display: [ "flex", "-webkit-flex" ],
"flexDirection, -webkit-flex-direction": "column",
overflowY: "auto",
"-webkit-overflow-scrolling": "touch"
},
".served_by_container": {
"flexShrink, -webkit-flex-shrink": "0",
transition: "transform 0.3s",
position: "absolute",
zIndex: 1,
width: "100%",
padding: "10px",
background: "white",
borderWidth: "$$chatPanelProfileCardContainerBorderWidth",
borderStyle: "$$chatPanelProfileCardContainerBorderStyle",
borderColor: "$$chatPanelProfileCardContainerBorderColor",
"&.hide": {
transform: "translateY(-60px)"
}
},
".chatlog_container": {
position: "relative",
marginTop: "auto",
"flexShrink, -webkit-flex-shrink": "0"
},
".chat_log_wrapper": {
paddingTop: "60px",
margin: "$$chatLogMargin"
},
".branding_and_agent_typing_container": {
position: "relative",
"flexShrink, -webkit-flex-shrink": "0",
height: "1.5em",
width: "100%"
},
".chatpanel_branding": {
position: "absolute",
transition: "opacity 2.5s 0.5s",
padding: "0px 15px 5px"
},
".chatpanel_branding.hide": {
visibility: "hidden",
transition: "none",
opacity: 0
},
".agent_typing": {
paddingTop: "2px",
width: "100%",
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis"
},
".cookie_law_notice": {
"flexShrink, -webkit-flex-shrink": "0",
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
textAlign: "center",
height: "21px"
},
".textarea_container": {
position: "relative",
"flexShrink, -webkit-flex-shrink": "0"
},
".new_messages_toast_parent": {
position: "absolute",
bottom: "115px",
width: "100%",
height: "0px",
textAlign: "center"
},
".new_messages_toast": {
maxWidth: "80%"
},
".large_spinner": {
position: "absolute",
margin: "auto",
"top, left, right": "0",
bottom: "40px"
},
".queue_message": {
position: "absolute",
bottom: "0px",
left: "10px",
right: "10px",
background: "white",
height: "30px",
padding: "7px 0"
}
};
s(t, "meshim_widget_components_mobileChatWindow_ChatPanel");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_IFrame = i(172);
e.__$$__meshim_widget_components_mobileChatWindow_MainScreen = i(116);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(61);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_IFrame, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_MainScreen, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileWindow": "meshim.widget.components.mobileChatWindow",
top: "0",
left: "0",
width: "100%",
height: "100%",
position: "fixed",
zIndex: "16000003",
minWidth: "100%",
maxWidth: "100%",
minHeight: "100%",
maxHeight: "100%",
useDisplay: "true",
visible: "false"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
h.setVisible(!0);
l.store();
a(!0);
o.animate({
endStyle: p,
duration: 500
}, function(e) {
e || _(!0);
t && t(e);
});
}
function e(t) {
_(!1);
a(!1);
l.restore();
o.animate({
endStyle: c,
duration: 300
}, function(e) {
e || h.setVisible(!1);
t && t(e);
});
}
function n() {
var t = h.idoc.createElement("meta");
t.setAttribute("name", "viewport");
t.setAttribute("content", "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no");
h.idoc.head.appendChild(t);
}
var o, r = i(62), s = i(89), a = i(214), _ = i(213), l = i(212), d = i(67), u = i(47), c = {
opacity: 0,
translateY: "100%"
}, p = {
opacity: 1,
translateY: "0%"
};
!function() {
h.defaultPlacement.addClass(h.__jx__fqname);
h.defaultPlacement.addClass("meshim_widget_Widget");
u(h.ibody);
r.init();
n();
o = new d(h, c);
h.moveDown = e;
h.moveUp = t;
s.registerChatWindow(h);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_IFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_IFrame;
t.__jx__jcss = {};
s(t, "meshim_widget_components_MobileChatWindow");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_Label = i(19);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "unread_badge"
} ], [ e.__$$__jx_ui_Label, "unread_badge_text", "", [], {
id: "unread_badge_text",
addClass: "unread_badge_text"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
var h = n.get(s + "__unread_badge_text");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = 0;
c.updateUnread = function(e) {
var i = Math.min(e, 99);
if (i !== t) {
t = i;
if (t) {
h.setText(t);
c.setOpacity(1);
} else c.setOpacity(0);
}
};
}();
for (var f in p) p.hasOwnProperty(f) && (c[f] = p[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "22px",
height: "22px"
},
".unread_badge": {
position: "absolute",
top: "0",
left: "0",
height: "100%",
width: "100%",
background: "#EF4444",
border: "1px solid #AF1E1E",
boxShadow: "0px 0px 3px 0px rgba(0,0,0,0.6)",
borderRadius: "50%"
},
".unread_badge_text": {
position: "absolute",
top: "0",
left: "0",
width: "100%",
height: "100%",
fontWeight: "700",
fontSize: "12px",
color: "#FFF",
lineHeight: "22px",
textAlign: "center"
}
};
s(t, "meshim_widget_components_mobileChatUnreadCountBadge_UnreadCount");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_FloatingFrame = i(73);
e.__$$__meshim_widget_components_mobileChatUnreadCountBadge_UnreadCount = i(221);
e.__$$__meshim_widget_components_mobileChatButton_TappingScreen = i(117);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__meshim_widget_components_mobileChatUnreadCountBadge_UnreadCount, "mobile_unread", "", [], {
id: "mobile_unread",
opacity: "0"
} ], [ e.__$$__meshim_widget_components_mobileChatButton_TappingScreen, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatButton": "meshim.widget.components.mobileChatButton",
"xmlns:mobileChatUnreadCountBadge": "meshim.widget.components.mobileChatUnreadCountBadge",
useDisplay: "true",
visible: "false",
cursor: "pointer"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__mobile_unread");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
if (x && n && b > 0 && o) {
h.setDisplay("");
r.animate({
endStyle: d,
duration: 200
});
} else r.animate({
endStyle: l,
duration: 200
}, function(t) {
t || h.setDisplay("none");
});
}
function e() {
var t = f.getValue();
if (t && 0 != t.width$string && 0 != t.height$string) {
for (var e, i, n, o, r = t.zoom$string, s = t.scale$string, a = 0, l = _.cssom_prefixes.length; a < l; a++) {
h.wrapper.setStyle(_.cssom_prefixes[a] + "Transform", "scale(" + s + ")");
h.wrapper.setStyle(_.cssom_prefixes[a] + "TransformOrigin", "0 0");
}
if ("auto" === t.left$string) {
e = "auto";
i = parseFloat(t.right$string) - 14 * s;
} else {
i = "auto";
e = parseFloat(t.left$string) + parseFloat(t.width$string) - 14 * s;
}
if ("auto" === t.bottom$string) {
o = "auto";
n = parseFloat(t.top$string) - 14 * s;
} else {
n = "auto";
o = parseFloat(t.bottom$string) + parseFloat(t.height$string) - 14 * s;
}
h.setStyle({
top: "",
right: "",
bottom: "",
left: ""
});
h.setStyle({
position: t.position$string,
top: n,
right: i,
left: e,
bottom: o,
height: h.wrapper.getHeight() / r,
width: h.wrapper.getWidth() / r
});
}
}
var n, o, r, s = i(5), a = i(67), _ = i(10), l = {
opacity: 0
}, d = {
opacity: 1
}, u = s.root.$("livechat"), c = u.$("ui").$("chat_button"), f = c.$("mobile").$("calculated_styles"), g = u.$("settings").$("theme").$("chat_button").$("position_mobile$string"), m = c.$("fully_visible$bool"), $ = c.$("unread_count$int"), b = 0, w = u.$("channel").$("chatting$bool"), x = u.$("ui").$("mobile$bool").getValue();
!function() {
if (x) {
r = new a(h, l);
h.dom.className = "zopim";
h.content.setStyle("textAlign", "left");
h.content.addClass("meshim_widget_Widget");
h.wrapper.addClass(h.__jx__fqname);
h.iframe.style.verticalAlign = "top";
h.autobind(f, "value", e);
h.autobind(g, "value", e);
h.autobind(m, "value", function(e) {
if (n !== e) {
n = e;
t();
}
});
h.autobind($, "value", function(i) {
if (b !== i) {
b = i;
t();
e();
p.updateUnread(b);
}
});
h.autobind(w, "value", function(e) {
if (o !== e) {
o = e;
t();
}
});
}
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {
"**self": {
padding: "3px"
}
};
s(t, "meshim_widget_components_MobileChatUnreadCountBadge");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
t = s.shallowExtend({}, t);
for (var e in t) if (t.hasOwnProperty(e) && o(e, r) > -1) {
for (var i = "", n = 0, a = r.length; n < a; n++) {
var _ = r[n];
if (_ in t) {
i += _ + "(" + t[_] + ")";
delete t[_];
}
}
t.transform = i;
t.webkitTransform = i;
}
return t;
}
var o = i(24), r = [ "matrix", "translate", "translateX", "translateY", "scale", "scaleX", "scaleY", "rotate", "skew", "skewX", "skewY", "matrix3d", "translate3d", "translateZ", "scale3d", "scaleZ", "rotate3d", "rotateX", "rotateY", "rotateZ", "perspective" ], s = i(10);
t.exports = n;
e(n, "meshim_widget_utils_propsToCSSStyle");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
!function(t, i) {
!function(t) {
"use strict";
function e() {}
function i(t) {
var e;
t = (t + "").trim().toLowerCase();
return (e = b.exec(t)) ? (e = parseInt(e[1], 16), new r(e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, (15 & e) << 4 | 15 & e)) : (e = w.exec(t)) ? n(parseInt(e[1], 16)) : (e = x.exec(t)) ? new r(e[1], e[2], e[3]) : (e = v.exec(t)) ? new r(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100) : (e = y.exec(t)) ? new a(e[1], e[2] / 100, e[3] / 100) : j.hasOwnProperty(t) ? n(j[t]) : null;
}
function n(t) {
return new r(t >> 16 & 255, t >> 8 & 255, 255 & t);
}
function o(t, n, o) {
if (1 === arguments.length) {
t instanceof e || (t = i(t));
if (t) {
t = t.rgb();
o = t.b;
n = t.g;
t = t.r;
} else t = n = o = NaN;
}
return new r(t, n, o);
}
function r(t, e, i) {
this.r = +t;
this.g = +e;
this.b = +i;
}
function s(t, n, o) {
if (1 === arguments.length) if (t instanceof a) {
o = t.l;
n = t.s;
t = t.h;
} else {
t instanceof e || (t = i(t));
if (t) {
if (t instanceof a) return t;
t = t.rgb();
var r = t.r / 255, s = t.g / 255, _ = t.b / 255, l = Math.min(r, s, _), d = Math.max(r, s, _), u = d - l;
o = (d + l) / 2;
if (u) {
n = o < .5 ? u / (d + l) : u / (2 - d - l);
t = r === d ? (s - _) / u + 6 * (s < _) : s === d ? (_ - r) / u + 2 : (r - s) / u + 4;
t *= 60;
} else {
t = NaN;
n = o > 0 && o < 1 ? 0 : t;
}
} else t = n = o = NaN;
}
return new a(t, n, o);
}
function a(t, e, i) {
this.h = +t;
this.s = +e;
this.l = +i;
}
function _(t, e, i) {
return 255 * (t < 60 ? e + (i - e) * t / 60 : t < 180 ? i : t < 240 ? e + (i - e) * (240 - t) / 60 : e);
}
function l(t, e, i) {
if (1 === arguments.length) if (t instanceof d) {
i = t.b;
e = t.a;
t = t.l;
} else if (t instanceof g) {
var n = t.h * A;
i = Math.sin(n) * t.c;
e = Math.cos(n) * t.c;
t = t.l;
} else {
t instanceof r || (t = o(t));
i = p(t.r);
e = p(t.g);
t = p(t.b);
var s = u((.4124564 * i + .3575761 * e + .1804375 * t) / I), a = u((.2126729 * i + .7151522 * e + .072175 * t) / T), _ = u((.0193339 * i + .119192 * e + .9503041 * t) / B);
i = 200 * (a - _);
e = 500 * (s - a);
t = 116 * a - 16;
}
return new d(t, e, i);
}
function d(t, e, i) {
this.l = +t;
this.a = +e;
this.b = +i;
}
function u(t) {
return t > O ? Math.pow(t, 1 / 3) : t / E + N;
}
function c(t) {
return t > D ? t * t * t : E * (t - N);
}
function h(t) {
return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055);
}
function p(t) {
return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);
}
function f(t, e, i) {
if (1 === arguments.length) if (t instanceof g) {
i = t.l;
e = t.c;
t = t.h;
} else {
t instanceof d || (t = l(t));
i = t.l;
e = Math.sqrt(t.a * t.a + t.b * t.b);
t = Math.atan2(t.b, t.a) * k;
t < 0 && (t += 360);
}
return new g(t, e, i);
}
function g(t, e, i) {
this.h = +t;
this.c = +e;
this.l = +i;
}
function m(t, e, i) {
if (1 === arguments.length) if (t instanceof $) {
i = t.l;
e = t.s;
t = t.h;
} else {
t instanceof r || (t = o(t));
var n = t.r / 255, s = t.g / 255, a = t.b / 255;
i = (U * a + H * n - z * s) / (U + H - z);
var _ = a - i, l = (V * (s - i) - F * _) / M;
e = Math.sqrt(l * l + _ * _) / (V * i * (1 - i));
t = e ? Math.atan2(l, _) * k - 120 : NaN;
t < 0 && (t += 360);
}
return new $(t, e, i);
}
function $(t, e, i) {
this.h = +t;
this.s = +e;
this.l = +i;
}
var b = /^#([0-9a-f]{3})$/, w = /^#([0-9a-f]{6})$/, x = /^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/, v = /^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/, y = /^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/, j = {
aliceblue: 15792383,
antiquewhite: 16444375,
aqua: 65535,
aquamarine: 8388564,
azure: 15794175,
beige: 16119260,
bisque: 16770244,
black: 0,
blanchedalmond: 16772045,
blue: 255,
blueviolet: 9055202,
brown: 10824234,
burlywood: 14596231,
cadetblue: 6266528,
chartreuse: 8388352,
chocolate: 13789470,
coral: 16744272,
cornflowerblue: 6591981,
cornsilk: 16775388,
crimson: 14423100,
cyan: 65535,
darkblue: 139,
darkcyan: 35723,
darkgoldenrod: 12092939,
darkgray: 11119017,
darkgreen: 25600,
darkgrey: 11119017,
darkkhaki: 12433259,
darkmagenta: 9109643,
darkolivegreen: 5597999,
darkorange: 16747520,
darkorchid: 10040012,
darkred: 9109504,
darksalmon: 15308410,
darkseagreen: 9419919,
darkslateblue: 4734347,
darkslategray: 3100495,
darkslategrey: 3100495,
darkturquoise: 52945,
darkviolet: 9699539,
deeppink: 16716947,
deepskyblue: 49151,
dimgray: 6908265,
dimgrey: 6908265,
dodgerblue: 2003199,
firebrick: 11674146,
floralwhite: 16775920,
forestgreen: 2263842,
fuchsia: 16711935,
gainsboro: 14474460,
ghostwhite: 16316671,
gold: 16766720,
goldenrod: 14329120,
gray: 8421504,
green: 32768,
greenyellow: 11403055,
grey: 8421504,
honeydew: 15794160,
hotpink: 16738740,
indianred: 13458524,
indigo: 4915330,
ivory: 16777200,
khaki: 15787660,
lavender: 15132410,
lavenderblush: 16773365,
lawngreen: 8190976,
lemonchiffon: 16775885,
lightblue: 11393254,
lightcoral: 15761536,
lightcyan: 14745599,
lightgoldenrodyellow: 16448210,
lightgray: 13882323,
lightgreen: 9498256,
lightgrey: 13882323,
lightpink: 16758465,
lightsalmon: 16752762,
lightseagreen: 2142890,
lightskyblue: 8900346,
lightslategray: 7833753,
lightslategrey: 7833753,
lightsteelblue: 11584734,
lightyellow: 16777184,
lime: 65280,
limegreen: 3329330,
linen: 16445670,
magenta: 16711935,
maroon: 8388608,
mediumaquamarine: 6737322,
mediumblue: 205,
mediumorchid: 12211667,
mediumpurple: 9662683,
mediumseagreen: 3978097,
mediumslateblue: 8087790,
mediumspringgreen: 64154,
mediumturquoise: 4772300,
mediumvioletred: 13047173,
midnightblue: 1644912,
mintcream: 16121850,
mistyrose: 16770273,
moccasin: 16770229,
navajowhite: 16768685,
navy: 128,
oldlace: 16643558,
olive: 8421376,
olivedrab: 7048739,
orange: 16753920,
orangered: 16729344,
orchid: 14315734,
palegoldenrod: 15657130,
palegreen: 10025880,
paleturquoise: 11529966,
palevioletred: 14381203,
papayawhip: 16773077,
peachpuff: 16767673,
peru: 13468991,
pink: 16761035,
plum: 14524637,
powderblue: 11591910,
purple: 8388736,
rebeccapurple: 6697881,
red: 16711680,
rosybrown: 12357519,
royalblue: 4286945,
saddlebrown: 9127187,
salmon: 16416882,
sandybrown: 16032864,
seagreen: 3050327,
seashell: 16774638,
sienna: 10506797,
silver: 12632256,
skyblue: 8900331,
slateblue: 6970061,
slategray: 7372944,
slategrey: 7372944,
snow: 16775930,
springgreen: 65407,
steelblue: 4620980,
tan: 13808780,
teal: 32896,
thistle: 14204888,
tomato: 16737095,
turquoise: 4251856,
violet: 15631086,
wheat: 16113331,
white: 16777215,
whitesmoke: 16119285,
yellow: 16776960,
yellowgreen: 10145074
};
i.prototype = e.prototype = {
displayable: function() {
return this.rgb().displayable();
},
toString: function() {
return this.rgb() + "";
}
};
var C = o.prototype = r.prototype = new e();
C.brighter = function(t) {
t = null == t ? 1 / .7 : Math.pow(1 / .7, t);
return new r(this.r * t, this.g * t, this.b * t);
};
C.darker = function(t) {
t = null == t ? .7 : Math.pow(.7, t);
return new r(this.r * t, this.g * t, this.b * t);
};
C.rgb = function() {
return this;
};
C.displayable = function() {
return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255;
};
C.toString = function() {
var t = Math.round(this.r), e = Math.round(this.g), i = Math.round(this.b);
return "#" + (isNaN(t) || t <= 0 ? "00" : t < 16 ? "0" + t.toString(16) : t >= 255 ? "ff" : t.toString(16)) + (isNaN(e) || e <= 0 ? "00" : e < 16 ? "0" + e.toString(16) : e >= 255 ? "ff" : e.toString(16)) + (isNaN(i) || i <= 0 ? "00" : i < 16 ? "0" + i.toString(16) : i >= 255 ? "ff" : i.toString(16));
};
var S = s.prototype = a.prototype = new e();
S.brighter = function(t) {
t = null == t ? 1 / .7 : Math.pow(1 / .7, t);
return new a(this.h, this.s, this.l * t);
};
S.darker = function(t) {
t = null == t ? .7 : Math.pow(.7, t);
return new a(this.h, this.s, this.l * t);
};
S.rgb = function() {
var t = this.h % 360 + 360 * (this.h < 0), e = isNaN(t) || isNaN(this.s) ? 0 : this.s, i = this.l, n = i + (i < .5 ? i : 1 - i) * e, o = 2 * i - n;
return new r(_(t >= 240 ? t - 240 : t + 120, o, n), _(t, o, n), _(t < 120 ? t + 240 : t - 120, o, n));
};
S.displayable = function() {
return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1;
};
var A = Math.PI / 180, k = 180 / Math.PI, I = .95047, T = 1, B = 1.08883, N = 4 / 29, D = 6 / 29, E = 3 * D * D, O = D * D * D, P = l.prototype = d.prototype = new e();
P.brighter = function(t) {
return new d(this.l + 18 * (null == t ? 1 : t), this.a, this.b);
};
P.darker = function(t) {
return new d(this.l - 18 * (null == t ? 1 : t), this.a, this.b);
};
P.rgb = function() {
var t = (this.l + 16) / 116, e = isNaN(this.a) ? t : t + this.a / 500, i = isNaN(this.b) ? t : t - this.b / 200;
t = T * c(t);
e = I * c(e);
i = B * c(i);
return new r(h(3.2404542 * e - 1.5371385 * t - .4985314 * i), h(-.969266 * e + 1.8760108 * t + .041556 * i), h(.0556434 * e - .2040259 * t + 1.0572252 * i));
};
var L = f.prototype = g.prototype = new e();
L.brighter = function(t) {
return new g(this.h, this.c, this.l + 18 * (null == t ? 1 : t));
};
L.darker = function(t) {
return new g(this.h, this.c, this.l - 18 * (null == t ? 1 : t));
};
L.rgb = function() {
return l(this).rgb();
};
var W = -.14861, R = 1.78277, F = -.29227, M = -.90649, V = 1.97294, H = V * M, z = V * R, U = R * F - M * W, q = m.prototype = $.prototype = new e();
q.brighter = function(t) {
t = null == t ? 1 / .7 : Math.pow(1 / .7, t);
return new $(this.h, this.s, this.l * t);
};
q.darker = function(t) {
t = null == t ? .7 : Math.pow(.7, t);
return new $(this.h, this.s, this.l * t);
};
q.rgb = function() {
var t = isNaN(this.h) ? 0 : (this.h + 120) * A, e = +this.l, i = isNaN(this.s) ? 0 : this.s * e * (1 - e), n = Math.cos(t), o = Math.sin(t);
return new r(255 * (e + i * (W * n + R * o)), 255 * (e + i * (F * n + M * o)), 255 * (e + i * (V * n)));
};
t.version = "0.3.4";
t.color = i;
t.rgb = o;
t.hsl = s;
t.lab = l;
t.hcl = f;
t.cubehelix = m;
}(e);
}();
}, function(t, e, i) {
!function(t, n) {
!function(t, e) {
"use strict";
function i(t, i) {
t = e.rgb(t);
i = e.rgb(i);
var n = t.r, o = t.g, r = t.b, s = i.r - n, a = i.g - o, _ = i.b - r;
return function(e) {
t.r = n + s * e;
t.g = o + a * e;
t.b = r + _ * e;
return t + "";
};
}
function n(t, e) {
var i, n = [], o = [], r = t ? t.length : 0, s = e ? e.length : 0, a = Math.min(r, s);
for (i = 0; i < a; ++i) n.push(l(t[i], e[i]));
for (;i < r; ++i) o[i] = t[i];
for (;i < s; ++i) o[i] = e[i];
return function(t) {
for (i = 0; i < a; ++i) o[i] = n[i](t);
return o;
};
}
function o(t, e) {
return t = +t, e -= t, function(i) {
return t + e * i;
};
}
function r(t, e) {
var i, n = {}, o = {};
null !== t && "object" == typeof t || (t = {});
null !== e && "object" == typeof e || (e = {});
for (i in t) i in e ? n[i] = l(t[i], e[i]) : o[i] = t[i];
for (i in e) i in t || (o[i] = e[i]);
return function(t) {
for (i in n) o[i] = n[i](t);
return o;
};
}
function s(t) {
return function() {
return t;
};
}
function a(t) {
return function(e) {
return t(e) + "";
};
}
function _(t, e) {
var i, n, r, _ = P.lastIndex = L.lastIndex = 0, l = -1, d = [], u = [];
t += "", e += "";
for (;(i = P.exec(t)) && (n = L.exec(e)); ) {
if ((r = n.index) > _) {
r = e.slice(_, r);
d[l] ? d[l] += r : d[++l] = r;
}
if ((i = i[0]) === (n = n[0])) d[l] ? d[l] += n : d[++l] = n; else {
d[++l] = null;
u.push({
i: l,
x: o(i, n)
});
}
_ = L.lastIndex;
}
if (_ < e.length) {
r = e.slice(_);
d[l] ? d[l] += r : d[++l] = r;
}
return d.length < 2 ? u[0] ? a(u[0].x) : s(e) : (e = u.length, function(t) {
for (var i, n = 0; n < e; ++n) d[(i = u[n]).i] = i.x(t);
return d.join("");
});
}
function l(t, e) {
for (var i, n = W.length; --n >= 0 && !(i = W[n](t, e)); ) ;
return i;
}
function d(t, e) {
return t = +t, e -= t, function(i) {
return Math.round(t + e * i);
};
}
function u(t) {
O || (O = document.createElementNS("http://www.w3.org/2000/svg", "g"));
t && (O.setAttribute("transform", t), e = O.transform.baseVal.consolidate());
var e, i = e ? e.matrix : F, n = [ i.a, i.b ], o = [ i.c, i.d ], r = h(n), s = c(n, o), a = h(p(o, n, -s)) || 0;
if (n[0] * o[1] < o[0] * n[1]) {
n[0] *= -1;
n[1] *= -1;
r *= -1;
s *= -1;
}
this.rotate = (r ? Math.atan2(n[1], n[0]) : Math.atan2(-o[0], o[1])) * R;
this.translate = [ i.e, i.f ];
this.scale = [ r, a ];
this.skew = a ? Math.atan2(s, a) * R : 0;
}
function c(t, e) {
return t[0] * e[0] + t[1] * e[1];
}
function h(t) {
var e = Math.sqrt(c(t, t));
e && (t[0] /= e, t[1] /= e);
return e;
}
function p(t, e, i) {
t[0] += i * e[0];
t[1] += i * e[1];
return t;
}
function f(t) {
return t.length ? t.pop() + "," : "";
}
function g(t, e, i, n) {
if (t[0] !== e[0] || t[1] !== e[1]) {
var r = i.push("translate(", null, ",", null, ")");
n.push({
i: r - 4,
x: o(t[0], e[0])
}, {
i: r - 2,
x: o(t[1], e[1])
});
} else (e[0] || e[1]) && i.push("translate(" + e + ")");
}
function m(t, e, i, n) {
if (t !== e) {
t - e > 180 ? e += 360 : e - t > 180 && (t += 360);
n.push({
i: i.push(f(i) + "rotate(", null, ")") - 2,
x: o(t, e)
});
} else e && i.push(f(i) + "rotate(" + e + ")");
}
function $(t, e, i, n) {
t !== e ? n.push({
i: i.push(f(i) + "skewX(", null, ")") - 2,
x: o(t, e)
}) : e && i.push(f(i) + "skewX(" + e + ")");
}
function b(t, e, i, n) {
if (t[0] !== e[0] || t[1] !== e[1]) {
var r = i.push(f(i) + "scale(", null, ",", null, ")");
n.push({
i: r - 4,
x: o(t[0], e[0])
}, {
i: r - 2,
x: o(t[1], e[1])
});
} else 1 === e[0] && 1 === e[1] || i.push(f(i) + "scale(" + e + ")");
}
function w(t, e) {
var i = [], n = [];
t = new u(t), e = new u(e);
g(t.translate, e.translate, i, n);
m(t.rotate, e.rotate, i, n);
$(t.skew, e.skew, i, n);
b(t.scale, e.scale, i, n);
t = e = null;
return function(t) {
for (var e, o = -1, r = n.length; ++o < r; ) i[(e = n[o]).i] = e.x(t);
return i.join("");
};
}
function x(t) {
return ((t = Math.exp(t)) + 1 / t) / 2;
}
function v(t) {
return ((t = Math.exp(t)) - 1 / t) / 2;
}
function y(t) {
return ((t = Math.exp(2 * t)) - 1) / (t + 1);
}
function j(t, e) {
var i, n, o = t[0], r = t[1], s = t[2], a = e[0], _ = e[1], l = e[2], d = a - o, u = _ - r, c = d * d + u * u;
if (c < z) {
n = Math.log(l / s) / M;
i = function(t) {
return [ o + t * d, r + t * u, s * Math.exp(M * t * n) ];
};
} else {
var h = Math.sqrt(c), p = (l * l - s * s + H * c) / (2 * s * V * h), f = (l * l - s * s - H * c) / (2 * l * V * h), g = Math.log(Math.sqrt(p * p + 1) - p), m = Math.log(Math.sqrt(f * f + 1) - f);
n = (m - g) / M;
i = function(t) {
var e = t * n, i = x(g), a = s / (V * h) * (i * y(M * e + g) - v(g));
return [ o + a * d, r + a * u, s * i / x(M * e + g) ];
};
}
i.duration = 1e3 * n;
return i;
}
function C(t, e) {
var i = t - e;
return i > 180 || i < -180 ? i - 360 * Math.round(i / 360) : i;
}
function S(t, i) {
t = e.hsl(t);
i = e.hsl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.s) ? i.s : t.s, r = t.l, s = isNaN(i.h) ? 0 : C(i.h, n), a = isNaN(i.s) ? 0 : i.s - o, _ = i.l - r;
return function(e) {
t.h = n + s * e;
t.s = o + a * e;
t.l = r + _ * e;
return t + "";
};
}
function A(t, i) {
t = e.hsl(t);
i = e.hsl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.s) ? i.s : t.s, r = t.l, s = isNaN(i.h) ? 0 : i.h - n, a = isNaN(i.s) ? 0 : i.s - o, _ = i.l - r;
return function(e) {
t.h = n + s * e;
t.s = o + a * e;
t.l = r + _ * e;
return t + "";
};
}
function k(t, i) {
t = e.lab(t);
i = e.lab(i);
var n = t.l, o = t.a, r = t.b, s = i.l - n, a = i.a - o, _ = i.b - r;
return function(e) {
t.l = n + s * e;
t.a = o + a * e;
t.b = r + _ * e;
return t + "";
};
}
function I(t, i) {
t = e.hcl(t);
i = e.hcl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.c) ? i.c : t.c, r = t.l, s = isNaN(i.h) ? 0 : C(i.h, n), a = isNaN(i.c) ? 0 : i.c - o, _ = i.l - r;
return function(e) {
t.h = n + s * e;
t.c = o + a * e;
t.l = r + _ * e;
return t + "";
};
}
function T(t, i) {
t = e.hcl(t);
i = e.hcl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.c) ? i.c : t.c, r = t.l, s = isNaN(i.h) ? 0 : i.h - n, a = isNaN(i.c) ? 0 : i.c - o, _ = i.l - r;
return function(e) {
t.h = n + s * e;
t.c = o + a * e;
t.l = r + _ * e;
return t + "";
};
}
function B(t, i, n) {
arguments.length < 3 && (n = 1);
t = e.cubehelix(t);
i = e.cubehelix(i);
var o = isNaN(t.h) ? i.h : t.h, r = isNaN(t.s) ? i.s : t.s, s = t.l, a = isNaN(i.h) ? 0 : C(i.h, o), _ = isNaN(i.s) ? 0 : i.s - r, l = i.l - s;
return function(e) {
t.h = o + a * e;
t.s = r + _ * e;
t.l = s + l * Math.pow(e, n);
return t + "";
};
}
function N(t, i, n) {
arguments.length < 3 && (n = 1);
t = e.cubehelix(t);
i = e.cubehelix(i);
var o = isNaN(t.h) ? i.h : t.h, r = isNaN(t.s) ? i.s : t.s, s = t.l, a = isNaN(i.h) ? 0 : i.h - o, _ = isNaN(i.s) ? 0 : i.s - r, l = i.l - s;
return function(e) {
t.h = o + a * e;
t.s = r + _ * e;
t.l = s + l * Math.pow(e, n);
return t + "";
};
}
function D(t, e) {
e = U.call(e);
e[0] = null;
e.unshift(null);
return function(i, n) {
e[0] = i;
e[1] = n;
return t.apply(null, e);
};
}
function E(t) {
return 1 === arguments.length ? t : D(t, arguments);
}
var O, P = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, L = new RegExp(P.source, "g"), W = [ function(t, s) {
var a, l = typeof s;
return ("string" === l ? (a = e.color(s)) ? (s = a, i) : _ : s instanceof e.color ? i : Array.isArray(s) ? n : "object" === l && isNaN(s) ? r : o)(t, s);
} ], R = 180 / Math.PI, F = {
a: 1,
b: 0,
c: 0,
d: 1,
e: 0,
f: 0
}, M = Math.SQRT2, V = 2, H = 4, z = 1e-12, U = Array.prototype.slice;
t.version = "0.4.0";
t.interpolate = l;
t.interpolators = W;
t.interpolateArray = n;
t.interpolateNumber = o;
t.interpolateObject = r;
t.interpolateRound = d;
t.interpolateString = _;
t.interpolateTransform = w;
t.interpolateZoom = j;
t.interpolateRgb = i;
t.interpolateHsl = S;
t.interpolateHslLong = A;
t.interpolateLab = k;
t.interpolateHcl = I;
t.interpolateHclLong = T;
t.interpolateCubehelix = B;
t.interpolateCubehelixLong = N;
t.interpolateBind = E;
}(e, i(224));
}();
}, function(t, e, i) {
!function(t, i) {
!function(t) {
"use strict";
function e(t, e) {
return function(i) {
return t(i, e);
};
}
function i(t, e, i) {
return function(n) {
return t(n, e, i);
};
}
function n(t, e) {
e = D.call(e);
e[0] = null;
return function(i) {
e[0] = i;
return t.apply(null, e);
};
}
function o(t, o, r) {
switch (arguments.length) {
case 1:
return t;

case 2:
return e(t, o);

case 3:
return i(t, o, r);

default:
return n(t, arguments);
}
}
function r(t) {
return +t;
}
function s(t) {
return t * t;
}
function a(t) {
return t * (2 - t);
}
function _(t) {
return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;
}
function l(t) {
return t * t * t;
}
function d(t) {
return --t * t * t + 1;
}
function u(t) {
return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}
function c(t, e) {
null == e && (e = 3);
return Math.pow(t, e);
}
function h(t, e) {
null == e && (e = 3);
return 1 - Math.pow(1 - t, e);
}
function p(t, e) {
null == e && (e = 3);
return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
}
function f(t) {
return 1 - Math.cos(t * O);
}
function g(t) {
return Math.sin(t * O);
}
function m(t) {
return (1 - Math.cos(E * t)) / 2;
}
function $(t) {
return Math.pow(2, 10 * t - 10);
}
function b(t) {
return 1 - Math.pow(2, -10 * t);
}
function w(t) {
return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;
}
function x(t) {
return 1 - Math.sqrt(1 - t * t);
}
function v(t) {
return Math.sqrt(1 - --t * t);
}
function y(t) {
return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;
}
function j(t) {
return 1 - C(1 - t);
}
function C(t) {
return t < P ? U * t * t : t < W ? U * (t -= L) * t + R : t < M ? U * (t -= F) * t + V : U * (t -= H) * t + z;
}
function S(t) {
return ((t *= 2) <= 1 ? 1 - C(1 - t) : C(t - 1) + 1) / 2;
}
function A(t, e) {
e = null == e ? 1.70158 : +e;
return t * t * ((e + 1) * t - e);
}
function k(t, e) {
e = null == e ? 1.70158 : +e;
return --t * t * ((e + 1) * t + e) + 1;
}
function I(t, e) {
e = null == e ? 1.70158 : +e;
return ((t *= 2) < 1 ? t * t * ((e + 1) * t - e) : (t -= 2) * t * ((e + 1) * t + e) + 2) / 2;
}
function T(t, e, i) {
e = null == e ? 1 : Math.max(1, e);
i = (null == i ? .3 : i) / q;
return e * Math.pow(2, 10 * --t) * Math.sin((i * Math.asin(1 / e) - t) / i);
}
function B(t, e, i) {
e = null == e ? 1 : Math.max(1, e);
i = (null == i ? .3 : i) / q;
return 1 - e * Math.pow(2, -10 * t) * Math.sin((+t + i * Math.asin(1 / e)) / i);
}
function N(t, e, i) {
e = null == e ? 1 : Math.max(1, e);
i = (null == i ? .3 : i) / q;
var n = i * Math.asin(1 / e);
return ((t = 2 * t - 1) < 0 ? e * Math.pow(2, 10 * t) * Math.sin((n - t) / i) : 2 - e * Math.pow(2, -10 * t) * Math.sin((n + t) / i)) / 2;
}
var D = Array.prototype.slice, E = Math.PI, O = E / 2, P = 4 / 11, L = 6 / 11, W = 8 / 11, R = .75, F = 9 / 11, M = 10 / 11, V = .9375, H = 21 / 22, z = 63 / 64, U = 1 / P / P, q = 2 * Math.PI;
t.version = "0.5.1";
t.easeBind = o;
t.easeLinearIn = r;
t.easeLinearOut = r;
t.easeLinearInOut = r;
t.easeQuadIn = s;
t.easeQuadOut = a;
t.easeQuadInOut = _;
t.easeCubicIn = l;
t.easeCubicOut = d;
t.easeCubicInOut = u;
t.easePolyIn = c;
t.easePolyOut = h;
t.easePolyInOut = p;
t.easeSinIn = f;
t.easeSinOut = g;
t.easeSinInOut = m;
t.easeExpIn = $;
t.easeExpOut = b;
t.easeExpInOut = w;
t.easeCircleIn = x;
t.easeCircleOut = v;
t.easeCircleInOut = y;
t.easeBounceIn = j;
t.easeBounceOut = C;
t.easeBounceInOut = S;
t.easeBackIn = A;
t.easeBackOut = k;
t.easeBackInOut = I;
t.easeElasticIn = T;
t.easeElasticOut = B;
t.easeElasticInOut = N;
}(e);
}();
}, function(t, e, i) {
!function(t, i) {
!function(t) {
"use strict";
function e(t, e, i) {
this.id = ++d;
this.restart(t, e, i);
}
function i(t, i, n) {
return new e(t, i, n);
}
function n(t) {
t = null == t ? Date.now() : +t;
++_;
try {
for (var e = s; e; ) {
t >= e.time && (0, e.callback)(t - e.time, t);
e = e.next;
}
} finally {
--_;
}
}
function o() {
_ = l = 0;
try {
n();
} finally {
for (var t, e = s, i = 1 / 0; e; ) if (e.callback) {
i > e.time && (i = e.time);
e = (t = e).next;
} else e = t ? t.next = e.next : s = e.next;
a = t;
r(i);
}
}
function r(t) {
if (!_) {
l && (l = clearTimeout(l));
var e = t - Date.now();
e > 24 ? t < 1 / 0 && (l = setTimeout(o, e)) : (_ = 1, c(o));
}
}
var s, a, _ = 0, l = 0, d = 0, u = {}, c = "undefined" != typeof window && (window.requestAnimationFrame || window.msRequestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.oRequestAnimationFrame) || function(t) {
return setTimeout(t, 17);
};
e.prototype = i.prototype = {
restart: function(t, e, i) {
if ("function" != typeof t) throw new TypeError("callback is not a function");
i = (null == i ? Date.now() : +i) + (null == e ? 0 : +e);
var n = this.id, o = u[n];
if (o) o.callback = t, o.time = i; else {
o = {
next: null,
callback: t,
time: i
};
a ? a.next = o : s = o;
u[n] = a = o;
}
r();
},
stop: function() {
var t = this.id, e = u[t];
if (e) {
e.callback = null, e.time = 1 / 0;
delete u[t];
r();
}
}
};
t.version = "0.1.0";
t.timer = i;
t.timerFlush = n;
}(e);
}();
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Favicon = i(118);
e.__$$__jx_ui_Label = i(19);
e.__$$__meshim_widget_widgets_BorderOverlay = i(86);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Favicon, "", "", [], {
addClass: "favicon"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "status_text_wrapper", "", [ [ e.__$$__jx_ui_Label, "status_text", "", [], {
id: "status_text"
} ], [ e.__$$__jx_ui_Label, "", "", [], {
text: " - "
} ] ], {
addClass: "status",
id: "status_text_wrapper"
} ], [ e.__$$__jx_ui_Label, "greeting", "", [], {
id: "greeting"
} ] ], {
addClass: "button_text"
} ], [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
var h = n.get(s + "__status_text_wrapper"), p = n.get(s + "__status_text"), f = n.get(s + "__greeting");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
c.setLanguageDirection = function(t) {
"rtl" == t ? c.addClass("is-rtl") : c.removeClass("is-rtl");
};
c.setStatusDisplay = function(t) {
h.setDisplay(t ? "" : "none");
};
c.setStatusText = function(t) {
p.setText(t);
};
c.updateGreeting = function(t) {
f.setText(t);
};
}();
for (var m in g) g.hasOwnProperty(m) && (c[m] = g[m]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
paddingLeft: "$$faviconWidth",
overflow: "hidden"
},
"&.is-rtl": {
paddingLeft: 0,
paddingRight: "$$faviconWidth"
},
".favicon": {
position: "absolute",
height: "100%",
left: 0,
verticalAlign: "text-top",
textAlign: "center",
paddingTop: "8px",
width: "$$faviconWidth",
background: "$$faviconBg",
color: "$$faviconColor",
"borderTopLeftRadius, borderBottomLeftRadius": "$$chatButtonRadius"
},
"&.is-rtl .favicon": {
left: "auto",
right: 0,
"borderTopLeftRadius, borderBottomLeftRadius": 0,
"borderTopRightRadius, borderBottomRightRadius": "$$chatButtonRadius"
},
".button_text": {
position: "relative",
overflow: "hidden",
verticalAlign: "text-top",
width: "100%",
bottom: "0",
whiteSpace: "nowrap",
fontWeight: "$$chatButtonFontWeight",
lineHeight: "$$chatButtonHeight",
paddingLeft: "$$chatButtonPaddingFavicon",
paddingRight: "$$chatButtonPadding",
".status": {
fontWeight: "$$chatButtonStatusFontWeight"
}
},
".border_overlay": {
borderWidth: "$$chatButtonBorderWidth",
borderStyle: "$$chatButtonBorderStyle",
borderColor: "$$chatButtonBorderColor"
},
"&.is-rtl .button_text": {
paddingLeft: "$$chatButtonPadding",
paddingRight: "$$chatButtonPaddingFavicon"
}
};
s(t, "meshim_widget_components_mobileChatButton_ButtonBar");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_components_mobileChatButton_ButtonBar = i(228);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatButton_ButtonBar, "button_bar", "", [], {
id: "button_bar",
addClass: "button_bar"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mobileChatButton": "meshim.widget.components.mobileChatButton",
visibility: "hidden"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__button_bar");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
m(e, h, !0);
}
function e() {
O.update(parseInt(h.getWidth(), 10) || parseInt($.getVariable("chatButtonMinWidth"), 10));
P.update(parseInt($.getVariable("chatButtonHeight"), 10));
if (!c && u) {
h.setVisibility("");
c = !0;
}
}
var n, o, r, s, a, _, l, d, u, c, f = i(7), g = i(20), m = i(16), $ = i(2), b = i(5), w = i(9), x = i(11), v = i(97), y = b.root.$("livechat"), j = y.$("ui"), C = j.$("chat_button"), S = C.$("display$bool"), A = y.$("account").$("status$string"), k = y.$("settings").$("theme").$("chat_button").$("display_status$bool"), I = -1, T = y.$("settings").$("greetings"), B = T.$("online$string"), N = T.$("offline$string"), D = y.$("settings").$("cookie_law").$("enabled$bool"), E = y.$("profile").$("allow_cookies$bool"), O = C.$("button_width$int"), P = C.$("button_height$int"), L = j.$("theme_loaded$bool"), W = j.$("lang_dir$string"), R = y.$("channel").$("chatting$bool");
!function() {
function e() {
var t;
t = a && void 0 !== _ && !_ ? x.cookie_law.disabled_mobile : "offline" != o || d ? x.chat_button.mobile_greeting.online : x.chat_button.mobile_greeting.offline;
if (u != t) {
u = t;
p.updateGreeting(t);
}
}
function i() {
var t = "offline" == o && d ? x.status.online : x.status[o || "offline"];
p.setStatusText(t);
$(e);
}
function c() {
$(e);
}
function $() {
for (var e = 0, i = arguments.length; e < i; e++) g(arguments[e]) && arguments[e]();
t();
}
w.rtl(h);
h.autobind(S, "value", function(t) {
if (n !== t) {
n = t;
$();
}
});
h.autobind(B, "value", function(t) {
r = t;
$(e);
});
h.autobind(N, "value", function(t) {
s = t;
$(e);
});
h.autobind(E, "value", function(t) {
_ = t;
$(e);
});
h.autobind(R, "value", function(t) {
if (d !== t) {
d = t;
$(i);
}
});
h.autobind(D, "value", function(t) {
a = t;
$(e);
});
h.autobind(L, "value", t);
if (f && f.onLanguage) {
f.onLanguage(c);
h.onDestruction(function() {
f.unLanguage(c);
});
}
h.autobind(k, "value", function(t) {
if (I !== t) {
I = t;
p.setStatusDisplay(t);
$();
}
});
h.autobind(A, "value", function(t) {
if (o !== t) {
o = t;
$(i);
}
});
h.autobind(W, "value", function(t) {
if (void 0 !== t && l !== t) {
l = t;
p.setLanguageDirection(t);
}
});
m(v.ieQuirksModeFix);
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
margin: "0 auto",
position: "relative",
"bottom, left": "auto",
paddingRight: "0px",
paddingTop: "0px"
},
".button_bar": {
minWidth: "0",
maxWidth: "$$chatButtonMaxWidth",
height: "$$chatButtonHeight",
color: "$$chatButtonColor",
background: "$$chatButtonBg",
boxShadow: "$$chatButtonShadow",
borderRadius: "$$chatButtonRadius"
}
};
s(t, "meshim_widget_components_mobileChatButton_Button");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_FloatingFrame = i(73);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(61);
e.__$$__meshim_widget_components_mobileChatButton_Button = i(229);
e.__$$__meshim_widget_components_mobileChatButton_TappingScreen = i(117);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ], [ e.__$$__meshim_widget_components_mobileChatButton_Button, "", "", [], {} ], [ e.__$$__meshim_widget_components_mobileChatButton_TappingScreen, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatButton": "meshim.widget.components.mobileChatButton",
useDisplay: "true",
visible: "false"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
h.setVisible(!0);
s.animate({
endStyle: x,
duration: R ? 200 : 0
}, function(e) {
e || I.update(!0);
t && t(e);
});
R = !0;
}
function e(t) {
I.update(!1);
s.animate({
endStyle: v,
duration: 200
}, function(e) {
e || h.setVisible(!1);
t && t(e);
});
}
function n(t) {
return "auto" !== t ? t + "px" : t;
}
function o() {
var t, e, i, o, s, a, l, d, u, c, p, m, $, x, v, y, j, C, S, k, I = h.wrapper.getWidth(), T = h.wrapper.getHeight();
if (W) {
t = W.scale;
i = W.pageLeft;
o = W.pageTop;
l = window.innerWidth;
d = window.innerHeight;
u = W.offsetLeft;
c = W.offsetTop;
s = W.width;
a = W.height;
} else {
t = g.getZoomLevel();
i = window.pageXOffset;
o = window.pageYOffset;
s = window.innerWidth;
a = window.innerHeight;
}
e = (1 / t).toFixed(2);
p = I / t;
m = T / t;
v = g.getOffset();
y = _.isIOS && t >= 1 ? "absolute" : "fixed";
for (var B = 0, N = f.cssom_prefixes.length; B < N; B++) {
h.wrapper.setStyle(f.cssom_prefixes[B] + "Transform", "scale(" + e + ")");
h.wrapper.setStyle(f.cssom_prefixes[B] + "TransformOrigin", "0 0");
}
h.setStyle({
position: y,
width: p + "px",
height: m + "px",
top: "",
right: "",
bottom: "",
left: ""
});
$ = L;
x = P;
if ("br" === r) {
void 0 === O.getValue() && (x += b);
void 0 === E.getValue() && ($ += w);
}
$ /= t;
x /= t;
j = k = C = S = "auto";
if ("fixed" === y) if (W) {
"bl" === r ? k = u + $ : C = l - (s + u) + $;
S = d - (a + c) + x;
} else {
"bl" === r ? k = $ : C = $;
S = x;
} else {
j = Math.ceil(o + a - m - x - v.top);
k = "bl" === r ? Math.ceil(i + $ - v.left) : Math.floor(i + s - p - $ - v.left);
}
j = n(j);
C = n(C);
S = n(S);
k = n(k);
A.update({
height$string: m,
width$string: p,
zoom$string: t,
scale$string: e,
position$string: y,
top$string: j,
right$string: C,
bottom$string: S,
left$string: k
});
h.setStyle({
top: j,
right: C,
bottom: S,
left: k
});
M();
}
var r, s, a = i(14), _ = i(8), l = i(39), d = i(40), u = i(5), c = i(89), p = i(67), f = i(10), g = i(34), m = i(47), $ = i(74), b = 5, w = 5, x = {
opacity: 1,
translateY: "0%"
}, v = {
opacity: 0,
translateY: "50%"
}, y = u.root.$("livechat"), j = y.$("settings"), C = y.$("ui"), S = C.$("chat_button"), A = S.$("mobile").$("calculated_styles"), k = S.$("display$bool"), I = S.$("fully_visible$bool"), T = S.$("button_width$int"), B = S.$("button_height$int"), N = j.$("theme").$("chat_button"), D = N.$("position_mobile$string"), E = N.$("h_offset_mobile$int"), O = N.$("v_offset_mobile$int"), P = 10, L = 10, W = window.visualViewport, R = !1;
h.on("show", function() {
F();
});
var F = l.debounce(o, 300), M = d.once(function() {
c.registerChatButton(h);
});
!function() {
$.bind(h.iwin);
W && "offsetTop" in W && "offsetLeft" in W && "pageTop" in W && "pageLeft" in W || (W = null);
s = new p(h, v);
h.dom.className = "zopim";
h.iframe.setStyle("display", "block");
h.content.addClass("meshim_widget_Widget");
h.wrapper.addClass(h.__jx__fqname);
h.ibody.style.overflow = "hidden";
m(h.ibody);
h.wrapper.addClass("mobile").setStyle({
position: "absolute",
top: 0,
left: 0
});
h.content.setStyle("textAlign", "left");
h.iframe.style.verticalAlign = "top";
h.autobind(E, "value", function(t) {
t = parseInt(t, 10);
if (L != t && !isNaN(t) && t >= 0) {
L = t;
F();
}
});
h.autobind(O, "value", function(t) {
t = parseInt(t, 10);
if (P != t && !isNaN(t) && t >= 0) {
P = t;
F();
}
});
h.autobind(D, "value", function(t) {
if (t && r != t) {
"bl" != t && "br" != t && (t = "br");
r && h.wrapper.removeClass(r);
r = t;
r && h.wrapper.addClass(r);
F();
}
});
if (W) {
W.addEventListener("scroll", F);
W.addEventListener("resize", F);
} else {
a.window.on("orientationchange", F);
a.window.on("resize", F);
a.window.on("scroll", F);
}
h.autobind(T, "value", function(t) {
t && F();
});
h.autobind(B, "value", function(t) {
t && F();
});
h.autobind(k, "value", F);
h.moveUp = t;
h.moveDown = e;
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {};
s(t, "meshim_widget_components_MobileChatButton");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "img");
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(6);
n.prototype = o(r.prototype);
n.prototype.getAlt = function() {
return this.dom.alt;
};
n.prototype.setAlt = function(t) {
this.dom.alt = t;
return this;
};
t.exports = n;
e(n, "jx_ui_Image");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Favicon = i(118);
e.__$$__jx_ui_Label = i(19);
e.__$$__meshim_widget_widgets_BorderOverlay = i(86);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Favicon, "", "", [], {
addClass: "favicon"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "status_text_wrapper", "", [ [ e.__$$__jx_ui_Label, "status_text", "", [], {
id: "status_text"
} ], [ e.__$$__jx_ui_Label, "", "", [], {
text: " - "
} ] ], {
addClass: "status",
id: "status_text_wrapper"
} ], [ e.__$$__jx_ui_Label, "greeting", "", [], {
id: "greeting",
addClass: "greeting"
} ] ], {
addClass: "blinds blinds_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "unread", "", [], {
id: "unread",
text: "XX new messages"
} ] ], {
addClass: "blinds blinds_bottom"
} ] ], {
addClass: "button_text"
} ], [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__status_text_wrapper"), f = n.get(s + "__status_text"), g = n.get(s + "__greeting"), m = n.get(s + "__unread");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
s && r > 0 ? h.addClass("unread") : h.removeClass("unread");
m.setText(o.chat_button[1 == r ? "unread_one" : "unread_many"].replace("<number>", r));
}
var e = i(7), n = i(12), o = i(11), r = 0, s = !1;
h.setIsChatting = function(e) {
var i = n(e);
if (s !== i) {
s = i;
t();
}
};
h.setLanguageDirection = function(t) {
"rtl" == t ? h.addClass("is-rtl") : h.removeClass("is-rtl");
};
h.setStatusDisplay = function(t) {
p.setDisplay(t ? "" : "none");
};
h.setStatusText = function(t) {
f.setText(t);
};
h.updateUnread = function(e) {
if (r !== e) {
r = parseInt(e, 10) || 0;
t();
}
};
h.updateGreeting = function(t) {
g.setText(t);
};
!function() {
if (e && e.onLanguage) {
e.onLanguage(t);
h.onDestruction(function() {
e.unLanguage(t);
});
}
}();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
paddingLeft: "$$faviconWidth",
overflow: "hidden"
},
"&.is-rtl": {
paddingLeft: 0,
paddingRight: "$$faviconWidth"
},
"&.unread .button_text ": {
bottom: "100%"
},
".blinds": {
"width, height": "100%",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap"
},
".favicon": {
position: "absolute",
height: "100%",
left: 0,
verticalAlign: "text-top",
textAlign: "center",
paddingTop: "8px",
width: "$$faviconWidth",
background: "$$faviconBg",
color: "$$faviconColor"
},
"&.is-rtl .favicon": {
left: "auto",
right: 0
},
".button_text": {
position: "relative",
overflow: "hidden",
verticalAlign: "text-top",
width: "100%",
bottom: "0",
transition: "bottom 0.3s ease-in-out",
fontWeight: "$$chatButtonFontWeight",
lineHeight: "$$chatButtonHeight",
paddingLeft: "$$chatButtonPaddingFavicon",
paddingRight: "$$chatButtonPadding",
".status": {
fontWeight: "$$chatButtonStatusFontWeight"
}
},
".border_overlay": {
borderWidth: "$$chatButtonBorderWidth",
borderStyle: "$$chatButtonBorderStyle",
borderColor: "$$chatButtonBorderColor"
},
"&.is-rtl .button_text": {
paddingLeft: "$$chatButtonPadding",
paddingRight: "$$chatButtonPaddingFavicon"
}
};
s(t, "meshim_widget_components_chatButton_ButtonBar");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_components_chatButton_ButtonBar = i(232);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatButton_ButtonBar, "button_bar", "", [], {
id: "button_bar",
addClass: "button_bar"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatButton": "meshim.widget.components.chatButton",
visibility: "hidden"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__button_bar");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
m(e, h, !0);
}
function e() {
L.update(parseInt(h.getWidth(), 10) || parseInt($.getVariable("chatButtonMinWidth"), 10));
W.update(parseInt($.getVariable("chatButtonHeight"), 10));
if (!c && u) {
h.setVisibility("");
c = !0;
}
}
var n, o, r, s, a, _, l, d, u, c, f = i(7), g = i(20), m = i(16), $ = i(2), b = i(5), w = i(9), x = i(11), v = i(97), y = b.root.$("livechat"), j = y.$("ui"), C = j.$("chat_button"), S = C.$("display$bool"), A = C.$("unread_count$int"), k = 0, I = y.$("account").$("status$string"), T = y.$("settings").$("theme").$("chat_button").$("display_status$bool"), B = -1, N = y.$("settings").$("greetings"), D = N.$("online$string"), E = N.$("offline$string"), O = y.$("settings").$("cookie_law").$("enabled$bool"), P = y.$("profile").$("allow_cookies$bool"), L = C.$("button_width$int"), W = C.$("button_height$int"), R = j.$("theme_loaded$bool"), F = j.$("lang_dir$string"), M = y.$("channel").$("chatting$bool");
!function() {
function e() {
var t;
t = a && void 0 !== _ && !_ ? x.cookie_law.disabled : "offline" != o || d ? x.get(D) : x.get(E);
if (u != t) {
u = t;
p.updateGreeting(t);
}
}
function i() {
var t = "offline" == o && d ? x.status.online : x.status[o || "offline"];
p.setStatusText(t);
b(e);
}
function c() {
p.updateUnread(k);
}
function $() {
b(c, e);
}
function b() {
for (var e = 0, i = arguments.length; e < i; e++) g(arguments[e]) && arguments[e]();
t();
}
w.rtl(h);
h.autobind(S, "value", function(t) {
if (n !== t) {
n = t;
b();
}
});
h.autobind(A, "value", function(t) {
k = t;
b(c);
});
h.autobind(D, "value", function(t) {
r = t;
b(e);
});
h.autobind(E, "value", function(t) {
s = t;
b(e);
});
h.autobind(P, "value", function(t) {
_ = t;
b(e);
});
h.autobind(M, "value", function(t) {
if (d !== t) {
d = t;
p.setIsChatting(t);
b(i);
}
});
h.autobind(O, "value", function(t) {
a = t;
b(e);
});
h.autobind(R, "value", t);
if (f && f.onLanguage) {
f.onLanguage($);
h.onDestruction(function() {
f.unLanguage($);
});
}
h.autobind(T, "value", function(t) {
if (B !== t) {
B = t;
p.setStatusDisplay(t);
b();
}
});
h.autobind(I, "value", function(t) {
if (o !== t) {
o = t;
b(i);
}
});
h.autobind(F, "value", function(t) {
if (void 0 !== t && l !== t) {
l = t;
p.setLanguageDirection(t);
}
});
m(v.ieQuirksModeFix);
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
margin: "0 auto",
position: "absolute",
"bottom, left": 0
},
".button_bar": {
"minWidth, *width": "$$chatButtonMinWidth",
maxWidth: "$$chatButtonMaxWidth",
height: "$$chatButtonHeight",
color: "$$chatButtonColor",
background: "$$chatButtonBg",
boxShadow: "$$chatButtonShadow"
},
"**self, **self *": {
cursor: "pointer"
}
};
s(t, "meshim_widget_components_chatButton_Button");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, n, a, _) {
function l(t, e) {
return [ [ t, 0, 0 ], [ 0, e, 0 ], [ 0, 0, 1 ] ];
}
function d(t, e) {
return [ [ 1, 0, t ], [ 0, 1, e ], [ 0, 0, 1 ] ];
}
function u(t) {
return [ t[0][0], t[1][0], t[0][1], t[1][1], t[0][2], t[1][2] ].join(" ");
}
function c(t) {
var e = f.generateSvgLinearGradient(m, t), i = m.createElementNS("http://www.w3.org/2000/svg", "defs");
i.appendChild(e);
g.parentNode.appendChild(i);
g.setAttribute("fill", "url(#" + e.id + ")");
return g;
}
function h(t, e) {
var i, n, o = [];
for (var r in t) if (t.hasOwnProperty(r)) {
i = e ? m.createElementNS(e, r) : m.createElement(r);
n = t[r];
for (var s in n) n.hasOwnProperty(s) && i.setAttribute(s, n[s]);
o.push(i);
}
return o;
}
function p() {
for (var t = [ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ], e = 0; e < arguments.length; e++) {
for (var i = [], n = arguments[e], o = 0; o < 3; o++) {
i[o] = [];
for (var r = 0; r < 3; r++) {
for (var s = 0, a = 0; a < 3; a++) s += t[o][a] * n[a][r];
i[o][r] = s;
}
}
t = i;
}
return t;
}
var f = i(60);
e = e || o.generateID();
var g, m = t.ownerDocument;
g = m.createElementNS("http://www.w3.org/2000/svg", "path");
g.vectorType = "svg";
o.extend(g);
r.extend(g);
o.set(e, g);
var $ = !1;
g.appendToParent = function(e) {
o.hasParentNode(g) || o.appendChild(t, g);
if (e && !$) {
t.appendToParent && t.appendToParent(!0);
$ = !0;
}
};
g.setClass = function(t) {
g.setAttribute("class", t);
return g;
};
g.addClass = function(t) {
g.setAttribute("class", g.getAttribute("class") + " " + t);
return g;
};
g.removeClass = function(t) {
var e = g.getAttribute("class"), i = new RegExp("\\b" + t + "\\b", "g");
e.replace(i, "");
g.setAttribute("class", e);
return g;
};
g.setPath = function(t) {
g.setAttribute("d", t);
return g;
};
g.setOpacity = function(t) {
g.style.opacity = parseFloat(t);
return g;
};
g.setFill = function(t) {
/linear/.test(t) ? c(t) : g.setAttribute("fill", t);
return g;
};
g.setStroke = function(t) {
g.setAttribute("stroke", t);
return g;
};
g.setStrokeWidth = function(t) {
g.setAttribute("stroke-width", t);
return g;
};
var b = [ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ];
g.resetTransform = function() {
g.setAttribute("transform", "");
b = [ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ];
return g;
};
g.moveRight = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return g;
b = p(b, d(e, 0));
g.setAttribute("transform", "matrix(" + u(b) + ")");
return g;
};
g.setLeft = g.moveRight;
g.moveDown = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return g;
b = p(b, d(0, e));
g.setAttribute("transform", "matrix(" + u(b) + ")");
return g;
};
g.setTop = g.moveDown;
g.flipAlong = function(t) {
t = t.split("");
for (var e = 0; e < t.length; e++) {
var i = g.getBBox();
switch (t[e]) {
case "x":
b = p(b, l(-1, 1), d(-(2 * i.x + i.width), 0));
g.setAttribute("transform", "matrix(" + u(b) + ")");
break;

case "y":
b = p(b, l(1, -1), d(0, -(2 * i.y + i.height)));
g.setAttribute("transform", "matrix(" + u(b) + ")");
}
}
if (s.isWebkit) {
var n = g.getAttribute("filter");
g.setAttribute("filter", "");
g.setAttribute("filter", n);
}
return g;
};
g.setShadow = function(t) {
t = f.parseShadow(t);
var e, i;
if (!s.isOpera) {
var n = {
feOffset: {
result: "offset-out",
in: "SourceGraphic",
dx: t.offsetX,
dy: t.offsetY
},
feColorMatrix: {
result: "matrix-out",
in: "offset-out",
type: "matrix",
values: "0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 1 0"
},
feGaussianBlur: {
result: "blur-out",
in: "matrix-out",
stdDeviation: t.blurRadius / 2
},
feBlend: {
in: "SourceGraphic",
in2: "blur-out",
mode: "normal"
}
};
e = m.createElementNS("http://www.w3.org/2000/svg", "filter"), i = "sha_" + new Date().getTime();
e.setAttribute("id", i);
for (var o = h(n, "http://www.w3.org/2000/svg"), r = 0; r < o.length; r++) e.appendChild(o[r]);
var a = m.createElementNS("http://www.w3.org/2000/svg", "defs");
a.appendChild(e);
g.parentNode.appendChild(a);
g.setAttribute("filter", "url(#" + i + ")");
return g;
}
};
o.addChildren(g, a);
g.appendToParent();
g.setStyle(n);
g.setAttributes(_);
return g;
}
var o = i(3), r = i(14), s = i(8);
t.exports = n;
e(n, "meshim_common_SvgShape");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, n, s, a) {
var _ = i(60);
e = e || o.generateID();
var l, d = t.ownerDocument;
l = _.createVMLNode(d, "shape");
l.className = "vml";
l.style.width = "100%";
l.style.height = "100%";
l.stroked = !1;
l.filled = !0;
l.fillColor = "#000000";
l.vectorType = "vml";
var u = _.createVMLNode(d, "skew");
u.className = "vml";
u.setAttribute("on", "true");
u.setAttribute("matrix", "1,0,0,1,0,0");
u.setAttribute("offset", "-0.5,-0.5");
l.appendChild(u);
o.extend(l);
r.extend(l);
o.set(e, l);
var c = !1;
l.appendToParent = function(e) {
o.hasParentNode(l) || o.appendChild(t, l);
if (e && !c) {
t.appendToParent && t.appendToParent(!0);
c = !0;
}
if ("vml" == l.vectorType) {
l.style.width = "100%";
l.style.height = "100%";
}
};
l.moveRight = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return l;
l.style.left = (parseInt(l.style.left, 10) || 0) + e;
var i = l.style.display;
l.style.display = "none";
l.style.display = i;
};
l.setLeft = l.moveRight;
l.moveDown = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return l;
l.style.top = (parseInt(l.style.top, 10) || 0) + e;
var i = l.style.display;
l.style.display = "none";
l.style.display = i;
};
l.setTop = l.moveDown;
l.setPath = function(t) {
var e, i;
t = t.replace(/c/g, "v").replace(/z/g, "x").replace(/m/g, "t").replace(/l/g, "r").replace(/L/g, "l") + "e";
i = l.getElementsByTagName("v:path")[0];
e = i || _.createVMLNode(d, "path");
e.className = "vml";
e.setAttribute("v", t);
l.appendChild(e);
return l;
};
l.setOpacity = function(t) {
var e = parseFloat(t), i = _.createVMLNode(d, "fill");
i.className = "vml";
i.setAttribute("opacity", e);
i.setAttribute("o:opacity2", e);
l.appendChild(i);
return l;
};
l.setFill = function(t) {
var e = _.createVMLNode(d, "fill");
e.className = "vml";
if (/linear/.test(t)) e = _.generateVmlLinearGradient(d, t); else {
e = _.createVMLNode(d, "fill");
e.className = "vml";
"none" == t ? e.setAttribute("on", "false") : e.setAttribute("on", "true");
e.setAttribute("color", t);
}
l.appendChild(e);
return l;
};
l.setStroke = function(t) {
var e = _.createVMLNode(d, "stroke");
e.className = "vml";
"none" == t ? e.setAttribute("on", "false") : e.setAttribute("on", "true");
e.setAttribute("color", t);
l.appendChild(e);
return l;
};
l.setStrokeWidth = function(t) {
var e = _.createVMLNode(d, "stroke");
e.className = "vml";
t = parseInt(t, 10);
e.setAttribute("on", "true");
e.setAttribute("weight", t);
l.appendChild(e);
return l;
};
var h = 1, p = 1;
l.resetTransform = function() {
h = p = 1;
l.style.left = l.style.top = NaN;
return l;
};
l.flipAlong = function(t) {
t = t.split("");
for (var e = 0; e < t.length; e++) switch (t[e]) {
case "x":
h = -h;
break;

case "y":
p = -p;
}
var i = "";
-1 == h && (i += "x");
-1 == p && (i += "y");
l.style.flip = i;
return l;
};
l.setShadow = function(t) {
var e = _.createVMLNode(d, "shadow");
e.className = "vml";
t = _.parseShadow(t);
e.setAttribute("on", "true");
e.setAttribute("opacity", t.opacity);
e.setAttribute("color", t.color);
e.setAttribute("offset", t.offsetX + "px," + t.offsetY + "px");
l.appendChild(e);
return l;
};
o.addChildren(l, s);
l.appendToParent();
l.setStyle(n);
l.setAttributes(a);
return l;
}
var o = i(3), r = i(14);
t.exports = n;
e(n, "meshim_common_VmlShape");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
return null;
}
var o, r = i(235), s = i(234), a = i(60);
switch (a.detectedGraphicType) {
case "canvas":
o = a.CanvasData;
break;

case "vml":
o = r;
break;

case "svg":
o = s;
break;

case "div":
o = n;
}
t.exports = o;
e(o, "meshim_common_GShape");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, n, a, _) {
function l() {
w && window.clearInterval(w);
var t = Math.floor(201 * Math.random()) - 100;
w = window.setTimeout(u, 1e3 + t);
}
function d() {
w && window.clearTimeout(w);
}
function u() {
if (j && j.attributes.viewBox) {
m();
c();
h(j.childrens);
}
}
function c() {
var t = j.attributes.viewBox, e = j.attributes.canvasScale ? parseFloat(j.attributes.canvasScale) : 1;
x.width != t.width && (x.width = t.width * e);
x.height != t.height && (x.height = t.height * e);
v.scale(e, e);
v.transform(1, 0, 0, 1, -t.x * e, -t.y * e);
s.isWebKit && t.width * t.height > 4e4 ? l() : d();
p(j);
}
function h(t) {
for (var e = 0, i = t.length; e < i; e++) {
var n = t[e];
v.save();
n.childrens && h(n.childrens);
p(n);
v.restore();
}
}
function p(t) {
var e = t.attributes;
f();
e.left && "function" == typeof t.translateX && t.translateX(v, e.left);
e.top && "function" == typeof t.translateY && t.translateY(v, e.right);
"opacity" in e && (v.globalAlpha = e.opacity * v.globalAlpha);
if (e.path) {
e.stroke && (v.strokeStyle = e.stroke);
e.strokeWidth && (v.lineWidth = e.strokeWidth);
e.fill && (v.fillStyle = e.fill(v, e.path.bBox));
if (e.shadow && !s.isOpera) {
var i = e.shadow;
v.shadowOffsetX = i.offsetX;
v.shadowOffsetY = i.offsetY;
v.shadowBlur = i.blurRadius;
v.shadowColor = i.rgba;
}
e.path(v);
v.fill();
e.shadow && g();
v.stroke();
}
}
function f() {
v.strokeStyle = "rgba(0, 0, 0, 0)";
v.fillStyle = "rgba(0, 0, 0, 1)";
v.lineWidth = 0;
}
function g() {
v.shadowOffsetX = 0;
v.shadowOffsetY = 0;
v.shadowBlur = 0;
v.shadowColor = "#000";
}
function m() {
v.setTransform(1, 0, 0, 1, 0, 0);
v.clearRect(0, 0, x.width, x.height);
}
function $(t) {
for (var e = [], i = 0, n = t.length; i < n; i++) {
var o = t[i];
e.push({
constructor: o[0],
id: o[1],
attributes: o[4],
childrens: $(o[3])
});
}
return e;
}
var b = i(60);
e = e || o.generateID();
var w, x, v, y = t.ownerDocument, j = new b.parseCanvasData({
type: "canvas",
attributes: {},
childrens: []
});
x = y.createElement("canvas");
x.width = 0;
x.height = 0;
x.vectorType = "canvas";
x.getContext && (v = x.getContext("2d"));
o.extend(x);
r.extend(x);
o.set(e, x);
var C = !1;
x.appendToParent = function(e) {
o.hasParentNode(x) || o.appendChild(t, x);
if (e && !C) {
t.appendToParent && t.appendToParent(!0);
C = !0;
}
};
x.setData = function(t) {
"function" == typeof j.destroy && j.destroy();
j = new b.parseCanvasData(t);
d();
u();
j.on("update", u);
};
x.onDestruction(function() {
d();
"function" == typeof j.destroy && j.destroy();
});
x.setViewBox = function(t) {
j.setAttribute("viewBox", t);
return x;
};
x.setStyle(n);
x.setAttributes(_);
j = {
type: "canvas",
attributes: _,
childrens: $(a)
};
x.setData(j);
x.appendToParent();
return x;
}
var o = i(3), r = i(14), s = i(8);
t.exports = n;
e(n, "meshim_common_Canvas");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, n, s) {
e = e || o.generateID();
var a, _ = t.ownerDocument;
a = _.createElementNS("http://www.w3.org/2000/svg", "svg");
a.vectorType = "svg";
o.extend(a);
r.extend(a);
o.set(e, a);
var l = !1;
a.appendToParent = function(e) {
o.hasParentNode(a) || o.appendChild(t, a);
if (e && !l) {
t.appendToParent && t.appendToParent(!0);
l = !0;
}
};
a.setClass = function(t) {
a.setAttribute("class", t);
return a;
};
a.addClass = function(t) {
a.setAttribute("class", a.getAttribute("class") + " " + t);
return a;
};
a.removeClass = function(t) {
var e = a.getAttribute("class"), i = new RegExp("\\b" + t + "\\b", "g");
e.replace(i, "");
a.setAttribute("class", e);
return a;
};
a.setViewBox = function(t) {
a.setAttribute("viewBox", t);
return a;
};
a.setStyle(i);
a.setAttributes(s);
o.addChildren(a, n);
a.appendToParent();
return a;
}
var o = i(3), r = i(14);
t.exports = n;
e(n, "meshim_common_SvgCanvas");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, n, s, a) {
var _ = i(60);
e = e || o.generateID();
var l, d, u, c, h, p = t.ownerDocument;
l = p.createElement("span");
l.style.display = "inline-block";
l.style.overflow = "hidden";
l.style.position = "relative";
l.vectorType = "vml";
d = _.createVMLNode(p, "group");
d.className = "vml";
d.style.width = "100px";
d.style.height = "100px";
d.style.border = "0px none";
d.style.padding = "0px";
d.style.margin = "0px";
d.style.position = "absolute";
d.style.top = "0px";
d.style.left = "0px";
l.groupshape = d;
u = _.createVMLNode(p, "shape");
u.className = "vml";
u.stroked = !1;
u.fill = !1;
u.style.width = "1px";
u.style.height = "1px";
d.appendChild(u);
l.appendChild(d);
l.graphicType = "vml";
l.defaultPlacement = d;
o.extend(l);
r.extend(l);
o.set(e, l);
var f = !1;
l.appendToParent = function(e) {
o.hasParentNode(l) || o.appendChild(t, l);
if (e && !f) {
t.appendToParent && t.appendToParent(!0);
f = !0;
}
};
l.setCanvasScale = function(t) {
t = parseFloat(t);
c = t;
h && l.setViewBox(h);
return l;
};
l.setViewBox = function(t) {
h = t;
t = _.parseViewBox(t);
var e = l.getElementsByTagName("*"), i = t.x + ", " + t.y, n = "1, 1";
c && (n = 1 / c + "," + 1 / c);
d.coordorigin = i;
for (var o = 0, r = e.length; o < r; o++) {
var s = e[o].tagName;
"shape" !== s && "group" !== s || (e[o].coordsize = n);
}
u.style.left = t.x + "px";
u.style.right = t.y + "px";
return l;
};
var g = l.setWidth, m = l.setHeight;
l.setWidth = function(t) {
"function" == typeof g && g.call(l, t);
d.style.width = "1px";
return l;
};
l.setHeight = function(t) {
"function" == typeof m && m.call(l, t);
d.style.height = "1px";
return l;
};
l.setStyle(n);
l.setAttributes(a);
o.addChildren(l, s);
l.appendToParent();
return l;
}
var o = i(3), r = i(14);
t.exports = n;
e(n, "meshim_common_VmlCanvas");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, n, o) {
e = e || r.generateID();
var a, _ = t.ownerDocument;
a = _.createElement("div");
r.extend(a);
s.extend(a);
r.set(e, a);
var l = !1;
a.appendToParent = function(e) {
r.hasParentNode(a) || r.appendChild(t, a);
if (e && !l) {
t.appendToParent && t.appendToParent(!0);
l = !0;
}
};
a.setViewBox = function() {};
a.setStyle(i);
a.setAttributes(o);
r.addChildren(a, n);
a.appendToParent();
return a;
}
var o, r = i(3), s = i(14), a = i(239), _ = i(238), l = i(237), d = i(60);
switch (d.detectedGraphicType) {
case "canvas":
o = l;
break;

case "vml":
o = a;
break;

case "svg":
o = _;
break;

case "div":
o = n;
}
t.exports = o;
e(o, "meshim_common_GCanvas");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_common_GCanvas = i(240);
e.__$$__meshim_common_GShape = i(236);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_common_GCanvas, "", "", [ [ e.__$$__meshim_common_GShape, "content", "", [], {
id: "content",
fill: "linear, top, from(#E0741B), to(#E0981B)",
stroke: "#c2c2c2"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:common": "meshim.common"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__content");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t, i) {
var n = {
tl: [ t.x, t.y ],
tr: [ t.x + t.width, t.y ],
br: [ t.x + t.width, t.y + t.height ],
bl: [ t.x, t.y + t.height ]
};
i = i.slice();
for (var o = 0; o < i.length; o++) {
var r = i[o], s = r[0];
n[s] && (i[o] = e(n[s], r));
}
return i;
}
function e(t, e) {
var i = t[0], n = t[1], o = [];
e = e.slice();
e.shift();
o.push(e.shift());
for (;e.length > 1; ) {
var r = e.splice(0, 2);
o.push(i + r[0]);
o.push(n + r[1]);
}
return o;
}
function n(t) {
for (var e = "", i = {
cs: o
}, n = 0, r = t.length; n < r; n++) {
var s = t[n], a = s[0];
i[a] && (s = i[a].apply(null, s.slice(1)));
e += " " + s.join(" ");
}
return e;
}
function o(t, e, i) {
var n = t, o = e, r = Math.round(.5522848 * n), s = Math.round(.5522848 * o);
return (i ? -n * o : n * o) > 0 ? [ "c", r, 0, n, o - s, n, o ] : [ "c", 0, s, n - r, o, n, o ];
}
function r(e, i) {
if (!s(e) || !s(i) || isNaN(e) || isNaN(i)) throw new window.Error("BubbleVector.setDimension(): invalid arguments");
var o = {
x: a - 1,
y: a - 1,
width: e - 2 * a + 2,
height: i - 2 * a - 3
}, r = n(t(o, _));
h.setWidth(e + "px").setHeight(i + "px").setViewBox("0 0 " + e + " " + i);
p.setPath(r);
return h;
}
var s = i(28), a = 2, _ = [ [ "tl", "M", 0, 8 ], [ "cs", 8, -8, 0 ], [ "tr", "L", -8, 0 ], [ "cs", 8, 8, 0 ], [ "br", "L", 0, -16 ], [ "cs", -8, 8, 0 ], [ "bl", "L", 39, -8 ], [ "bl", "L", 33, 0 ], [ "bl", "L", 27, -8 ], [ "bl", "L", 8, -8 ], [ "cs", -8, -8, 0 ], [ "z" ] ];
!function() {
p.setStrokeWidth(a);
h.setDimension = r;
h.setFill = function(t) {
p.setFill(t);
};
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_common_GCanvas.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_common_GCanvas;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatButton_BubbleVector");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_components_chatButton_BubbleVector = i(241);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(115), h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatButton_BubbleVector, "bubble_vector", "", [], {
id: "bubble_vector",
position: "absolute"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "close", "", [], {
id: "close",
icon: "cross",
addClass: "close",
title: c
} ], [ e.__$$__jx_ui_Widget, "bubble_title_container", "", [], {
id: "bubble_title_container",
class: "bubble_title"
} ], [ e.__$$__jx_ui_Widget, "bubble_text_container", "", [], {
id: "bubble_text_container",
class: "bubble_text"
} ] ], {
class: "bubble_text_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:button": "meshim.widget.components.chatButton",
"xmlns:widgets": "meshim.widget.widgets",
visibility: "hidden"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__bubble_vector"), m = n.get(a + "__close"), $ = n.get(a + "__bubble_title_container"), b = n.get(a + "__bubble_text_container");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
if (!l) {
l = window.setTimeout(e, 0);
8 == u.isIE && f.setVisibility("");
}
}
function e() {
l = null;
if (n && o) {
var t = D.getValue();
if (t) {
var e = f.getHeight();
if (e) {
g.setDimension(t, e);
E.update(f.getHeight());
if (!d) {
f.setVisibility("");
d = !0;
}
}
}
}
}
var n, o, r, s, a, _, l, d, u = i(8), c = i(5), h = i(25), p = i(9), w = i(11), x = i(119), v = c.root.$("livechat"), y = v.$("settings"), j = v.$("ui"), C = j.$("chat_button"), S = C.$("display$bool"), A = C.$("bubble").$("display$bool"), k = j.$("theme_loaded$bool"), I = y.$("bubble"), T = I.$("title$string"), B = I.$("text$string"), N = y.$("theme").$("colors").$("bubble$string"), D = C.$("button_width$int"), E = C.$("bubble_height$int");
!function() {
p.rtl(f);
f.autobind(S, "value", function(e) {
if (n != e) {
n = e;
t();
}
});
f.autobind(A, "value", function(e) {
if (o != e) {
o = e;
t();
}
});
f.autobind(T, "value", function(e) {
if (r != e) {
r = e;
$.setText(w.get(T));
t();
}
});
f.autobind(B, "value", function(e) {
if (s != e) {
s = e;
b.setText(w.get(B));
b.setDisplay(e ? "" : "none");
t();
}
});
f.autobind(N, "value", function(t) {
t && a != t && (a = t);
});
f.autobind(k, "value", function(e) {
if (e) {
if (_ != a) {
_ = a;
var i = new x(_);
g.setFill("linear top from(" + i.lighten(.1).toRGB() + ") to(" + i.darken(.2).toRGB() + ") ");
}
t();
}
});
f.autobind(D, "value", function(e) {
e && t();
});
m.on("click", function(t) {
t.stopPropagation();
h.userHideBubble();
});
}();
}();
for (var x in w) w.hasOwnProperty(x) && (f[x] = w[x]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".bubble_text_wrapper": {
position: "relative",
padding: "10px 12px 26px"
},
".bubble_title": {
position: "relative",
zIndex: "1",
fontSize: "$$fontSizeL",
fontWeight: "bold",
color: "$$chatBubbleTitleColor",
whiteSpace: "pre-wrap"
},
".bubble_text": {
position: "relative",
zIndex: "1",
marginTop: "5px",
fontSize: "12px",
fontStyle: "italic",
color: "$$chatBubbleTextColor",
whiteSpace: "pre-wrap"
},
".close": {
float: "right",
position: "relative",
top: "-1px",
left: "5px",
padding: "6px 4px 2px",
zIndex: "2",
color: "$$chatBubbleCloseColor",
textShadow: "$$chatBubbleCloseShadow",
borderRadius: "$$radius",
"&:hover": {
background: "$$chatBubbleCloseHoverBg"
}
},
"&.rtl .close": {
float: "left",
left: "auto",
right: "5px"
}
};
a(t, "meshim_widget_components_chatButton_BubbleRenderer");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_components_chatButton_BubbleRenderer = i(242);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatButton_BubbleRenderer, "", "", [], {
addClass: "bubble_renderer"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:button": "meshim.widget.components.chatButton",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(5), e = t.root.$("livechat").$("ui").$("chat_button"), n = e.$("bubble").$("display$bool"), o = -1;
!function() {
h.autobind(n, "value", function(t) {
if (o != t) {
o = t;
h.setDisplay(o ? "" : "none");
}
});
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
width: "100%",
"top, left": 0,
cursor: "pointer"
}
};
s(t, "meshim_widget_components_chatButton_Bubble");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_FloatingFrame = i(73);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(61);
e.__$$__meshim_widget_components_chatButton_Bubble = i(243);
e.__$$__meshim_widget_components_chatButton_Button = i(233);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatButton_Bubble, "", "", [], {
addClass: "bubble"
} ], [ e.__$$__meshim_widget_components_chatButton_Button, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatButton": "meshim.widget.components.chatButton",
cursor: "pointer"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
var t = x;
h.setDisplay(t ? "" : "none");
o();
}
function e() {
n();
a.bugs.noBoxSizing && window.setTimeout(function() {
h.dom.className = h.dom.className;
}, 100);
}
function n() {
if (T) h.setTop("").setRight("").setBottom("").setLeft(""); else switch (s) {
case "br":
h.setTop("").setLeft("").setMarginLeft("").setRight(N).setBottom(B);
break;

case "bm":
h.setTop("").setRight("").setBottom(B).setLeft("50%").setMarginLeft(-Math.round(h.__width / 2) + "px");
break;

case "bl":
h.setTop("").setRight("").setMarginLeft("").setBottom(B).setLeft(N);
break;

case "tr":
h.setBottom("").setLeft("").setMarginLeft("").setTop(B).setRight(N);
break;

case "tm":
h.setRight("").setBottom("").setTop(B).setLeft("50%").setMarginLeft(-Math.round(h.__width / 2) + "px");
break;

case "tl":
h.setRight("").setBottom("").setMarginLeft("").setTop(B).setLeft(N);
}
}
function o() {
r();
_(r, h, "once");
}
function r() {
var t = j.getValue() || 10;
t !== h.getWidth() && h.setWidth(t + "px");
var e = C.getValue() || 10;
y && (e += S.getValue() || 0);
e !== h.getHeight() && h.setHeight(e + "px");
}
var s, a = i(8), _ = i(16), l = i(33), d = i(5), u = i(50), c = i(25), p = i(47), f = i(74), g = d.root.$("livechat"), m = g.$("settings"), $ = g.$("ui"), b = $.$("chat_button"), w = b.$("display$bool"), x = -1, v = b.$("bubble").$("display$bool"), y = -1, j = b.$("button_width$int"), C = b.$("button_height$int"), S = b.$("bubble_height$int"), A = m.$("theme").$("chat_button").$("position$string"), k = m.$$("theme.chat_button.h_offset$int"), I = m.$$("theme.chat_button.v_offset$int"), T = $.$("mockup$bool").getValue(), B = 0, N = 10;
!function() {
f.bind(h.iwin);
h.dom.className = "zopim";
h.iframe.setStyle("display", "block");
h.content.addClass("meshim_widget_Widget");
h.wrapper.addClass(h.__jx__fqname);
h.ibody.style.overflow = "hidden";
p(h.ibody);
T && h.setPosition("relative");
h.autobind(v, "value", function(t) {
if (y != t) {
y = t;
o();
}
});
h.autobind(k, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
N = t;
e();
}
});
h.autobind(I, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
B = t;
e();
}
});
h.autobind(S, "value", function(t) {
t && o();
});
h.autobind(A, "value", function(t) {
s && h.wrapper.removeClass(s);
s = t;
s && h.wrapper.addClass(s);
e();
});
h.autobind(j, "value", function(t) {
t && o();
});
h.autobind(C, "value", function(t) {
t && o();
});
h.autobind(w, "value", function(e) {
if (x != e) {
x = e;
t();
}
});
h.on("click", function() {
u.trackEvent("Button Clicked");
l.resetUnreadCount();
b.write({
button_clicked$bool: !0
});
c.userShowBadgeOrWindow();
});
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {
"**self": {
"*width": "100%"
},
"&.bm, &.tm": {
margin: "0 auto"
},
"&.br, &.bm, &.bl": {
".button_bar": {
"borderTopLeftRadius, borderTopRightRadius": "$$chatButtonRadius"
},
".favicon": {
borderTopLeftRadius: "$$chatButtonRadius"
},
".rtl .favicon": {
borderTopLeftRadius: 0,
borderTopRightRadius: "$$chatButtonRadius"
}
},
"&.tr, &.tm, &.tl": {
".button_bar": {
"borderBottomLeftRadius, borderBottomRightRadius": "$$chatButtonRadius"
},
".favicon": {
borderBottomLeftRadius: "$$chatButtonRadius"
},
".rtl .favicon": {
borderBottomLeftRadius: 0,
borderBottomRightRadius: "$$chatButtonRadius"
}
}
};
s(t, "meshim_widget_components_ChatButton");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
"use strict";
var n = function(t, e, i) {
var n = t[e], o = t;
if (e in t) {
var r = "warn" === e ? "warning" : e;
t[e] = function() {
var t = [].slice.call(arguments), e = "" + t.join(" "), s = {
level: r,
logger: "console",
extra: {
arguments: t
}
};
i && i(e, s);
n && Function.prototype.apply.call(n, o, t);
};
}
};
t.exports = {
wrapMethod: n
};
}, function(t, e, i) {
"use strict";
function n(t) {
this.name = "RavenConfigError";
this.message = t;
}
n.prototype = new Error();
n.prototype.constructor = n;
t.exports = n;
}, function(t, e, i) {
"use strict";
function n(t, e) {
for (var i = 0; i < t.length; ++i) if (t[i] === e) return i;
return -1;
}
function o(t, e, i, n) {
return JSON.stringify(t, r(e, n), i);
}
function r(t, e) {
var i = [], o = [];
null == e && (e = function(t, e) {
return i[0] === e ? "[Circular ~]" : "[Circular ~." + o.slice(0, n(i, e)).join(".") + "]";
});
return function(r, s) {
if (i.length > 0) {
var a = n(i, this);
~a ? i.splice(a + 1) : i.push(this);
~a ? o.splice(a, 1 / 0, r) : o.push(r);
~n(i, s) && (s = e.call(this, r, s));
} else i.push(s);
return null == t ? s : t.call(this, r, s);
};
}
e = t.exports = o;
e.getSerialize = r;
}, function(t, e, i) {
"use strict";
(function(e) {
function n() {
return "undefined" == typeof document || void 0 === document.location ? "" : document.location.href;
}
var o = i(120), r = {
collectWindowErrors: !0,
debug: !1
}, s = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {}, a = [].slice, _ = "?", l = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;
r.report = function() {
function t(t) {
c();
$.push(t);
}
function e(t) {
for (var e = $.length - 1; e >= 0; --e) $[e] === t && $.splice(e, 1);
}
function i() {
h();
$ = [];
}
function d(t, e) {
var i = null;
if (!e || r.collectWindowErrors) {
for (var n in $) if ($.hasOwnProperty(n)) try {
$[n].apply(null, [ t ].concat(a.call(arguments, 2)));
} catch (t) {
i = t;
}
if (i) throw i;
}
}
function u(t, e, i, s, a) {
var u = null;
if (x) {
r.computeStackTrace.augmentStackTraceWithInitialElement(x, e, i, t);
p();
} else if (a && o.isError(a)) {
u = r.computeStackTrace(a);
d(u, !0);
} else {
var c, h = {
url: e,
line: i,
column: s
}, f = void 0, m = t;
if ("[object String]" === {}.toString.call(t)) {
var c = t.match(l);
if (c) {
f = c[1];
m = c[2];
}
}
h.func = _;
u = {
name: f,
message: m,
url: n(),
stack: [ h ]
};
d(u, !0);
}
return !!g && g.apply(this, arguments);
}
function c() {
if (!m) {
g = s.onerror;
s.onerror = u;
m = !0;
}
}
function h() {
if (m) {
s.onerror = g;
m = !1;
g = void 0;
}
}
function p() {
var t = x, e = b;
b = null;
x = null;
w = null;
d.apply(null, [ t, !1 ].concat(e));
}
function f(t, e) {
var i = a.call(arguments, 1);
if (x) {
if (w === t) return;
p();
}
var n = r.computeStackTrace(t);
x = n;
w = t;
b = i;
setTimeout(function() {
w === t && p();
}, n.incomplete ? 2e3 : 0);
if (!1 !== e) throw t;
}
var g, m, $ = [], b = null, w = null, x = null;
f.subscribe = t;
f.unsubscribe = e;
f.uninstall = i;
return f;
}();
r.computeStackTrace = function() {
function t(t) {
if (void 0 !== t.stack && t.stack) {
for (var e, i, o, r = /^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i, s = /^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i, a = /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i, l = /(\S+) line (\d+)(?: > eval line \d+)* > eval/i, d = /\((\S*)(?::(\d+))(?::(\d+))\)/, u = t.stack.split("\n"), c = [], h = (/^(.*) is undefined$/.exec(t.message), 
0), p = u.length; h < p; ++h) {
if (i = r.exec(u[h])) {
var f = i[2] && 0 === i[2].indexOf("native"), g = i[2] && 0 === i[2].indexOf("eval");
if (g && (e = d.exec(i[2]))) {
i[2] = e[1];
i[3] = e[2];
i[4] = e[3];
}
o = {
url: f ? null : i[2],
func: i[1] || _,
args: f ? [ i[2] ] : [],
line: i[3] ? +i[3] : null,
column: i[4] ? +i[4] : null
};
} else if (i = a.exec(u[h])) o = {
url: i[2],
func: i[1] || _,
args: [],
line: +i[3],
column: i[4] ? +i[4] : null
}; else {
if (!(i = s.exec(u[h]))) continue;
var g = i[3] && i[3].indexOf(" > eval") > -1;
if (g && (e = l.exec(i[3]))) {
i[3] = e[1];
i[4] = e[2];
i[5] = null;
} else 0 !== h || i[5] || void 0 === t.columnNumber || (c[0].column = t.columnNumber + 1);
o = {
url: i[3],
func: i[1] || _,
args: i[2] ? i[2].split(",") : [],
line: i[4] ? +i[4] : null,
column: i[5] ? +i[5] : null
};
}
!o.func && o.line && (o.func = _);
c.push(o);
}
return c.length ? {
name: t.name,
message: t.message,
url: n(),
stack: c
} : null;
}
}
function e(t, e, i, n) {
var o = {
url: e,
line: i
};
if (o.url && o.line) {
t.incomplete = !1;
o.func || (o.func = _);
if (t.stack.length > 0 && t.stack[0].url === o.url) {
if (t.stack[0].line === o.line) return !1;
if (!t.stack[0].line && t.stack[0].func === o.func) {
t.stack[0].line = o.line;
return !1;
}
}
t.stack.unshift(o);
t.partial = !0;
return !0;
}
t.incomplete = !0;
return !1;
}
function i(t, s) {
for (var a, l, d = /function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i, u = [], c = {}, h = !1, p = i.caller; p && !h; p = p.caller) if (p !== o && p !== r.report) {
l = {
url: null,
func: _,
line: null,
column: null
};
p.name ? l.func = p.name : (a = d.exec(p.toString())) && (l.func = a[1]);
if (void 0 === l.func) try {
l.func = a.input.substring(0, a.input.indexOf("{"));
} catch (t) {}
c["" + p] ? h = !0 : c["" + p] = !0;
u.push(l);
}
s && u.splice(0, s);
var f = {
name: t.name,
message: t.message,
url: n(),
stack: u
};
e(f, t.sourceURL || t.fileName, t.line || t.lineNumber, t.message || t.description);
return f;
}
function o(e, o) {
var s = null;
o = null == o ? 0 : +o;
try {
s = t(e);
if (s) return s;
} catch (t) {
if (r.debug) throw t;
}
try {
s = i(e, o + 1);
if (s) return s;
} catch (t) {
if (r.debug) throw t;
}
return {
name: e.name,
message: e.message,
url: n()
};
}
o.augmentStackTraceWithInitialElement = e;
o.computeStackTraceFromStackProp = t;
return o;
}();
t.exports = r;
}).call(this, i(95));
}, function(t, e, i) {
"use strict";
(function(e) {
function n() {
return +new Date();
}
function o(t, e) {
return a(e) ? function(i) {
return e(i, t);
} : e;
}
function r() {
this._hasJSON = !("object" != typeof JSON || !JSON.stringify);
this._hasDocument = !s(O);
this._hasNavigator = !s(P);
this._lastCapturedException = null;
this._lastData = null;
this._lastEventId = null;
this._globalServer = null;
this._globalKey = null;
this._globalProject = null;
this._globalContext = {};
this._globalOptions = {
logger: "javascript",
ignoreErrors: [],
ignoreUrls: [],
whitelistUrls: [],
includePaths: [],
crossOrigin: "anonymous",
collectWindowErrors: !0,
maxMessageLength: 0,
maxUrlLength: 250,
stackTraceLimit: 50,
autoBreadcrumbs: !0,
instrument: !0,
sampleRate: 1
};
this._ignoreOnError = 0;
this._isRavenInstalled = !1;
this._originalErrorStackTraceLimit = Error.stackTraceLimit;
this._originalConsole = E.console || {};
this._originalConsoleMethods = {};
this._plugins = [];
this._startTime = n();
this._wrappedBuiltIns = [];
this._breadcrumbs = [];
this._lastCapturedEvent = null;
this._keypressTimeout;
this._location = E.location;
this._lastHref = this._location && this._location.href;
this._resetBackoff();
for (var t in this._originalConsole) this._originalConsoleMethods[t] = this._originalConsole[t];
}
function s(t) {
return void 0 === t;
}
function a(t) {
return "function" == typeof t;
}
function _(t) {
return "[object String]" === L.toString.call(t);
}
function l(t) {
for (var e in t) return !1;
return !0;
}
function d(t, e) {
var i, n;
if (s(t.length)) for (i in t) p(t, i) && e.call(null, i, t[i]); else {
n = t.length;
if (n) for (i = 0; i < n; i++) e.call(null, i, t[i]);
}
}
function u(t, e) {
if (!e) return t;
d(e, function(e, i) {
t[e] = i;
});
return t;
}
function c(t) {
return !!Object.isFrozen && Object.isFrozen(t);
}
function h(t, e) {
return !e || t.length <= e ? t : t.substr(0, e) + "â€¦";
}
function p(t, e) {
return L.hasOwnProperty.call(t, e);
}
function f(t) {
for (var e, i = [], n = 0, o = t.length; n < o; n++) {
e = t[n];
_(e) ? i.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1")) : e && e.source && i.push(e.source);
}
return new RegExp(i.join("|"), "i");
}
function g(t) {
var e = [];
d(t, function(t, i) {
e.push(encodeURIComponent(t) + "=" + encodeURIComponent(i));
});
return e.join("&");
}
function m(t) {
var e = t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);
if (!e) return {};
var i = e[6] || "", n = e[8] || "";
return {
protocol: e[2],
host: e[4],
path: e[5],
relative: e[5] + i + n
};
}
function $() {
var t = E.crypto || E.msCrypto;
if (!s(t) && t.getRandomValues) {
var e = new Uint16Array(8);
t.getRandomValues(e);
e[3] = 4095 & e[3] | 16384;
e[4] = 16383 & e[4] | 32768;
var i = function(t) {
for (var e = t.toString(16); e.length < 4; ) e = "0" + e;
return e;
};
return i(e[0]) + i(e[1]) + i(e[2]) + i(e[3]) + i(e[4]) + i(e[5]) + i(e[6]) + i(e[7]);
}
return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(t) {
var e = 16 * Math.random() | 0;
return ("x" === t ? e : 3 & e | 8).toString(16);
});
}
function b(t) {
for (var e, i = [], n = 0, o = 0, r = " > ".length; t && n++ < 5; ) {
e = w(t);
if ("html" === e || n > 1 && o + i.length * r + e.length >= 80) break;
i.push(e);
o += e.length;
t = t.parentNode;
}
return i.reverse().join(" > ");
}
function w(t) {
var e, i, n, o, r, s = [];
if (!t || !t.tagName) return "";
s.push(t.tagName.toLowerCase());
t.id && s.push("#" + t.id);
e = t.className;
if (e && _(e)) {
i = e.split(/\s+/);
for (r = 0; r < i.length; r++) s.push("." + i[r]);
}
var a = [ "type", "name", "title", "alt" ];
for (r = 0; r < a.length; r++) {
n = a[r];
o = t.getAttribute(n);
o && s.push("[" + n + '="' + o + '"]');
}
return s.join("");
}
function x(t, e) {
return !!(!!t ^ !!e);
}
function v(t, e) {
if (x(t, e)) return !1;
t = t.values[0];
e = e.values[0];
return t.type === e.type && t.value === e.value && y(t.stacktrace, e.stacktrace);
}
function y(t, e) {
if (x(t, e)) return !1;
var i = t.frames, n = e.frames;
if (i.length !== n.length) return !1;
for (var o, r, s = 0; s < i.length; s++) {
o = i[s];
r = n[s];
if (o.filename !== r.filename || o.lineno !== r.lineno || o.colno !== r.colno || o.function !== r.function) return !1;
}
return !0;
}
function j(t, e, i, n) {
var o = t[e];
t[e] = i(o);
n && n.push([ t, e, o ]);
}
var C = i(248), S = i(247), A = i(246), k = i(120), I = k.isError, T = k.isObject, B = i(245).wrapMethod, N = "source protocol user pass host port path".split(" "), D = /^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/, E = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {}, O = E.document, P = E.navigator;
r.prototype = {
VERSION: "3.17.0",
debug: !1,
TraceKit: C,
config: function(t, e) {
var i = this;
if (i._globalServer) {
this._logDebug("error", "Error: Raven has already been configured");
return i;
}
if (!t) return i;
var n = i._globalOptions;
e && d(e, function(t, e) {
"tags" === t || "extra" === t || "user" === t ? i._globalContext[t] = e : n[t] = e;
});
i.setDSN(t);
n.ignoreErrors.push(/^Script error\.?$/);
n.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/);
n.ignoreErrors = f(n.ignoreErrors);
n.ignoreUrls = !!n.ignoreUrls.length && f(n.ignoreUrls);
n.whitelistUrls = !!n.whitelistUrls.length && f(n.whitelistUrls);
n.includePaths = f(n.includePaths);
n.maxBreadcrumbs = Math.max(0, Math.min(n.maxBreadcrumbs || 100, 100));
var o = {
xhr: !0,
console: !0,
dom: !0,
location: !0
}, r = n.autoBreadcrumbs;
"[object Object]" === {}.toString.call(r) ? r = u(o, r) : !1 !== r && (r = o);
n.autoBreadcrumbs = r;
var s = {
tryCatch: !0
}, a = n.instrument;
"[object Object]" === {}.toString.call(a) ? a = u(s, a) : !1 !== a && (a = s);
n.instrument = a;
C.collectWindowErrors = !!n.collectWindowErrors;
return i;
},
install: function() {
var t = this;
if (t.isSetup() && !t._isRavenInstalled) {
C.report.subscribe(function() {
t._handleOnErrorStackInfo.apply(t, arguments);
});
t._globalOptions.instrument && t._globalOptions.instrument.tryCatch && t._instrumentTryCatch();
t._globalOptions.autoBreadcrumbs && t._instrumentBreadcrumbs();
t._drainPlugins();
t._isRavenInstalled = !0;
}
Error.stackTraceLimit = t._globalOptions.stackTraceLimit;
return this;
},
setDSN: function(t) {
var e = this, i = e._parseDSN(t), n = i.path.lastIndexOf("/"), o = i.path.substr(1, n);
e._dsn = t;
e._globalKey = i.user;
e._globalSecret = i.pass && i.pass.substr(1);
e._globalProject = i.path.substr(n + 1);
e._globalServer = e._getGlobalServer(i);
e._globalEndpoint = e._globalServer + "/" + o + "api/" + e._globalProject + "/store/";
this._resetBackoff();
},
context: function(t, e, i) {
if (a(t)) {
i = e || [];
e = t;
t = void 0;
}
return this.wrap(t, e).apply(this, i);
},
wrap: function(t, e, i) {
function n() {
var n = [], r = arguments.length, s = !t || t && !1 !== t.deep;
i && a(i) && i.apply(this, arguments);
for (;r--; ) n[r] = s ? o.wrap(t, arguments[r]) : arguments[r];
try {
return e.apply(this, n);
} catch (e) {
o._ignoreNextOnError();
o.captureException(e, t);
throw e;
}
}
var o = this;
if (s(e) && !a(t)) return t;
if (a(t)) {
e = t;
t = void 0;
}
if (!a(e)) return e;
try {
if (e.__raven__) return e;
if (e.__raven_wrapper__) return e.__raven_wrapper__;
} catch (t) {
return e;
}
for (var r in e) p(e, r) && (n[r] = e[r]);
n.prototype = e.prototype;
e.__raven_wrapper__ = n;
n.__raven__ = !0;
n.__inner__ = e;
return n;
},
uninstall: function() {
C.report.uninstall();
this._restoreBuiltIns();
Error.stackTraceLimit = this._originalErrorStackTraceLimit;
this._isRavenInstalled = !1;
return this;
},
captureException: function(t, e) {
if (!I(t)) return this.captureMessage(t, u({
trimHeadFrames: 1,
stacktrace: !0
}, e));
this._lastCapturedException = t;
try {
var i = C.computeStackTrace(t);
this._handleStackInfo(i, e);
} catch (e) {
if (t !== e) throw e;
}
return this;
},
captureMessage: function(t, e) {
if (!this._globalOptions.ignoreErrors.test || !this._globalOptions.ignoreErrors.test(t)) {
e = e || {};
var i = u({
message: t + ""
}, e);
if (this._globalOptions.stacktrace || e && e.stacktrace) {
var n;
try {
throw new Error(t);
} catch (t) {
n = t;
}
n.name = null;
e = u({
fingerprint: t,
trimHeadFrames: (e.trimHeadFrames || 0) + 1
}, e);
var o = C.computeStackTrace(n), r = this._prepareFrames(o, e);
i.stacktrace = {
frames: r.reverse()
};
}
this._send(i);
return this;
}
},
captureBreadcrumb: function(t) {
var e = u({
timestamp: n() / 1e3
}, t);
if (a(this._globalOptions.breadcrumbCallback)) {
var i = this._globalOptions.breadcrumbCallback(e);
if (T(i) && !l(i)) e = i; else if (!1 === i) return this;
}
this._breadcrumbs.push(e);
this._breadcrumbs.length > this._globalOptions.maxBreadcrumbs && this._breadcrumbs.shift();
return this;
},
addPlugin: function(t) {
var e = [].slice.call(arguments, 1);
this._plugins.push([ t, e ]);
this._isRavenInstalled && this._drainPlugins();
return this;
},
setUserContext: function(t) {
this._globalContext.user = t;
return this;
},
setExtraContext: function(t) {
this._mergeContext("extra", t);
return this;
},
setTagsContext: function(t) {
this._mergeContext("tags", t);
return this;
},
clearContext: function() {
this._globalContext = {};
return this;
},
getContext: function() {
return JSON.parse(S(this._globalContext));
},
setEnvironment: function(t) {
this._globalOptions.environment = t;
return this;
},
setRelease: function(t) {
this._globalOptions.release = t;
return this;
},
setDataCallback: function(t) {
var e = this._globalOptions.dataCallback;
this._globalOptions.dataCallback = o(e, t);
return this;
},
setBreadcrumbCallback: function(t) {
var e = this._globalOptions.breadcrumbCallback;
this._globalOptions.breadcrumbCallback = o(e, t);
return this;
},
setShouldSendCallback: function(t) {
var e = this._globalOptions.shouldSendCallback;
this._globalOptions.shouldSendCallback = o(e, t);
return this;
},
setTransport: function(t) {
this._globalOptions.transport = t;
return this;
},
lastException: function() {
return this._lastCapturedException;
},
lastEventId: function() {
return this._lastEventId;
},
isSetup: function() {
if (!this._hasJSON) return !1;
if (!this._globalServer) {
if (!this.ravenNotConfiguredError) {
this.ravenNotConfiguredError = !0;
this._logDebug("error", "Error: Raven has not been configured.");
}
return !1;
}
return !0;
},
afterLoad: function() {
var t = E.RavenConfig;
t && this.config(t.dsn, t.config).install();
},
showReportDialog: function(t) {
if (O) {
t = t || {};
var e = t.eventId || this.lastEventId();
if (!e) throw new A("Missing eventId");
var i = t.dsn || this._dsn;
if (!i) throw new A("Missing DSN");
var n = encodeURIComponent, o = "";
o += "?eventId=" + n(e);
o += "&dsn=" + n(i);
var r = t.user || this._globalContext.user;
if (r) {
r.name && (o += "&name=" + n(r.name));
r.email && (o += "&email=" + n(r.email));
}
var s = this._getGlobalServer(this._parseDSN(i)), a = O.createElement("script");
a.async = !0;
a.src = s + "/api/embed/error-page/" + o;
(O.head || O.body).appendChild(a);
}
},
_ignoreNextOnError: function() {
var t = this;
this._ignoreOnError += 1;
setTimeout(function() {
t._ignoreOnError -= 1;
});
},
_triggerEvent: function(t, e) {
var i, n;
if (this._hasDocument) {
e = e || {};
t = "raven" + t.substr(0, 1).toUpperCase() + t.substr(1);
if (O.createEvent) {
i = O.createEvent("HTMLEvents");
i.initEvent(t, !0, !0);
} else {
i = O.createEventObject();
i.eventType = t;
}
for (n in e) p(e, n) && (i[n] = e[n]);
if (O.createEvent) O.dispatchEvent(i); else try {
O.fireEvent("on" + i.eventType.toLowerCase(), i);
} catch (t) {}
}
},
_breadcrumbEventHandler: function(t) {
var e = this;
return function(i) {
e._keypressTimeout = null;
if (e._lastCapturedEvent !== i) {
e._lastCapturedEvent = i;
var n;
try {
n = b(i.target);
} catch (t) {
n = "<unknown>";
}
e.captureBreadcrumb({
category: "ui." + t,
message: n
});
}
};
},
_keypressEventHandler: function() {
var t = this;
return function(e) {
var i;
try {
i = e.target;
} catch (t) {
return;
}
var n = i && i.tagName;
if (n && ("INPUT" === n || "TEXTAREA" === n || i.isContentEditable)) {
var o = t._keypressTimeout;
o || t._breadcrumbEventHandler("input")(e);
clearTimeout(o);
t._keypressTimeout = setTimeout(function() {
t._keypressTimeout = null;
}, 1e3);
}
};
},
_captureUrlChange: function(t, e) {
var i = m(this._location.href), n = m(e), o = m(t);
this._lastHref = e;
i.protocol === n.protocol && i.host === n.host && (e = n.relative);
i.protocol === o.protocol && i.host === o.host && (t = o.relative);
this.captureBreadcrumb({
category: "navigation",
data: {
to: e,
from: t
}
});
},
_instrumentTryCatch: function() {
function t(t) {
return function(i, n) {
for (var o = new Array(arguments.length), r = 0; r < o.length; ++r) o[r] = arguments[r];
var s = o[0];
a(s) && (o[0] = e.wrap(s));
return t.apply ? t.apply(this, o) : t(o[0], o[1]);
};
}
var e = this, i = e._wrappedBuiltIns, n = this._globalOptions.autoBreadcrumbs;
j(E, "setTimeout", t, i);
j(E, "setInterval", t, i);
E.requestAnimationFrame && j(E, "requestAnimationFrame", function(t) {
return function(i) {
return t(e.wrap(i));
};
}, i);
for (var o = [ "EventTarget", "Window", "Node", "ApplicationCache", "AudioTrackList", "ChannelMergerNode", "CryptoOperation", "EventSource", "FileReader", "HTMLUnknownElement", "IDBDatabase", "IDBRequest", "IDBTransaction", "KeyOperation", "MediaController", "MessagePort", "ModalWindow", "Notification", "SVGElementInstance", "Screen", "TextTrack", "TextTrackCue", "TextTrackList", "WebSocket", "WebSocketWorker", "Worker", "XMLHttpRequest", "XMLHttpRequestEventTarget", "XMLHttpRequestUpload" ], r = 0; r < o.length; r++) !function(t) {
var o = E[t] && E[t].prototype;
if (o && o.hasOwnProperty && o.hasOwnProperty("addEventListener")) {
j(o, "addEventListener", function(i) {
return function(o, r, s, a) {
try {
r && r.handleEvent && (r.handleEvent = e.wrap(r.handleEvent));
} catch (t) {}
var _, l, d;
if (n && n.dom && ("EventTarget" === t || "Node" === t)) {
l = e._breadcrumbEventHandler("click");
d = e._keypressEventHandler();
_ = function(t) {
if (t) {
var e;
try {
e = t.type;
} catch (t) {
return;
}
return "click" === e ? l(t) : "keypress" === e ? d(t) : void 0;
}
};
}
return i.call(this, o, e.wrap(r, void 0, _), s, a);
};
}, i);
j(o, "removeEventListener", function(t) {
return function(e, i, n, o) {
try {
i = i && (i.__raven_wrapper__ ? i.__raven_wrapper__ : i);
} catch (t) {}
return t.call(this, e, i, n, o);
};
}, i);
}
}(o[r]);
},
_instrumentBreadcrumbs: function() {
function t(t, i) {
t in i && a(i[t]) && j(i, t, function(t) {
return e.wrap(t);
});
}
var e = this, i = this._globalOptions.autoBreadcrumbs, n = e._wrappedBuiltIns;
if (i.xhr && "XMLHttpRequest" in E) {
var o = XMLHttpRequest.prototype;
j(o, "open", function(t) {
return function(i, n) {
_(n) && -1 === n.indexOf(e._globalKey) && (this.__raven_xhr = {
method: i,
url: n,
status_code: null
});
return t.apply(this, arguments);
};
}, n);
j(o, "send", function(i) {
return function(n) {
function o() {
if (r.__raven_xhr && (1 === r.readyState || 4 === r.readyState)) {
try {
r.__raven_xhr.status_code = r.status;
} catch (t) {}
e.captureBreadcrumb({
type: "http",
category: "xhr",
data: r.__raven_xhr
});
}
}
for (var r = this, s = [ "onload", "onerror", "onprogress" ], _ = 0; _ < s.length; _++) t(s[_], r);
"onreadystatechange" in r && a(r.onreadystatechange) ? j(r, "onreadystatechange", function(t) {
return e.wrap(t, void 0, o);
}) : r.onreadystatechange = o;
return i.apply(this, arguments);
};
}, n);
}
i.xhr && "fetch" in E && j(E, "fetch", function(t) {
return function(i, n) {
for (var o = new Array(arguments.length), r = 0; r < o.length; ++r) o[r] = arguments[r];
var s, a = o[0], _ = "GET";
if ("string" == typeof a) s = a; else {
s = a.url;
a.method && (_ = a.method);
}
o[1] && o[1].method && (_ = o[1].method);
var l = {
method: _,
url: s,
status_code: null
};
e.captureBreadcrumb({
type: "http",
category: "fetch",
data: l
});
return t.apply(this, o).then(function(t) {
l.status_code = t.status;
return t;
});
};
}, n);
if (i.dom && this._hasDocument) if (O.addEventListener) {
O.addEventListener("click", e._breadcrumbEventHandler("click"), !1);
O.addEventListener("keypress", e._keypressEventHandler(), !1);
} else {
O.attachEvent("onclick", e._breadcrumbEventHandler("click"));
O.attachEvent("onkeypress", e._keypressEventHandler());
}
var r = E.chrome, s = r && r.app && r.app.runtime, l = !s && E.history && history.pushState;
if (i.location && l) {
var u = E.onpopstate;
E.onpopstate = function() {
var t = e._location.href;
e._captureUrlChange(e._lastHref, t);
if (u) return u.apply(this, arguments);
};
j(history, "pushState", function(t) {
return function() {
var i = arguments.length > 2 ? arguments[2] : void 0;
i && e._captureUrlChange(e._lastHref, i + "");
return t.apply(this, arguments);
};
}, n);
}
if (i.console && "console" in E && console.log) {
var c = function(t, i) {
e.captureBreadcrumb({
message: t,
level: i.level,
category: "console"
});
};
d([ "debug", "info", "warn", "error", "log" ], function(t, e) {
B(console, e, c);
});
}
},
_restoreBuiltIns: function() {
for (var t; this._wrappedBuiltIns.length; ) {
t = this._wrappedBuiltIns.shift();
var e = t[0], i = t[1], n = t[2];
e[i] = n;
}
},
_drainPlugins: function() {
var t = this;
d(this._plugins, function(e, i) {
var n = i[0], o = i[1];
n.apply(t, [ t ].concat(o));
});
},
_parseDSN: function(t) {
var e = D.exec(t), i = {}, n = 7;
try {
for (;n--; ) i[N[n]] = e[n] || "";
} catch (e) {
throw new A("Invalid DSN: " + t);
}
if (i.pass && !this._globalOptions.allowSecretKey) throw new A("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");
return i;
},
_getGlobalServer: function(t) {
var e = "//" + t.host + (t.port ? ":" + t.port : "");
t.protocol && (e = t.protocol + ":" + e);
return e;
},
_handleOnErrorStackInfo: function() {
this._ignoreOnError || this._handleStackInfo.apply(this, arguments);
},
_handleStackInfo: function(t, e) {
var i = this._prepareFrames(t, e);
this._triggerEvent("handle", {
stackInfo: t,
options: e
});
this._processException(t.name, t.message, t.url, t.lineno, i, e);
},
_prepareFrames: function(t, e) {
var i = this, n = [];
if (t.stack && t.stack.length) {
d(t.stack, function(t, e) {
var o = i._normalizeFrame(e);
o && n.push(o);
});
if (e && e.trimHeadFrames) for (var o = 0; o < e.trimHeadFrames && o < n.length; o++) n[o].in_app = !1;
}
n = n.slice(0, this._globalOptions.stackTraceLimit);
return n;
},
_normalizeFrame: function(t) {
if (t.url) {
var e = {
filename: t.url,
lineno: t.line,
colno: t.column,
function: t.func || "?"
};
e.in_app = !(this._globalOptions.includePaths.test && !this._globalOptions.includePaths.test(e.filename) || /(Raven|TraceKit)\./.test(e.function) || /raven\.(min\.)?js$/.test(e.filename));
return e;
}
},
_processException: function(t, e, i, n, o, r) {
var s;
if (!this._globalOptions.ignoreErrors.test || !this._globalOptions.ignoreErrors.test(e)) {
e += "";
if (o && o.length) {
i = o[0].filename || i;
o.reverse();
s = {
frames: o
};
} else i && (s = {
frames: [ {
filename: i,
lineno: n,
in_app: !0
} ]
});
if ((!this._globalOptions.ignoreUrls.test || !this._globalOptions.ignoreUrls.test(i)) && (!this._globalOptions.whitelistUrls.test || this._globalOptions.whitelistUrls.test(i))) {
var a = u({
exception: {
values: [ {
type: t,
value: e,
stacktrace: s
} ]
},
culprit: i
}, r);
this._send(a);
}
}
},
_trimPacket: function(t) {
var e = this._globalOptions.maxMessageLength;
t.message && (t.message = h(t.message, e));
if (t.exception) {
var i = t.exception.values[0];
i.value = h(i.value, e);
}
var n = t.request;
if (n) {
n.url && (n.url = h(n.url, this._globalOptions.maxUrlLength));
n.Referer && (n.Referer = h(n.Referer, this._globalOptions.maxUrlLength));
}
t.breadcrumbs && t.breadcrumbs.values && this._trimBreadcrumbs(t.breadcrumbs);
return t;
},
_trimBreadcrumbs: function(t) {
for (var e, i, n, o = [ "to", "from", "url" ], r = 0; r < t.values.length; ++r) {
i = t.values[r];
if (i.hasOwnProperty("data") && T(i.data) && !c(i.data)) {
n = u({}, i.data);
for (var s = 0; s < o.length; ++s) {
e = o[s];
n.hasOwnProperty(e) && (n[e] = h(n[e], this._globalOptions.maxUrlLength));
}
t.values[r].data = n;
}
}
},
_getHttpData: function() {
if (this._hasNavigator || this._hasDocument) {
var t = {};
this._hasNavigator && P.userAgent && (t.headers = {
"User-Agent": navigator.userAgent
});
if (this._hasDocument) {
O.location && O.location.href && (t.url = O.location.href);
if (O.referrer) {
t.headers || (t.headers = {});
t.headers.Referer = O.referrer;
}
}
return t;
}
},
_resetBackoff: function() {
this._backoffDuration = 0;
this._backoffStart = null;
},
_shouldBackoff: function() {
return this._backoffDuration && n() - this._backoffStart < this._backoffDuration;
},
_isRepeatData: function(t) {
var e = this._lastData;
return !(!e || t.message !== e.message || t.culprit !== e.culprit) && (t.stacktrace || e.stacktrace ? y(t.stacktrace, e.stacktrace) : !t.exception && !e.exception || v(t.exception, e.exception));
},
_setBackoffState: function(t) {
if (!this._shouldBackoff()) {
var e = t.status;
if (400 === e || 401 === e || 429 === e) {
var i;
try {
i = t.getResponseHeader("Retry-After");
i = 1e3 * parseInt(i, 10);
} catch (t) {}
this._backoffDuration = i || (2 * this._backoffDuration || 1e3);
this._backoffStart = n();
}
}
},
_send: function(t) {
var e = this._globalOptions, i = {
project: this._globalProject,
logger: e.logger,
platform: "javascript"
}, o = this._getHttpData();
o && (i.request = o);
t.trimHeadFrames && delete t.trimHeadFrames;
t = u(i, t);
t.tags = u(u({}, this._globalContext.tags), t.tags);
t.extra = u(u({}, this._globalContext.extra), t.extra);
t.extra["session:duration"] = n() - this._startTime;
this._breadcrumbs && this._breadcrumbs.length > 0 && (t.breadcrumbs = {
values: [].slice.call(this._breadcrumbs, 0)
});
l(t.tags) && delete t.tags;
this._globalContext.user && (t.user = this._globalContext.user);
e.environment && (t.environment = e.environment);
e.release && (t.release = e.release);
e.serverName && (t.server_name = e.serverName);
a(e.dataCallback) && (t = e.dataCallback(t) || t);
t && !l(t) && (a(e.shouldSendCallback) && !e.shouldSendCallback(t) || (this._shouldBackoff() ? this._logDebug("warn", "Raven dropped error due to backoff: ", t) : "number" == typeof e.sampleRate ? Math.random() < e.sampleRate && this._sendProcessedPayload(t) : this._sendProcessedPayload(t)));
},
_getUuid: function() {
return $();
},
_sendProcessedPayload: function(t, e) {
var i = this, n = this._globalOptions;
if (this.isSetup()) {
this._lastEventId = t.event_id || (t.event_id = this._getUuid());
t = this._trimPacket(t);
if (this._globalOptions.allowDuplicates || !this._isRepeatData(t)) {
this._lastData = t;
this._logDebug("debug", "Raven about to send:", t);
var o = {
sentry_version: "7",
sentry_client: "raven-js/" + this.VERSION,
sentry_key: this._globalKey
};
this._globalSecret && (o.sentry_secret = this._globalSecret);
var r = t.exception && t.exception.values[0];
this.captureBreadcrumb({
category: "sentry",
message: r ? (r.type ? r.type + ": " : "") + r.value : t.message,
event_id: t.event_id,
level: t.level || "error"
});
var s = this._globalEndpoint;
(n.transport || this._makeRequest).call(this, {
url: s,
auth: o,
data: t,
options: n,
onSuccess: function() {
i._resetBackoff();
i._triggerEvent("success", {
data: t,
src: s
});
e && e();
},
onError: function(n) {
i._logDebug("error", "Raven transport failed to send: ", n);
n.request && i._setBackoffState(n.request);
i._triggerEvent("failure", {
data: t,
src: s
});
n = n || new Error("Raven send failed (no additional details provided)");
e && e(n);
}
});
} else this._logDebug("warn", "Raven dropped repeat event: ", t);
}
},
_makeRequest: function(t) {
var e = new XMLHttpRequest();
if ("withCredentials" in e || "undefined" != typeof XDomainRequest) {
var i = t.url;
if ("withCredentials" in e) e.onreadystatechange = function() {
if (4 === e.readyState) if (200 === e.status) t.onSuccess && t.onSuccess(); else if (t.onError) {
var i = new Error("Sentry error code: " + e.status);
i.request = e;
t.onError(i);
}
}; else {
e = new XDomainRequest();
i = i.replace(/^https?:/, "");
t.onSuccess && (e.onload = t.onSuccess);
t.onError && (e.onerror = function() {
var i = new Error("Sentry error code: XDomainRequest");
i.request = e;
t.onError(i);
});
}
e.open("POST", i + "?" + g(t.auth));
e.send(S(t.data));
}
},
_logDebug: function(t) {
this._originalConsoleMethods[t] && this.debug && Function.prototype.apply.call(this._originalConsoleMethods[t], this._originalConsole, [].slice.call(arguments, 1));
},
_mergeContext: function(t, e) {
s(e) ? delete this._globalContext[t] : this._globalContext[t] = u(this._globalContext[t] || {}, e);
}
};
var L = Object.prototype;
"undefined" != typeof __DEV__ && __DEV__ && (r.utils = {
isUndefined: s,
isFunction: a,
isString: _,
isObject: T,
isEmptyObject: l,
isError: I,
each: d,
objectMerge: u,
truncate: h,
hasKey: p,
joinRegExp: f,
urlencode: g,
uuid4: $,
htmlTreeAsString: b,
htmlElementAsString: w,
parseUrl: m,
fill: j
});
r.prototype.setUser = r.prototype.setUserContext;
r.prototype.setReleaseContext = r.prototype.setRelease;
t.exports = r;
}).call(this, i(95));
}, function(t, e, i) {
"use strict";
(function(e) {
var n = i(249), o = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {}, r = o.Raven, s = new n();
s.noConflict = function() {
o.Raven = r;
return s;
};
s.afterLoad();
t.exports = s;
}).call(this, i(95));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
_(e) && (i = e, e = null);
e || (e = {});
d("POST", t, e, i);
}
function o(t, e, i) {
_(e) && (i = e, e = null);
e || (e = {});
d("GET", t, e, i);
}
function r(t, e, i, n) {
var o, r, s, a = "form" + ~~(1e5 * Math.random()), _ = i.timeout || 1e4, d = document.createElement("form"), u = document.createElement("iframe");
d.method = t;
d.action = e;
u.style.display = "none";
if (i.params) for (r in i.params) if (i.params.hasOwnProperty(r)) {
s = document.createElement("input");
s.name = r;
s.value = i.params[r];
d.appendChild(s);
}
document.body.appendChild(d);
document.body.appendChild(u);
d.target = u.contentWindow.name = a;
l(function() {
d.submit();
document.body.removeChild(d);
s = d = null;
u.onload = function() {
u.onload = null;
u.contentWindow.location.href = "about:blank";
u.onload = function() {
u.onload = null;
clearTimeout(o);
n && n(null, u.contentWindow.name);
document.body.removeChild(u);
u = null;
};
};
});
o = setTimeout(function() {
n && n("timeout");
document.body.removeChild(u);
u = null;
}, _);
}
function s(t, e, i, n) {
function o() {
if (h.contentWindow.frames.length) {
h.contentWindow.location.href = "about:blank";
clearTimeout(s);
setTimeout(function() {
n && n(null, h.contentWindow.name);
r.body.removeChild(h);
r = h = null;
}, 0);
} else a = setTimeout(o, 100);
}
var r = document;
if (window.ActiveXObject) try {
r = new window.ActiveXObject("htmlfile");
r.open(), r.close();
} catch (t) {}
var s, a, _, l, d = "form" + ~~(1e5 * Math.random()), u = i.timeout || 1e4, c = r.createElement('<form target="' + d + '"/>'), h = r.createElement('<iframe name="' + d + '"/>');
c.method = t;
c.action = e;
h.style.display = "none";
if (i.params) for (_ in i.params) if (i.params.hasOwnProperty(_)) {
l = r.createElement('<input name="' + _ + '"/>');
l.value = i.params[_];
c.appendChild(l);
}
r.body.appendChild(c);
r.body.appendChild(h);
c.submit();
r.body.removeChild(c);
l = c = null;
a = setTimeout(o, 100);
s = setTimeout(function() {
n && n("timeout");
clearTimeout(a);
r.body.removeChild(h);
r = h = null;
}, u);
}
var a = i(8), _ = i(20), l = i(16), d = a.isIE6 || a.isIE7 || a.isIE8 ? s : r;
d.get = o;
d.post = n;
t.exports = d;
e(d, "jx_io_Form");
return d;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(46), o = i(8), r = {
info: {
gitCommit: n.git_commit,
buildNumber: n.build_number,
releaseTag: n.release_tag,
userAgent: window.navigator.userAgent,
platform: window.navigator.platform,
language: o.language,
browser: o.browser,
version: o.version,
javaVersion: o.hasJava,
flashVersion: o.hasFlash,
url: window.location.toString()
}
};
t.exports = r;
e(r, "meshim_common_System");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "script";
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_script");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
var a = t.ownerDocument;
s || (s = {});
s.tagName || (s.tagName = "link");
r.call(this, a.getElementsByTagName("head")[0], e, i, null, s);
this.dom.rel = "stylesheet";
this.dom.type = "text/css";
}
var o = i(1), r = i(6);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_ExternalStyleSheet");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
a.call(this, t, e, i, o, r);
}
var o = i(1), r = i(8), s = i(16), a = i(184), _ = i(18), l = [ "woff", "ttf", "svg" ], d = [ "svg", "woff", "ttf" ], u = {
woff: "url(@@DATA@@)format('woff')",
ttf: "url(@@DATA@@)format('truetype')",
svg: "url(@@DATA@@)format('svg')"
}, c = {
woff: "application/font-woff",
ttf: "font/ttf",
svg: "font/svg"
}, h = "@font-face{font-family:'@@NAME@@';src:@@FORMATS@@;font-weight:normal;font-style:normal;}";
n.prototype = o(a.prototype);
n.prototype.setFont = function(t) {
var e, i, n, o = [], a = l, p = this.getBase64();
(r.isIE <= 8 || r.isQuirks || window.document.documentMode && window.document.documentMode <= 8) && (p = {});
r.isChrome && r.isWindows && (a = d);
for (var f = 0, g = a.length; f < g; f++) {
n = a[f];
i = u[n];
try {
o.push(i.replace(/@@DATA@@/g, p[n] ? "data:@@MIME@@;base64,@@B64DATA@@ " : "'@@FONTS_URL@@/@@NAME@@.@@FORMAT@@'").replace(/@@FONTS_URL@@/g, _.FONTS_URL).replace(/@@FORMAT@@/g, n).replace(/@@MIME@@/g, c[n]).replace(/@@B64DATA@@/g, p[n]));
} catch (t) {}
}
e = h.replace(/@@FORMATS@@/g, o.join(",")).replace(/@@NAME@@/g, t);
var m = this;
s(function() {
m.dom && m.addChildren([ e ]);
});
return this;
};
n.prototype.getBase64 = function() {
return this.base64 || {};
};
n.prototype.setBase64 = function(t) {
this.base64 = t;
};
t.exports = n;
e(n, "meshim_widget_widgets_FontLoader");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_Menu = i(68);
e.__$$__meshim_widget_widgets_menu_Section = i(48);
e.__$$__jx_ui_Localizer = i(85);
e.__$$__jx_ui_Label = i(19);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(133), h = o(134), p = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__jx_ui_Localizer, "localizer", "", [ [ e.__$$__jx_ui_Label, "", "", [], {
addClass: "email"
} ] ], {
id: "localizer",
delimiter: "@@@@"
} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
var m = n.get(a + "__localizer");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
"email_transcript_notification" == _ && p.update("");
}
var e = i(8), n = i(16), o = i(5), r = i(10), s = 4100, a = r.isStyleSupported("transition");
e.isFF && (a = !1);
var _, l, d = o.root.$("livechat"), u = d.$("ui").$("chat_window"), p = u.$("menu_stack_name$string"), f = u.$("email_transcript_notification").$("last_sent_email$string"), $ = d.$("channel").$("chatting$bool");
!function() {
g.autobind(p, "value", function(e) {
_ = e;
l && window.clearTimeout(l);
if (e == g.getName()) {
a && n(function() {
g.addClass("fade_out");
});
l = window.setTimeout(t, s);
} else a && n(function() {
g.removeClass("fade_out");
});
});
g.autobind(f, "value", function(t) {
var e = $.getValue();
m.setContent((e ? c : h).replace("<email>", t));
});
r.onTransitionEnd(g, g, t);
}();
}();
for (var b in $) $.hasOwnProperty(b) && (g[b] = $[b]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {
"**self": {
transition: "opacity 0.5s linear 3.5s",
opacity: 1,
"&.fade_out": {
opacity: 0
}
},
".email": {
fontWeight: "bold"
}
};
a(t, "meshim_widget_components_chatWindow_EmailTranscriptNotification");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_Menu = i(68);
e.__$$__meshim_widget_widgets_menu_Section = i(48);
e.__$$__meshim_widget_widgets_ConnAwareForm = i(106);
e.__$$__meshim_widget_widgets_menu_Header = i(96);
e.__$$__meshim_widget_widgets_EmailField = i(78);
e.__$$__meshim_widget_widgets_ErrorMessage = i(79);
e.__$$__meshim_widget_widgets_Controls = i(49);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(76);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(137), h = o(138), p = o(139), f = o(140), g = o(141), m = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareForm, "form", "", [ [ e.__$$__meshim_widget_widgets_menu_Header, "label", "", [ c ], {
id: "label",
addClass: "label",
selectable: "false"
} ], [ e.__$$__meshim_widget_widgets_EmailField, "email", "", [], {
id: "email",
addClass: "email mobile_error_icon",
placeholder: h,
required: "true"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "error_message", "", [ p ], {
id: "error_message",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "", "", [], {
placement: "primary",
value: f,
addClass: "short wide"
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ g ], {
placement: "secondary",
id: "cancel",
addClass: "secondary short wide"
} ] ], {
addClass: "controls_margin"
} ] ], {
id: "form",
noValidate: "true"
} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], $ = m[0].call(this, s, a, null, n.mangleIDs(a, m[3]), m[4]), b = $ || this;
n.set(a, b);
var w = n.get(a + "__form"), x = n.get(a + "__label"), v = n.get(a + "__email"), y = n.get(a + "__error_message"), j = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var C = function() {
var t = i(5), e = t.root.$("livechat"), n = e.$("ui").$("chat_window"), o = e.$("channel"), r = n.$("menu_stack_name$string"), s = n.$("email_transcript_notification").$("last_sent_email$string"), a = e.$("profile").$("email$string"), _ = o.$("chatting$bool"), l = b.dom.ownerDocument;
!function() {
v.setLabelElement(x).setErrorMessageElement(y).setValidity(!0);
w.onConnectedAndSubmit(function(t) {
t.preventDefault();
if (v.validate(!0)) {
var e = v.getValue();
_.getValue() ? o.write({
email_transcript$string: e
}) : o.write({
email_last_transcript$string: e
});
s.update(e);
r.update("email_transcript_notification");
v.reset();
}
});
j.on("click", function() {
r.update("");
});
b.autobind(r, "value", function(t) {
if (t == b.getName()) {
v.setValidity(!0);
v.focus();
}
});
b.autobind(a, "value", function(t) {
l.activeElement !== v.dom && v.setValue(t || "");
});
}();
}();
for (var S in C) C.hasOwnProperty(S) && (b[S] = C[S]);
b.fire && b.fire("init");
b.setStyle && b.setStyle(l);
b.setAttributes && b.setAttributes(u);
"function" == typeof b.addChildren ? b.addChildren(d) : n.addChildren(b, d);
if (b !== this) {
b.__jx__constructor = _;
b.__jx__native = !1;
}
return b;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {
".controls_margin": {
marginTop: "10px"
}
};
a(t, "meshim_widget_components_chatWindow_EmailTranscriptMenu");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_Menu = i(68);
e.__$$__meshim_widget_widgets_menu_Section = i(48);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Controls = i(49);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(135), h = o(136), p = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__jx_ui_Widget, "message", "", [], {
id: "message",
addClass: "message"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "end_chat", "", [ c ], {
placement: "primary",
id: "end_chat",
addClass: "wide short"
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ h ], {
placement: "secondary",
id: "cancel",
addClass: "wide secondary short"
} ] ], {} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
var m = n.get(a + "__message"), $ = n.get(a + "__end_chat"), b = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
var t = i(5), e = i(11), n = t.root.$("livechat"), o = n.$("ui").$("chat_window").$("menu_stack_name$string"), r = n.$("ui").$("chat_window").$("main_stack_name$string"), s = n.$("settings").$("end_chat_menu").$("message$string"), a = n.$("settings").$("rating").$("enabled$bool"), _ = n.$("channel"), l = _.$("served$bool"), d = _.$("rating$string"), u = n.$("ui").$("chat_window").$("rating_panel").$("end_chat$bool");
!function() {
g.autobind(s, "value", function(t) {
m.setText(t || e.end_chat_menu_message || "");
});
$.on("click", function() {
if (a.getValue() && l.getValue() && !d.getValue()) {
u.update(!0);
r.update("rating_panel");
} else t.livechat.endChat();
o.update("");
});
b.on("click", function() {
o.update("");
});
}();
}();
for (var x in w) w.hasOwnProperty(x) && (g[x] = w[x]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {
".message": {
marginBottom: "10px"
}
};
a(t, "meshim_widget_components_chatWindow_EndChatMenu");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ConnAwareForm = i(106);
e.__$$__meshim_widget_widgets_menu_Section = i(48);
e.__$$__meshim_widget_widgets_menu_Header = i(96);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_TextField = i(84);
e.__$$__meshim_widget_widgets_ErrorMessage = i(79);
e.__$$__meshim_widget_widgets_EmailField = i(78);
e.__$$__meshim_widget_widgets_PhoneField = i(160);
e.__$$__meshim_widget_widgets_Controls = i(49);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(76);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(185), h = o(186), p = o(187), f = o(188), g = o(189), m = o(190), $ = o(191), b = o(192), w = o(193), x = [ e.__$$__meshim_widget_widgets_ConnAwareForm, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "internal_section", "", [ [ e.__$$__meshim_widget_widgets_menu_Header, "label", "", [ c ], {
id: "label",
addClass: "label",
selectable: "false"
} ], [ e.__$$__jx_ui_Widget, "name_email_container", "", [ [ e.__$$__meshim_widget_widgets_TextField, "name", "", [], {
id: "name",
placeholder: h,
required: "true",
maxLength: "255",
addClass: "standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "name_error", "", [ p ], {
id: "name_error",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_widgets_EmailField, "email", "", [], {
id: "email",
placeholder: f,
required: "true",
addClass: "standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "email_error", "", [ g ], {
id: "email_error",
useDisplay: "true"
} ] ], {
id: "name_email_container"
} ], [ e.__$$__jx_ui_Widget, "phone_container", "", [ [ e.__$$__meshim_widget_widgets_PhoneField, "phone", "", [], {
id: "phone",
placeholder: m,
addClass: "standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "phone_error", "", [ $ ], {
id: "phone_error",
useDisplay: "true"
} ] ], {
id: "phone_container"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "", "", [], {
placement: "primary",
value: b,
addClass: "save short wide"
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ w ], {
placement: "secondary",
id: "cancel",
addClass: "cancel secondary wide"
} ] ], {
addClass: "controls_margin"
} ] ], {
id: "internal_section",
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu",
noValidate: "true"
} ], v = x[0].call(this, s, a, null, n.mangleIDs(a, x[3]), x[4]), y = v || this;
n.set(a, y);
var j = n.get(a + "__internal_section"), C = n.get(a + "__label"), S = n.get(a + "__name_email_container"), A = n.get(a + "__name"), k = n.get(a + "__name_error"), I = n.get(a + "__email"), T = n.get(a + "__email_error"), B = n.get(a + "__phone_container"), N = n.get(a + "__phone"), D = n.get(a + "__phone_error"), E = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var O = function() {
function t() {
A.reset();
I.reset();
N.reset();
}
function e() {
var t = x.getValue();
t && j.setDisplay(t.email$bool ? "" : "none");
}
var n, o, r, s = i(5), a = i(10), _ = i(9), l = s.root.$("livechat"), d = l.$("profile"), u = l.$("ui"), c = d.$("auth").$("type$string"), h = u.$("chat_window"), p = d.$("logged_in$bool"), f = d.$("display_name$string"), g = d.$("email$string"), m = d.$("phone$string"), $ = h.$("menu_stack_name$string"), b = h.$("profile_menu").$("index$int"), w = l.$("settings").$("login"), x = w.$("allowed_types"), v = w.$("phone_display$bool"), O = l.$("settings").$("forms").$("pre_chat_form");
!function() {
_.mobile(y);
A.setLabelElement(C).setErrorMessageElement(k).setValidity(!0);
I.setErrorMessageElement(T).setValidity(!0);
N.setErrorMessageElement(D).setValidity(!0);
y.autobind(p, "value", function(t) {
o = t;
});
y.autobind(c, "value", function(t) {
n = t;
S.setDisplay(t ? "none" : "");
});
y.autobind(f, "value", function(t) {
a.isDefaultName(t) && (t = "");
t = t || "";
A.setValue(t);
A.setInitialValue(t);
t && A.hidePlaceholder();
});
y.autobind(g, "value", function(t) {
t = t || "";
I.setValue(t);
I.setInitialValue(t);
t && I.hidePlaceholder();
});
y.autobind(m, "value", function(t) {
t = t || "";
N.setValue(t);
N.setInitialValue(t);
t && N.hidePlaceholder();
});
y.autobind(v, "value", function(t) {
r = t;
B.setDisplay(t ? "" : "none");
});
y.autobind($, "value", function(e) {
"profile_menu" == e && t();
});
y.autobind(b, "value", function(e) {
2 == e && t();
});
E.on("click", function(t) {
t.preventDefault();
$.update("");
});
y.onConnectedAndSubmit(function(t) {
t.preventDefault();
if (y.validate(!0)) {
var e = {};
if (!n) {
e.name = A.getValue().trim();
e.email = I.getValue().trim();
}
r && (e.phone = N.getValue().trim());
s.livechat.updateProfile(e);
$.update("");
}
});
y.autobind(x, "value", e);
y.autobind(O, "value", function() {
var t = O.getValue("profile_required$bool"), e = O.$("form").$("4").getValue("required$bool");
A.setRequired(t);
I.setRequired(t);
N.setRequired(e);
});
}();
}();
for (var P in O) O.hasOwnProperty(P) && (y[P] = O[P]);
y.fire && y.fire("init");
y.setStyle && y.setStyle(l);
y.setAttributes && y.setAttributes(u);
"function" == typeof y.addChildren ? y.addChildren(d) : n.addChildren(y, d);
if (y !== this) {
y.__jx__constructor = _;
y.__jx__native = !1;
}
return y;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ConnAwareForm.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ConnAwareForm;
t.__jx__jcss = {
".cancel": {
display: "none"
},
".controls_margin": {
marginTop: "10px"
},
"&.mobile": {
".cancel": {
display: "inline-block"
},
".external": {
marginBottom: "20px",
".header": {
padding: "10px 0",
borderTop: "none"
}
}
}
};
a(t, "meshim_widget_components_chatWindow_profileMenu_Edit");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ProfileCard = i(137);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ProfileCard, "", "", [], {
xmlns: "meshim.widget.widgets"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = function() {
function t(t) {
e.call(c, t);
t && c.setTitleNode(t.$("email$string"));
}
var e;
!function() {
e = c.setDataNode || function() {};
c.setDataNode = t;
}();
}();
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ProfileCard.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ProfileCard;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_VisitorProfileCard");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_menu_Section = i(48);
e.__$$__meshim_widget_widgets_VisitorProfileCard = i(260);
e.__$$__meshim_widget_widgets_iconFont_Button = i(161);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(197), h = o(198), p = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__jx_ui_Widget, "external", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_VisitorProfileCard, "profile_card", "", [], {
id: "profile_card",
addClass: "profile_card"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "sign_out", "", [], {
id: "sign_out",
icon: "dustbin",
title: c
} ] ], {
addClass: "controls"
} ] ], {
addClass: "positioned"
} ], [ e.__$$__jx_ui_Widget, "phone_container_external", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "phone_text_external", "", [], {
id: "phone_text_external",
addClass: "phone_text_external break_word"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "edit_external_phone", "", [], {
id: "edit_external_phone",
icon: "pencil",
title: h
} ] ], {
addClass: "controls"
} ] ], {
addClass: "positioned"
} ] ], {
id: "phone_container_external",
addClass: "phone_container_external"
} ] ], {
id: "external"
} ], [ e.__$$__jx_ui_Widget, "name_email", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "name", "", [], {
id: "name",
addClass: "name break_word"
} ], [ e.__$$__jx_ui_Widget, "email", "", [], {
id: "email",
addClass: "email break_word"
} ], [ e.__$$__jx_ui_Widget, "phone_text", "", [], {
id: "phone_text",
addClass: "phone break_word"
} ] ], {
addClass: "name_email"
} ], [ e.__$$__jx_ui_Widget, "edit_controls", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "edit", "", [], {
id: "edit",
icon: "pencil",
title: h
} ], [ e.__$$__meshim_widget_widgets_iconFont_Button, "sign_out_name_email", "", [], {
id: "sign_out_name_email",
icon: "dustbin",
title: c
} ] ], {
id: "edit_controls",
addClass: "controls"
} ] ], {
id: "name_email",
addClass: "positioned"
} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
var m = n.get(a + "__external"), $ = n.get(a + "__profile_card"), b = n.get(a + "__sign_out"), w = n.get(a + "__phone_container_external"), x = n.get(a + "__phone_text_external"), v = n.get(a + "__edit_external_phone"), y = n.get(a + "__name_email"), j = n.get(a + "__name"), C = n.get(a + "__email"), S = n.get(a + "__phone_text"), A = n.get(a + "__edit_controls"), k = n.get(a + "__edit"), I = n.get(a + "__sign_out_name_email");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var T = function() {
var t, e, n, o = i(5), r = (i(45), i(10)), s = i(9), a = i(11), _ = o.root.$("livechat"), l = _.$("profile"), d = _.$("ui"), u = d.$("visitor").$("authenticated$bool"), c = l.$("auth").$("type$string"), h = l.$("display_name$string"), p = l.$("email$string"), f = l.$("phone$string"), T = _.$("settings").$("login").$("phone_display$bool"), B = d.$("chat_window").$("profile_menu").$("index$int"), N = d.$("chat_window").$("menu_stack_name$string");
!function() {
function i() {
if (t) {
w.setDisplay(n ? "" : "none");
x.setText(e || a.placeholder.phone);
x[e ? "removeClass" : "addClass"]("placeholder");
} else if (n && e) {
S.setText(e);
S.setDisplay("");
} else S.setDisplay("none");
}
function _() {
B.update(2);
}
g.autobind(u, "value", function(t) {
A.setDisplay(t ? "none" : "");
});
$.setDataNode(l);
s.mobile(g);
s.rtl(g);
g.autobind(h, "value", function(t) {
r.isDefaultName(t) && (t = "");
j.setText(t || "");
j.setDisplay(t ? "" : "none");
});
g.autobind(p, "value", function(t) {
C.setText(t || "");
C.setDisplay(t ? "" : "none");
});
g.autobind(f, "value", function(t) {
e = t;
i();
});
g.autobind(T, "value", function(t) {
n = t;
i();
});
g.autobind(c, "value", function(e) {
t = e;
if (e) {
m.setDisplay("");
y.setDisplay("none");
} else {
m.setDisplay("none");
y.setDisplay("");
}
i();
});
k.on("click", _);
v.on("click", _);
x.on("click", function() {
e || _();
});
b.on("click", function() {
o.livechat.doExternalLogout();
});
I.on("click", function() {
l.write({
display_name$string: "",
email$string: "",
phone$string: ""
});
N.update("");
});
}();
}();
for (var B in T) T.hasOwnProperty(B) && (g[B] = T[B]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".name_email": {
".name": {
paddingRight: "40px"
}
},
"&.rtl .name_email": {
".name": {
paddingRight: 0,
paddingLeft: "40px"
}
},
".controls": {
position: "absolute",
"top, right": 0,
".meshim_widget_widgets_iconFont_Button": {
display: "inline-block",
cursor: "pointer",
height: "100%",
paddingLeft: "5px",
color: "$$menuHeaderColor",
"&:hover, &:focus": {
color: "$$menuColor"
}
}
},
"&.rtl .controls": {
right: "auto",
left: 0,
".meshim_widget_widgets_iconFont_Button": {
paddingLeft: 0,
paddingRight: "5px"
}
},
".break_word": {
wordWrap: "break-word"
},
".name, .email, .phone": {
lineHeight: 1.5
},
".phone_text_external": {
paddingRight: "40px",
"&.placeholder": {
cursor: "pointer",
color: "$$inputPlaceholderColor",
fontStyle: "$$inputPlaceholderFontStyle"
}
},
"&.rtl .phone_text_external": {
paddingRight: 0,
paddingLeft: "40px"
},
".profile_card": {
cursor: "default",
".avatar_cell": {
width: "32px"
},
".content_cell": {
paddingLeft: "10px"
},
".profile_name": {
whiteSpace: "nowrap",
paddingRight: "20px"
}
},
"&.rtl .profile_card": {
".content_cell": {
paddingLeft: 0,
paddingRight: "10px"
},
".profile_name, .profile_email, .profile_title": {
paddingRight: 0,
paddingLeft: "20px"
}
},
".name": {
fontWeight: "bold"
},
".positioned": {
position: "relative"
},
".phone_container_external": {
"marginTop, paddingTop": "10px",
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor"
},
"&.mobile": {
".controls": {
height: "100%",
".meshim_widget_widgets_iconFont_Button": {
"paddingRight, paddingLeft": "10px"
}
},
".name_email": {
".name, .email": {
paddingRight: "80px"
}
},
".profile_card": {
".profile_name, .profile_email, .profile_title": {
paddingRight: "40px"
}
},
".phone_text_external": {
lineHeight: "32px"
}
},
"&.mobile.rtl": {
".name_email": {
".name, .email": {
paddingRight: 0,
paddingLeft: "80px"
}
},
".profile_card": {
".profile_name, .profile_email, .profile_title": {
paddingRight: 0,
paddingLeft: "40px"
}
}
}
};
a(t, "meshim_widget_components_chatWindow_profileMenu_Status");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_menu_Section = i(48);
e.__$$__meshim_widget_widgets_menu_Header = i(96);
e.__$$__meshim_widget_widgets_menu_Item = i(36);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(195), h = o(196), p = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "external_section", "", [ [ e.__$$__meshim_widget_widgets_menu_Header, "", "", [ c ], {
addClass: "item"
} ], [ e.__$$__jx_ui_Widget, "types", "", [], {
id: "types",
addClass: "external_types"
} ] ], {
id: "external_section"
} ], [ e.__$$__meshim_widget_widgets_menu_Section, "email", "", [ [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ h ], {} ] ], {
id: "email",
addClass: "border_top"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
var m = n.get(a + "__external_section"), $ = n.get(a + "__types"), b = n.get(a + "__email");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
var t = d.getValue();
if (t) {
e = c.getValue();
b.setDisplay(t.email$bool ? "" : "none");
var i, n;
for (var o in h) if (h.hasOwnProperty(o)) {
n = t[o + "$bool"];
h[o].setDisplay(n ? "" : "none");
e && n && h[o].setDisplay("inline-block");
n && (i = !0);
}
m.setDisplay(i ? "" : "none");
}
}
var e, n = i(5), o = i(159), r = i(158), s = i(36), a = i(11), _ = i(9), l = i(19), d = n.root.$("livechat").$("settings").$("login").$("allowed_types"), u = n.root.$("livechat").$("ui").$("chat_window").$("profile_menu").$("index$int"), c = n.root.$$("livechat.ui.mobile$bool"), h = {
facebook: null,
twitter: null,
google: null
}, p = {
facebook: "facebook",
twitter: "twitter",
google: "google_2016"
};
!function() {
_.mobile(g);
e = c.getValue();
for (var i in h) if (h.hasOwnProperty(i)) if (e) h[i] = new r($, null, null, null, {
name: i,
addClass: "float " + i,
icon: p[i] + "_out"
}); else {
h[i] = new s($, null, null, null, {
name: i
});
new o(h[i], null, null, null, {
addClass: "menu_icon " + i,
icon: p[i]
});
new l(h[i], null, null, [ a.external_login[i] || i ], {
addClass: "label"
});
}
g.autobind(d, "value", t);
$.on("click", function(t) {
var e = t.target.jx_wrapper;
if (e != $) {
for (;e.parentNode != $; ) e = e.parentNode;
var i = e.getName && e.getName();
i && n.livechat.doExternalLogin(i);
}
});
b.on("click", function() {
u.update(2);
});
}();
}();
for (var x in w) w.hasOwnProperty(x) && (g[x] = w[x]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".meshim_widget_widgets_menu_Item": {
".label": {
marginLeft: "10px"
},
"&[name=facebook] .menu_icon": {
top: "1px"
},
"&[name=google]   .menu_icon": {
top: "2px"
}
},
".menu_icon": {
position: "relative",
float: "left",
fontSize: "$$fontSizeXL"
},
"&.mobile": {
".external_types": {
margin: "$$menuItemPadding"
}
}
};
a(t, "meshim_widget_components_chatWindow_profileMenu_Login");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Menu = i(68);
e.__$$__meshim_widget_widgets_ViewStack = i(55);
e.__$$__meshim_widget_components_chatWindow_profileMenu_Login = i(262);
e.__$$__meshim_widget_components_chatWindow_profileMenu_Status = i(261);
e.__$$__meshim_widget_components_chatWindow_profileMenu_Edit = i(259);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_profileMenu_Login, "", "", [], {
addClass: "login"
} ], [ e.__$$__meshim_widget_components_chatWindow_profileMenu_Status, "", "", [], {
addClass: "status"
} ], [ e.__$$__meshim_widget_components_chatWindow_profileMenu_Edit, "", "", [], {
addClass: "edit"
} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu",
"xmlns:profileMenu": "meshim.widget.components.chatWindow.profileMenu"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
p.setIndex(e ? 1 : n ? 0 : 2);
}
var e, n, o, r = i(5), s = r.root.$("livechat").$("ui").$("chat_window").$("profile_menu").$("index$int"), a = r.root.$("livechat").$("profile").$("logged_in$bool"), _ = r.root.$("livechat").$("settings").$("login").$("allowed_types");
!function() {
h.autobind(_, "value", function() {
var t = _.getValue();
n = 0;
for (var e in t) if (t.hasOwnProperty(e)) {
if ("email$bool" == e) continue;
t[e] && n++;
}
});
h.autobind(s, "value", function(e) {
o || p.setIndex(isNaN(e) ? t() : e);
});
p.on("indexChange", function(t) {
o = !0;
s.update(t);
o = !1;
});
h.autobind(a, "value", function(i) {
e = i;
t();
});
h.on("hide", t);
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_ProfileMenu");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(36);
e.__$$__meshim_widget_widgets_Button = i(17);
e.__$$__jx_ui_Label = i(19);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(194), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "", "", [ c ], {
addClass: "end_chat wide short"
} ], [ e.__$$__jx_ui_Label, "", "", [ c ], {
addClass: "end_chat_mobile"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
var t = i(5), e = t.root.$("livechat"), n = e.$("settings").$("end_chat_menu").$("enabled$bool"), o = e.$("ui").$("chat_window").$("menu_stack_name$string"), r = t.root.$("connection").$("message$string");
!function() {
f.on("click", function() {
o.update("end_chat_menu");
});
f.autobind(n, "value", function(t) {
f.setDisplay(t ? "" : "none");
});
f.autobind(r, "value", function(t) {
var e = !!t;
f.setDisabled(e);
});
}();
}();
for (var m in g) g.hasOwnProperty(m) && (f[m] = g[m]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {
cursor: "default",
"&:hover": {
background: "transparent !important"
},
".end_chat": {
display: "block",
textAlign: "center",
cursor: "pointer",
"&.disabled": {
cursor: "default"
}
},
".end_chat_mobile": {
display: "none"
}
},
"&.mobile": {
".end_chat": {
display: "none"
},
".end_chat_mobile": {
display: "block"
}
}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_EndChat");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(36);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(75);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(184), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
var t = i(5), e = t.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string");
!function() {
f.on("click", function() {
e.update("email_transcript_menu");
});
}();
}();
for (var m in g) g.hasOwnProperty(m) && (f[m] = g[m]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_EmailTranscript");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
s.call(this, t, e, i, o, r);
this.setAttribute("method", "post");
this.setAttribute("enctype", "multipart/form-data");
}
var o = i(1), r = i(8), s = i(42);
n.prototype = o(s.prototype);
n.prototype.submit = function() {
if (this.path) {
this.setAttribute("action", this.path);
var t, e = "_widget_fileuploader_" + +new Date();
if (r.bugs.noBoxSizing) t = this.doc.createElement('<iframe name="' + e + '">'); else {
t = this.doc.createElement("iframe");
t.setAttribute("name", e);
}
t.setAttribute("id", e);
t.style.display = "none";
this.dom.target = e;
this.appendChild(t);
s.prototype.submit.call(this);
}
};
n.prototype.setPath = function(t) {
this.path = t;
return this;
};
t.exports = n;
e(n, "meshim_widget_widgets_FileUploader");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(36);
e.__$$__jx_ui_Label = i(19);
e.__$$__meshim_widget_widgets_SendFile = i(121);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(183), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ c ], {} ], [ e.__$$__meshim_widget_widgets_SendFile, "send_file", "", [], {
id: "send_file",
addClass: "send_file"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__send_file");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
var t = s.getValue(), e = _.getValue("color_customization_enabled$int") || _.getValue("widget_customization_enabled$int"), i = a.getValue(), n = !0;
e ? !1 === t && (n = !1) : n = !1;
f.setDisplay(n && i ? "" : "none");
}
var e = i(5), n = e.root.$("livechat"), o = n.$("ui").$("chat_window").$("menu_stack_name$string"), r = n.$("settings").$("file_sending"), s = r.$("enabled$bool"), a = n.$("channel").$("chatting$bool"), _ = n.$("settings").$("package");
!function() {
g.on("before_submit", function() {
o.update("");
});
f.autobind(s, "value", t);
f.autobind(_, "value", t);
f.autobind(a, "value", t);
}();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
".send_file": {
position: "absolute",
"bottom, right": 0
}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_SendFile");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(36);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(75);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(182), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
var t = i(5), e = t.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
!function() {
f.on("click", function() {
e.update("about_panel");
});
}();
}();
for (var m in g) g.hasOwnProperty(m) && (f[m] = g[m]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_settingsMenu_About");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(36);
e.__$$__meshim_widget_widgets_menu_IconFont = i(123);
e.__$$__jx_ui_Label = i(19);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(181), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_IconFont, "icon", "", [], {
id: "icon"
} ], [ e.__$$__jx_ui_Label, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__icon");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
s.getValue() && r.getValue() ? f.setDisplay("") : f.setDisplay("none");
}
var e = i(5), n = e.root.$("livechat"), o = n.$("profile"), r = o.$("allow_cookies$bool"), s = n.$("settings").$("cookie_law").$("enabled$bool"), a = n.$("ui").$("chat_window").$("main_stack_name$string");
!function() {
f.on("click", function() {
r.getValue() && a.update("cookie_form");
});
f.autobind(r, "value", function(e) {
g.setIcon(e);
t();
});
f.autobind(s, "value", t);
}();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_Cookies");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
if (o.isIE && !(o.isIE >= 9)) {
var e = document.createElement("bgsound");
document.body ? document.body.insertBefore(e, document.body.firstChild) : document.documentElement.appendChild(e);
this.dom = e;
this.loop = 0;
this.load(t);
}
}
var o = i(8);
n.prototype.load = function(t) {
this.src = t + ".wav";
};
n.prototype.play = function(t) {
this.dom.src = this.src;
this.dom.loop = t || this.loop;
};
n.prototype.stop = function() {
this.dom.src = "";
};
n.prototype.setVolume = function() {};
n.prototype.setLoop = function(t) {
this.loop = parseInt(t, 10);
};
t.exports = n;
e(n, "meshim_common_sounds_BGSoundTag");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e, i = +new Date() + Math.round(1e4 * Math.random()), n = t.substring(0, t.lastIndexOf("/") + 1) + "JSMP3.swf";
if (o.isIE) {
try {
new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash");
} catch (t) {
return;
}
e = document.createElement("div");
document.body.insertBefore(e, document.body.firstChild);
var s = '<object id="__zopimSoundPlayer' + i + '" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="' + n + '" /><param name="allowScriptAccess" value="always" /></object>';
e.innerHTML = s;
e = e.firstChild;
var a = document.title.split("#")[0];
r(function() {
document.title !== a && (document.title = a);
});
} else {
if (!navigator.mimeTypes["application/x-shockwave-flash"]) return;
e = document.createElement("embed");
e.id = "__zopimSoundPlayer" + i;
e.src = n;
e.setAttribute("allowScriptAccess", "always");
document.body.insertBefore(e, document.body.firstChild);
}
e.style.left = e.style.top = "-9999px";
e.style.position = "absolute";
this.dom = e;
this.loop = 1;
this.load(t);
}
var o = i(8), r = i(16);
n.prototype.load = function(t) {
if (this.dom.loadSound) {
this.dom.loadSound(t + ".mp3");
this.loaded = !0;
} else {
var e = this;
setTimeout(function() {
e.load(t);
}, 1e3);
}
};
n.prototype.play = function(t) {
if (this.loaded) try {
this.dom.playSound(t || this.loop);
} catch (t) {} else {
var e = this;
setTimeout(function() {
e.play(t);
}, 1e3);
}
};
n.prototype.stop = function() {
if (this.loaded) try {
this.dom.stopSound();
} catch (t) {}
};
n.prototype.setVolume = function(t) {
t = parseInt(t, 10);
if (!isNaN(t)) {
t > 10 && (t = 10);
t < 0 && (t = 0);
if (this.loaded) try {
this.dom.setVolume(t / 10);
} catch (t) {} else {
var e = this;
setTimeout(function() {
e.setVolume(t);
}, 500);
}
}
};
n.prototype.setLoop = function(t) {
this.loop = t;
if (this.loaded) try {
this.dom.setLoop(t);
} catch (t) {} else {
var e = this;
setTimeout(function() {
e.setLoop(t);
}, 500);
}
};
t.exports = n;
e(n, "meshim_common_sounds_FlashSound");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e = document.createElement("audio"), i = this, n = function() {
o.call(i);
};
if (e.canPlayType) {
var r = /^(probably|maybe)$/i;
try {
if (e.canPlayType("audio/mpeg").match(r)) this.type = "mp3"; else if (e.canPlayType('audio/ogg; codecs="vorbis"').match(r)) this.type = "ogg"; else {
if (!e.canPlayType("audio/wav").match(r)) return;
this.type = "wav";
}
} catch (t) {
return;
}
e.setAttribute("autobuffer", "true");
e.setAttribute("preload", "");
this.dom = e;
this.remainingLoop = 1;
this.loop = 1;
this.play_count = 0;
this.load(t);
this.dom.addEventListener("ended", n, !1);
}
}
function o() {
this.play_count++;
if (a.isSafari && this.play_count >= 50) {
this.play_count = 0;
this.dom.load();
}
if (this.remainingLoop > 0) {
this.remainingLoop--;
s.call(this);
var t = this.dom.play();
void 0 !== t && t.catch(r);
}
}
function r() {}
function s() {
this.dom && this.dom.currentTime && (this.dom.currentTime = 0);
}
var a = i(8), _ = i(28);
n.prototype.load = function(t) {
this.dom.setAttribute("src", t + "." + this.type);
this.remainingLoop = 0;
};
n.prototype.play = function(t) {
this.remainingLoop += t || this.loop;
o.call(this);
};
n.prototype.stop = function() {
this.dom.pause();
s.call(this);
};
n.prototype.setVolume = function(t) {
t = parseInt(t, 10);
if (!isNaN(t)) {
t > 10 && (t = 10);
t < 0 && (t = 0);
this.dom.volume = t / 10;
}
};
n.prototype.setLoop = function(t) {
t = parseInt(t, 10);
this.loop = _(t) ? t : 1;
};
t.exports = n;
e(n, "meshim_common_sounds_AudioTag");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e;
this.url = t;
e = new s(t);
if (e.dom) return e;
e = new a(t);
if (e.dom) return e;
e = new _(t);
return e.dom ? e : void 0;
}
function o() {
return this;
}
function r(t) {
/\/$/.test(t) || (t += "/");
this.repo_url = t || l;
this.repo = {};
}
var s = i(272), a = i(271), _ = i(270);
n.prototype.load = n.prototype.play = n.prototype.stop = n.prototype.setVolume = n.prototype.setLoop = o;
var l = "dashboard/sounds/";
r.prototype.create = function(t, e, i, o) {
var r = new n(this.repo_url + e);
i && r.setVolume(i);
o && r.setLoop(o);
r.title = e;
this.repo[t] = r;
return this;
};
r.prototype.getSound = function(t) {
var e = this.repo[t];
if (e) return e;
throw new window.Error("you have not created " + t + " sound yet");
};
r.prototype.hasSound = function(t) {
try {
this.getSound(t);
return !0;
} catch (t) {
return !1;
}
};
r.prototype.setSrc = function(t, e) {
this.getSound(t).load(this.repo_url + e);
return this;
};
r.prototype.getTitle = function(t) {
this.getSound(t).title;
};
r.prototype.play = function(t, e) {
this.getSound(t).play(parseInt(e, 10) || 0);
return this;
};
r.prototype.stop = function(t) {
this.getSound(t).stop();
return this;
};
r.prototype.setVolume = function(t, e) {
this.getSound(t).setVolume(e);
return this;
};
r.prototype.setLoop = function(t, e) {
this.getSound(t).setLoop(e);
return this;
};
r.prototype.getLoop = function(t) {
this.getSound(t).loop;
};
t.exports = r;
e(r, "meshim_common_Sounds");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(36);
e.__$$__meshim_widget_widgets_menu_IconFont = i(123);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(75);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(180), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_IconFont, "icon_sound", "", [], {
id: "icon_sound"
} ], [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__icon_sound");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
var t = i(5), e = i(122), n = t.root.$("livechat").$("profile"), o = n.$("notification").$("sound$bool");
!function() {
f.on("click", function() {
o.update(!e.isSoundEnabled());
});
f.autobind(o, "value", function() {
g.setIcon(e.isSoundEnabled() ? "sound_on" : "sound_off", !0);
});
}();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {},
"&.mobile": {
display: "none"
}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_Sound");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(36);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(75);
e.__$$__jx_ui_Label = i(19);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(168), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "logged_out", "", [ c ], {
id: "logged_out"
} ], [ e.__$$__jx_ui_Label, "name", "", [], {
id: "name",
addClass: "logged_in_name"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__logged_out"), m = n.get(a + "__name");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
if (e) {
n && !_.isDefaultName(n) ? m.setText(r.replace("<name>", n)) : m.setText(s);
g.setDisplay("none");
m.setDisplay("");
} else {
g.setDisplay("");
m.setDisplay("none");
}
}
var e, n, o = i(7), r = o(169), s = o(170), a = i(5), _ = i(10), l = a.root.$("livechat"), d = l.$("profile"), u = d.$("logged_in$bool"), c = d.$("display_name$string"), h = l.$("ui").$("chat_window").$("menu_stack_name$string"), p = l.$("settings").$("login").$("restrict_profile$bool");
!function() {
f.on("click", function(t) {
t.stopPropagation();
h.update("profile_menu");
});
f.autobind(u, "value", function(i) {
e = i;
t();
});
f.autobind(c, "value", function(e) {
n = e || "";
t();
});
f.autobind(p, "value", function(t) {
f.setDisplay(t ? "none" : "");
});
o && o.onLanguage && o.onLanguage(t);
}();
}();
for (var b in $) $.hasOwnProperty(b) && (f[b] = $[b]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {
display: "none"
},
"&.mobile": {
display: "block"
}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_Profile");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Menu = i(68);
e.__$$__meshim_widget_widgets_menu_Section = i(48);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_Profile = i(275);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_Sound = i(274);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_Cookies = i(269);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_About = i(268);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_SendFile = i(267);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_EmailTranscript = i(265);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_EndChat = i(264);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_Profile, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_Sound, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_Cookies, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_About, "", "", [], {} ] ], {} ], [ e.__$$__meshim_widget_widgets_menu_Section, "chat_actions", "", [ [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_SendFile, "send_file", "", [], {
id: "send_file",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_EmailTranscript, "email_transcript", "", [], {
id: "email_transcript",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_EndChat, "end_chat", "", [], {
id: "end_chat",
useDisplay: "true"
} ] ], {
id: "chat_actions",
useDisplay: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu",
"xmlns:settingsMenu": "meshim.widget.components.chatWindow.settingsMenu"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__chat_actions"), f = (n.get(s + "__send_file"), n.get(s + "__email_transcript")), g = n.get(s + "__end_chat");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
var t = e();
g.setVisible(t.end_chat);
f.setVisible(t.email_transcript);
p.setVisible(t.chat_actions);
}
function e() {
var t = +new Date(), e = _.getValue() || !1, i = d.getValue() || !1, o = n && t - n >= r, s = e || i || u && !o;
return {
end_chat: i,
email_transcript: s,
chat_actions: i || s
};
}
var n, o = i(5), r = 6e5, s = o.root.$("livechat"), a = s.$("ui"), _ = a.$("visitor").$("authenticated$bool"), l = a.$("chat_window").$("menu_stack_name$string"), d = s.$("channel").$("chatting$bool"), u = !1;
!function() {
h.autobind(d, "value", function(t) {
t && (u = !0);
u && !t && (n = +new Date());
});
h.autobind(l, "value", function(e) {
"settings_menu" === e && t();
});
}();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_SettingsMenu");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_AgentProfileCard = i(138);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_AgentProfileCard, "", "", [], {
xmlns: "meshim.widget.widgets",
addClass: "profile_card"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_AgentProfileCard.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_AgentProfileCard;
t.__jx__jcss = {
"**self": {
marginBottom: "10px",
".avatar_cell": {
verticalAlign: "top",
width: "32px",
".profile_avatar": {
"width, height": "32px",
bottom: "auto"
}
},
".profile_table .content_cell": {
padding: "0 10px",
verticalAlign: "middle"
}
}
};
s(t, "meshim_widget_components_chatWindow_agentList_AgentProfileCard");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__meshim_widget_widgets_Header = i(63);
e.__$$__meshim_widget_widgets_Body = i(37);
e.__$$__jx_ui_Localizer = i(85);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Bottom = i(32);
e.__$$__jx_ui_Form = i(42);
e.__$$__meshim_widget_widgets_Controls = i(49);
e.__$$__meshim_widget_widgets_Submit = i(70);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(175), h = o(176), p = o(177), f = o(178), g = o(179), m = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [ g ], {} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [ [ e.__$$__jx_ui_Localizer, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
tagName: "a",
href: "https://www.zopim.com/privacy#cookie",
target: "_blank"
} ] ], {
content: c
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ h ], {
addClass: "note"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
placement: "primary",
addClass: "wide",
value: p
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ f ], {
placement: "secondary",
id: "cancel",
addClass: "wide secondary"
} ] ], {} ] ], {
id: "form"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], $ = m[0].call(this, s, a, null, n.mangleIDs(a, m[3]), m[4]), b = $ || this;
n.set(a, b);
var w = n.get(a + "__form"), x = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
var t = i(5), e = i(41), n = t.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
!function() {
w.on("submit", function(t) {
t.preventDefault();
e.setUserChoice(!1);
});
x.on("click", function() {
n.update("chat_panel");
});
}();
}();
for (var y in v) v.hasOwnProperty(y) && (b[y] = v[y]);
b.fire && b.fire("init");
b.setStyle && b.setStyle(l);
b.setAttributes && b.setAttributes(u);
"function" == typeof b.addChildren ? b.addChildren(d) : n.addChildren(b, d);
if (b !== this) {
b.__jx__constructor = _;
b.__jx__native = !1;
}
return b;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_cookieForm_Decline");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__meshim_widget_widgets_Header = i(63);
e.__$$__meshim_widget_widgets_Body = i(37);
e.__$$__jx_ui_Localizer = i(85);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Bottom = i(32);
e.__$$__jx_ui_Form = i(42);
e.__$$__meshim_widget_widgets_Submit = i(70);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(171), h = o(172), p = o(173), f = o(174), g = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [ f ], {} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [ [ e.__$$__jx_ui_Localizer, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
tagName: "a",
href: "https://www.zopim.com/privacy#cookie",
target: "_blank"
} ] ], {
content: c
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ h ], {
addClass: "note"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
addClass: "wide",
value: p
} ] ], {
id: "form"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], m = g[0].call(this, s, a, null, n.mangleIDs(a, g[3]), g[4]), $ = m || this;
n.set(a, $);
var b = n.get(a + "__form");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
var t = i(5), e = i(41), n = t.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
!function() {
b.on("submit", function(t) {
t.preventDefault();
n.update("chat_panel");
e.setUserChoice(!0);
});
}();
}();
for (var x in w) w.hasOwnProperty(x) && ($[x] = w[x]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(l);
$.setAttributes && $.setAttributes(u);
"function" == typeof $.addChildren ? $.addChildren(d) : n.addChildren($, d);
if ($ !== this) {
$.__jx__constructor = _;
$.__jx__native = !1;
}
return $;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_cookieForm_Accept");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__jx_ui_Form = i(42);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__meshim_widget_widgets_Body = i(37);
e.__$$__jx_ui_TextArea = i(153);
e.__$$__meshim_widget_widgets_Bottom = i(32);
e.__$$__meshim_widget_widgets_Submit = i(70);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(166), h = o(167), p = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__jx_ui_TextArea, "comments", "", [], {
id: "comments",
addClass: "comments"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
value: c
} ], [ e.__$$__meshim_widget_widgets_Button, "skip", "", [ h ], {
id: "skip",
addClass: "secondary"
} ] ], {
addClass: "padding_bottom"
} ] ], {
id: "form"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
var m = n.get(a + "__form"), $ = n.get(a + "__message"), b = n.get(a + "__comments"), w = n.get(a + "__skip");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var x = function() {
function t() {
$.setText(o.get(l.$$(e + ".message$string")));
b.setPlaceholder(o.get(l.$$(e + ".placeholder$string")));
}
var e, n = i(5), o = i(11), r = n.root.$("livechat"), s = r.$("settings").$("forms").$("post_chat_form"), a = r.$("channel").$("rating$string"), _ = n.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string"), l = s.$("comments_messages");
!function() {
b.setLabelElement($);
g.autobind(l, "value", function() {
t();
});
g.autobind(a, "value", function(i) {
e = i;
t();
});
m.on("submit", function(t) {
t.preventDefault();
if (g.validate()) {
s.write({
comments_user$string: b.getValue().trim()
});
_.update("chat_panel");
}
});
w.on("click", function() {
_.update("chat_panel");
});
}();
}();
for (var v in x) x.hasOwnProperty(v) && (g[v] = x[v]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".comments": {
width: "100%",
height: "25%"
}
};
a(t, "meshim_widget_components_chatWindow_postChatForm_CommentsForm");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(6);
h.setItems = function(e) {
e = e.split(",");
for (var i = 0, n = e.length; i < n; i++) new t(h, null, null, null, {
className: e[i]
});
};
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
}
};
s(t, "meshim_widget_widgets_Motif");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__meshim_widget_widgets_Header = i(63);
e.__$$__meshim_widget_widgets_Body = i(37);
e.__$$__meshim_widget_widgets_RatingBar = i(98);
e.__$$__meshim_widget_widgets_motif_Chat = i(130);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "header", "", [], {
id: "header"
} ], [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__meshim_widget_widgets_RatingBar, "rating_bar", "", [], {
id: "rating_bar",
addClass: "rating_bar",
description: "true"
} ], [ e.__$$__meshim_widget_widgets_motif_Chat, "", "", [], {
addClass: "chat_motif"
} ] ], {
addClass: "scrollable_frame"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__header"), f = n.get(s + "__message"), g = n.get(s + "__rating_bar");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
var t = i(5), e = i(11), n = i(9), o = t.root.$("livechat").$("settings").$("forms").$("post_chat_form"), r = o.$("header$string"), s = o.$("message$string"), a = t.root.$("livechat").$("channel"), _ = a.$("rating$string");
!function() {
n.mobile(h);
g.setDataNode(_);
h.autobind(r, "value", function() {
p.setText(e.get(r));
});
h.autobind(s, "value", function() {
f.setText(e.get(s));
});
}();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
"**self": {
textAlign: "center"
},
".rating_bar": {
display: "inline-block",
width: "150px"
},
".chat_motif": {
position: "absolute",
"bottom, left": 0
},
".scrollable_frame": {
paddingBottom: "0 !important"
},
"&.mobile": {
".chat_motif": {
position: "relative"
}
}
};
s(t, "meshim_widget_components_chatWindow_postChatForm_RatingForm");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
this.iframe_quirks = t.ownerDocument != document;
this.container = new s(t, null, null, null, {});
this.container.addClass("container");
var l = this;
this.container.destroy = function() {
l.destroy();
};
this.container.empty = function() {
l.empty();
};
this.container_middle = new s(this.container, null, null, null, {});
this.container_middle.addClass("container_middle");
s.call(this, this.container_middle, e, i, o, r);
this.useDisplay = !0;
if (_) {
this.container.setStyle("position", "relative");
this.container_middle.setStyle("position", "absolute");
this.setStyle("position", "relative");
(a || this.iframe_quirks) && this.container_middle.setStyle("width", "100%").setStyle("left", 0);
} else {
r.visible || this.container.setStyle("display", "table");
this.container_middle.setStyle("display", "table-cell").setStyle("width", "100%");
this.setStyle("display", "table");
}
this.container.setStyle("overflow", "hidden").setStyle("width", "100%").setStyle("height", "100%");
r.hAlign || this.setHAlign();
r.vAlign || this.setVAlign();
}
var o = i(8), r = i(1), s = i(6), a = o.isQuirks, _ = o.bugs.noBoxSizing, l = _ ? "block" : "table";
n.prototype = r(s.prototype);
n.prototype.show = function() {
if (this.container && this.container.dom.style.display != l) {
this.container.setVisible(l);
this.fire("show");
}
return this;
};
n.prototype.hide = function() {
if (this.container && "none" != this.container.dom.style.display) {
this.container.setVisible("none");
this.fire("hide");
}
return this;
};
n.prototype.isVisible = function() {
return this.container && this.container.dom.style.display == l;
};
n.prototype.setZIndex = function(t) {
this.container && this.container.setZIndex(t);
return this;
};
n.prototype.destroy = function() {
s.prototype.destroy.call(this);
if (this.container) {
s.prototype.empty.call(this.container);
this.container.empty = null;
s.prototype.destroy.call(this.container);
this.container = this.container_middle = null;
}
};
n.prototype.getHAlign = function() {
return this.hAlign;
};
n.prototype.setHAlign = function(t) {
switch (t) {
case "left":
a || this.iframe_quirks ? this.container_middle.setStyle("text-align", "left") : _ ? this.setStyle("margin-left", "0").setStyle("margin-right", "auto") : this.container_middle.setStyle("left", "0%").setStyle("right", "");
this.hAlign = t;
break;

case "right":
a || this.iframe_quirks ? this.container_middle.setStyle("text-align", "right") : _ ? this.setStyle("margin-left", "auto").setStyle("margin-right", "0") : this.container_middle.setStyle("left", "").setStyle("right", "0%");
this.hAlign = t;
break;

default:
a || this.iframe_quirks ? this.container_middle.setStyle("text-align", "center") : _ && this.container_middle.setStyle("left", "").setStyle("right", "");
this.setStyle("margin-left", "auto").setStyle("margin-right", "auto");
this.hAlign = "center";
}
};
n.prototype.getVAlign = function() {
return this.vAlign;
};
n.prototype.setVAlign = function(t) {
switch (t) {
case "top":
if (_) {
this.container_middle.setStyle("top", "0%").setStyle("bottom", "");
this.setStyle("top", "");
} else this.container_middle.setStyle("vertical-align", "top");
this.vAlign = t;
break;

case "bottom":
if (_) {
this.container_middle.setStyle("top", "").setStyle("bottom", "0%");
this.setStyle("top", "");
} else this.container_middle.setStyle("vertical-align", "bottom");
this.vAlign = t;
break;

default:
if (_) {
this.container_middle.setStyle("top", "50%").setStyle("bottom", "");
this.setStyle("top", "-50%");
} else this.container_middle.setStyle("vertical-align", "middle");
this.vAlign = "middle";
}
return this;
};
n.prototype.getAlign = function() {
return this.hAlign + " " + this.vAlign;
};
n.prototype.setAlign = function(t) {
if ("string" == typeof t) {
t = t.replace(/^\s*|\s*$/, "").replace(/\s+/g, " ").split(" ");
this.setHAlign(t[0]);
this.setVAlign(t[1]);
}
};
t.exports = n;
e(n, "jx_ui_Frame");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
r.call(this, t, e, i, o, s);
this.on("focus", function() {
this.addClass("focus");
});
this.on("blur", function() {
this.removeClass("focus");
});
}
var o = i(1), r = i(6);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "meshim_widget_widgets_Emoticon");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
h.setDisplay(t ? "" : "none");
}
var e, n, o = i(284), r = i(6), s = {
ambivalent: ":|",
angry: ":(",
blush: ":?",
confused: ":?",
crazy: ":?",
crying: ":?",
frown: ":?",
gasp: ":?"
}, a = 6, _ = [];
h.setDataNode = function(i, o) {
e && h.autounbind(e, "value", t);
e = i;
n = o;
e && h.autobind(e, "value", t);
};
!function() {
var t, i = 0;
for (var l in s) if (s.hasOwnProperty(l)) {
t = new o(h, null, null, null, {
className: "meshim_widget_widgets_Emoticon " + l,
title: l,
value: s[l],
tabIndex: 0
});
t.setAttribute("data-index", i);
_.push(t);
++i % a == 0 && new r(h, null, null, null, {
tagName: "br"
});
}
h.on("click", function(t) {
var i = t.target.jx_wrapper;
if (i != h) {
for (;i.parentNode !== h; ) i = i.parentNode;
if (i.getValue()) {
n && n.update(i.getValue());
e && e.update(!1);
}
}
});
h.on("keydown", function(t) {
var i;
t.target.jx_wrapper;
switch (t.keyCode) {
case 13:
i = t.target.jx_wrapper.getValue();
if (i) {
n && n.update(t.target.jx_wrapper.getValue());
e && e.update(!1);
}
break;

case 27:
e && e.update(!1);
break;

case 9:
return;

case 38:
i = _[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) - a];
i && i.focus();
break;

case 40:
i = _[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) + a];
i && i.focus();
break;

case 37:
i = _[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) - 1];
i && i.focus();
break;

case 39:
i = _[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) + 1];
i && i.focus();
break;

default:
return;
}
t.preventDefault();
});
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".meshim_widget_widgets_Emoticon": {
"&:focus": {
outline: "none"
}
}
};
s(t, "meshim_widget_widgets_EmoticonPicker");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, a, l) {
if (!(this instanceof n)) return new n(t, e, i, a, l);
this.$node;
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
this.minHeight = 0;
this.maxHeight = window.Infinity;
this.vBoxOffset = 0;
this.hBoxOffset = 0;
l || (l = {});
l.overflow || (l.overflow = "hidden");
l.overflowY || (l.overflowY = "hidden");
_.call(this, t, e, i, a, l);
this.style.wordWrap = "break-word";
this.style.resize = "none";
this.compatMode = r.bugs.noBoxSizing && "CSS1Compat" != this.doc.compatMode && this.doc != document;
if (!this.compatMode) {
this.fakeTextArea = new _(this.doc.body, null, null, null, {
className: this.getClassName(),
tabIndex: "-1"
});
try {
this.fakeTextArea.setStyle("position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; word-wrap:break-word; height:0 !important; overflow:hidden; min-height:0 !important; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box;");
} catch (t) {}
this.onDestruction(function() {
this.fakeTextArea.destroy();
});
}
var d = this;
s(function() {
d.dom && d.updateStyles();
});
this._updateValueNode = function() {
this.updateValueNode();
};
this._readValueNode = function(t) {
d.readValueNode(t);
};
this.on("input", this._updateValueNode);
this.on("change", this._updateValueNode);
this.on("keyup", this._updateValueNode);
this._updateHeight = function() {
this.updateHeight();
};
if ("onpropertychange" in this.dom) if ("oninput" in this.dom) {
this.on("input", this._updateHeight);
this.on("keyup", this._updateHeight);
} else this.on("propertychange", this._updateHeight); else this.on("input", this._updateHeight);
}
var o = i(2), r = i(8), s = i(16), a = i(1), _ = i(77);
n.__jx__jcss = {
"**self": {}
};
n.prototype = a(_.prototype);
n.prototype.__jx__super = _;
n.prototype.updateValueNode = function() {
if (this.$node) {
this._updatingValueNode = !0;
this.$node.$("value$string").update(this.getValue());
this._updatingValueNode = !1;
}
};
n.prototype.readValueNode = function(t) {
this.$node && (this._updatingValueNode || null != t && this.setValue(t));
};
n.prototype.updateHeight = function() {
if ((this.compatMode || this.fakeTextArea) && !this.active) {
var t, e;
this.active = !0;
if (this.compatMode) {
this.style.height = 0;
t = this.dom.offsetHeight - this.vBoxOffset;
} else {
this.fakeTextArea.setValue(this.getValue());
this.fakeTextArea.style.overflowY = this.style.overflowY;
parseInt(this.style.height, 10);
this.fakeTextArea.style.width = Math.max(Math.max(this.dom.offsetWidth, 0) - this.hBoxOffset, 0) + "px";
this.fakeTextArea.dom.scrollTop = 0;
this.fakeTextArea.dom.scrollTop = 9e4;
t = this.fakeTextArea.dom.scrollTop;
}
var i = this.maxHeight - this.vBoxOffset, n = this.minHeight - this.vBoxOffset;
if (t > i) {
t = i;
e = "scroll";
} else t < n && (t = n);
t += this.vBoxOffset;
t = Math.max(t, 0);
this.style.overflowY = e || "hidden";
this.style.height = t + "px";
this.$node && this.$node.update({
height$int: t,
overflow$bool: !!e
});
var o = this;
s(function() {
o.active = !1;
});
}
};
var l = [ "Top", "Bottom" ], d = [ "Left", "Right" ];
n.prototype.updateBoxOffset = function() {
var t = this.getComputedStyle();
if (t) {
this.vBoxOffset = 0;
this.hBoxOffset = 0;
var e;
if ("border-box" === t.boxSizing || "border-box" === t.MozBoxSizing || "border-box" === t.webkitBoxSizing || r.isIE <= 7 && "CSS1Compat" != this.doc.compatMode) {
for (e = 0; e < 2; e++) this.vBoxOffset += (parseInt(t["padding" + l[e]], 10) || 0) + (parseInt(t["border" + l[e] + "Width"], 10) || 0);
for (e = 0; e < 2; e++) this.hBoxOffset += (parseInt(t["padding" + d[e]], 10) || 0) + (parseInt(t["border" + d[e] + "Width"], 10) || 0);
}
return this;
}
};
n.prototype.setDataNode = function(t) {
this.$node && this.autounbind(this.$node.$("value$string"), "value", this._readValueNode);
this.$node = t;
if (this.$node) {
this.autobind(this.$node.$("value$string"), "value", this._readValueNode);
this.updateValueNode();
this.updateHeight();
}
return this;
};
n.prototype.setValue = function(t) {
_.prototype.setValue.call(this, t);
this.updateValueNode();
this.updateHeight();
return this;
};
n.prototype.updateMinMaxHeight = function() {
var t = this.getComputedStyle();
if (t) {
this.minHeight = parseInt(t.minHeight, 10);
this.maxHeight = parseInt(t.maxHeight, 10);
if (!this.minHeight && isNaN(this.maxHeight)) {
this.style.height = "";
this.minHeight = this.maxHeight = this.dom.offsetHeight;
}
isNaN(this.maxHeight) && (this.maxHeight = this.minHeight);
this.$node && this.$node.update({
min_height$string: this.minHeight,
max_height$string: this.maxHeight
});
return this;
}
};
n.prototype.updateClonedStyles = function() {
if (this.fakeTextArea) {
var t = [ "fontFamily", "fontSize", "fontWeight", "letterSpacing", "textTransform", "wordSpacing", "textIndent" ];
this.fakeTextArea.style.lineHeight = "99px";
"99px" === this.fakeTextArea.style.lineHeight && t.push("lineHeight");
this.fakeTextArea.style.lineHeight = "";
var e = this.getComputedStyle();
if (e) for (var i = 0, n = t.length; i < n; i++) this.fakeTextArea.style[t[i]] = e[t[i]];
}
};
n.prototype.updateStyles = function() {
r.isIE8 && (this.style.minHeight = "");
this.updateMinMaxHeight();
this.updateClonedStyles();
this.updateBoxOffset();
r.isIE8 && (this.style.minHeight = this.minHeight - this.vBoxOffset + "px");
this.updateHeight();
var t = this;
r.isIE8 && s(function() {
t.updateHeight();
});
return this;
};
t.exports = n;
e(n, "meshim_widget_widgets_AutoResizeTextArea");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_FakeInput = i(162);
e.__$$__meshim_widget_widgets_Button = i(17);
e.__$$__meshim_widget_widgets_AutoResizeTextArea = i(286);
e.__$$__meshim_widget_widgets_IconFont = i(15);
e.__$$__meshim_widget_widgets_EmoticonPicker = i(285);
e.__$$__jx_ui_Label = i(19);
e.__$$__jx_ui_Frame = i(283);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(142), h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_FakeInput, "fake_input", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "send", "", [], {
id: "send",
addClass: "send primary fit"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_AutoResizeTextArea, "textarea", "", [], {
id: "textarea",
addClass: "textarea unstyled"
} ] ], {
addClass: "textarea_wrapper"
} ] ], {
addClass: "float_wrapper"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "toggle_picker", "", [], {
id: "toggle_picker",
addClass: "toggle_picker",
icon: "smiley",
tabIndex: "0",
tagName: "button"
} ], [ e.__$$__meshim_widget_widgets_EmoticonPicker, "picker", "", [], {
id: "picker",
addClass: "picker"
} ], [ e.__$$__jx_ui_Label, "", "", [ [ e.__$$__jx_ui_Frame, "", "", [ c ], {} ] ], {
addClass: "drop_label",
tabIndex: "0"
} ] ], {
id: "fake_input",
addClass: "fake_input"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__fake_input"), m = n.get(a + "__send"), $ = n.get(a + "__textarea"), b = n.get(a + "__toggle_picker"), w = n.get(a + "__picker");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var x = function() {
function t(t) {
function e() {
f.dom && (j || f.removeClass("dragover"));
}
t.stopPropagation();
t.preventDefault();
if (n()) if (k.isWebKit) if ("dragover" == t.type) {
j = !0;
C && window.clearTimeout(C);
f.addClass("dragover");
} else {
j = !1;
C = window.setTimeout(e, 200);
} else "dragover" == t.type ? f.addClass("dragover") : f.removeClass("dragover");
}
function e(e, i) {
if (n()) {
t(e);
var r;
if (i) {
r = e && e.dataTransfer && e.dataTransfer.files;
if (!r || !r.length) return;
O.reconnectIfServerRetired(function() {
o(r);
});
}
}
}
function n() {
return y && !f.getDisabled();
}
function o(t) {
if (y && window.FormData) {
var e = new window.FormData(), i = [], n = [], o = 0, r = O.getHost();
if (r) {
for (var s = 0, a = t.length; s < a; s++) {
if (!N.isValidType(t[s].name, v)) {
et.update("type");
return;
}
i.push(t[s].name);
n.push(t[s].type);
o += t[s].size || 0;
e.append("file_" + t[s].name, t[s]);
}
if (o > B.FILE_UPLOAD_MAX) et.update("size"); else {
i = i.join(", ");
n = n.join(", ");
var _ = P.livechat.sendFile({
file_name: i,
file_type: n,
file_size: o
}), l = new window.XMLHttpRequest(), d = {
ts: _
};
S = "https://" + r + B.FILE_UPLOAD_PATH + "?" + D.buildQuery(d);
if (l.upload) {
l.open("POST", S, !0);
l.setRequestHeader("X-Zopim-MID", J.getValue());
l.setRequestHeader("X-Zopim-UID", tt.getValue());
l.send(e);
W.increment("file_upload");
}
}
}
}
}
function r() {
A = !0;
Y.write({
typing$bool: A
});
L.setUserChoice(!0);
}
function s() {
A = !1;
Y.write({
typing$bool: A
});
}
function a() {
var t = nt.getValue(), e = rt.getValue("color_customization_enabled$int") || rt.getValue("widget_customization_enabled$int");
y = !!e && !1 !== t;
}
function _() {
var t = ot.getValue() || "";
v = t.trim().replace(/\s*,\s*/g, ",").split(",");
}
function l() {
var t = $.getValue().trim();
if (t) {
P.livechat.sendChatMsg({
msg: t
});
$.setValue("");
}
}
function d(t) {
for (var e = t.target.jx_wrapper; e && e.parentNode && e.parentNode != f; ) {
if (e == w) return;
e = e.parentNode;
}
z.update(!1);
}
function u() {
P.root.$("livechat").$("ui").$("chat_window").update({
menu_stack_name$string: ""
});
}
function c() {
E.resetUnreadCount();
}
var h, p, x, v, y, j, C, S, A, k = i(8), I = i(16), T = i(14), B = i(18), N = i(66), D = i(35), E = i(33), O = i(57), P = i(5), L = i(41), W = i(56), R = i(9), F = i(11), M = P.root, V = M.$("livechat"), H = V.$("ui").$("chat_window").$("chat_panel"), z = H.$("emoticon_picker").$("display$bool"), U = H.$("emoticon_picker").$("value$string"), q = V.$("settings").$("emoticons").$("enabled$bool"), G = H.$("textarea"), Y = V.$("channel").$("typing"), X = V.$("ui").$("theme_loaded$bool"), K = V.$("ui").$("hide_branding$bool"), Z = V.$("ui").$("popout$bool"), Q = V.$("ui").$("mockup$bool"), J = V.$("profile").$("mid$string"), tt = V.$("profile").$("uid$string"), et = V.$("ui").$("chat_window").$("chat_panel").$("file_toast").$("error$string"), it = V.$("settings").$("file_sending"), nt = it.$("enabled$bool"), ot = it.$("allowed_extensions$string"), rt = V.$("settings").$("package"), st = M.$("connection").$("status$string");
f.focus = function() {
if (!x) {
$.updateHeight();
$.focus();
}
};
f.blur = function() {
$.updateHeight();
$.blur();
};
f.updateStyles = function() {
$.updateStyles();
};
!function() {
m.setText(F.chat_panel.sendbutton_text);
$.setPlaceholder(F.chat_panel.chattextarea_placeholder);
p = Z.getValue();
x = Q.getValue();
R.mobile(f);
R.rtl(f);
$.setDataNode(G);
w.setDataNode(z, U);
$.on("focus", function() {
c();
u();
g.addClass("focus");
K.update(!0);
});
$.on("keydown", c);
$.on("blur", function() {
g.removeClass("focus");
K.update(!1);
});
f.autobind(X, "value", function() {
I(function() {
f.dom && $.updateStyles();
});
});
f.autobind(G, "value", function(t) {
t && "overflow$bool" in t && (t.overflow$bool ? f.addClass("overflow") : f.removeClass("overflow"));
});
var i = 0;
f.autobind(G.$("value$string"), "value", function(t) {
if (t) {
A || r();
window.clearTimeout(i);
i = window.setTimeout(s, 12e4);
} else if (A) {
window.clearTimeout(i);
s();
}
});
f.autobind(z, "value", function(t) {
t ? b.addClass("active") : b.removeClass("active");
h = t;
});
f.autobind(q, "value", function(t) {
b.setDisplay(t ? "" : "none");
t ? f.addClass("emoticons_enabled") : f.removeClass("emoticons_enabled");
});
f.autobind(U, "value", function(t) {
t && $.insertAtCaret(t);
});
w.on("click", function() {
f.focus();
});
b.on("click", function(t) {
t.stopPropagation();
z.update(!h);
f.focus();
});
for (var n = f; n && n.parentNode && "body" != n.parentNode.tagName.toLowerCase(); ) n = n.parentNode;
n && n.on("click", d);
p && T.window.on("click", d);
f.onDestruction(function() {
n && n.un("click", d);
p && T.window.un("click", d);
});
f.autobind(nt, "value", a);
f.autobind(rt, "value", a);
f.autobind(ot, "value", _);
if (window.File && window.FileList && window.FileReader) {
f.on("dragover", t);
f.on("dragleave", t);
f.on("drop", function(t) {
e(t, !0);
});
}
$.on("keydown", function(t) {
if (13 == t.keyCode && !t.shiftKey && !t.ctrlKey && !t.altKey) {
t.preventDefault();
l();
}
});
m.on("click", function() {
c();
u();
l();
});
f.autobind(st, "value", function(t) {
f.setDisabled("idle_disconnect" === t);
});
}();
}();
for (var v in x) x.hasOwnProperty(v) && (f[v] = x[v]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
padding: "10px",
height: "auto",
"*zoom": 1,
padding: "$$chatTextAreaPadding",
borderWidth: "$$chatTextAreaBorderWidth",
borderStyle: "$$chatTextAreaBorderStyle",
borderColor: "$$chatTextAreaBorderColor",
"&.emoticons_enabled.overflow": {
".toggle_picker": {}
},
"&.emoticons_enabled": {
".textarea": {}
},
"&.dragover": {
".fake_input": {
boxShadow: "none",
border: "none"
},
".drop_label": {
display: "block"
}
},
"&.disabled": {
opacity: "0.5"
}
},
".fake_input": {
position: "relative",
overflow: "visible",
"*zoom": 1,
padding: 0,
color: "$$chatTextAreaInputColor",
background: "$$chatTextAreaInputBg",
borderWidth: "$$chatTextAreaInputBorderWidth",
borderStyle: "$$chatTextAreaInputBorderStyle",
borderColor: "$$chatTextAreaInputBorderColor",
borderRadius: "$$chatTextAreaInputRadius",
boxShadow: "$$chatTextAreaInputShadow"
},
".fake_input.focus": {
color: "$$chatTextAreaInputFocusColor",
background: "$$chatTextAreaInputFocusBg",
borderColor: "$$chatTextAreaInputFocusBorderColor",
boxShadow: "$$chatTextAreaInputFocusShadow"
},
".drop_label, .file_input": {
display: "none",
position: "absolute",
"top, left": 0,
"width, height": "100%"
},
".drop_label": {
textAlign: "center",
color: "$$chatTextAreaDropColor",
background: "$$chatTextAreaDropBg",
borderWidth: "$$chatTextAreaDropBorderWidth",
borderStyle: "$$chatTextAreaDropBorderStyle",
borderColor: "$$chatTextAreaDropBorderColor",
".container": {
border: "none",
background: "transparent"
}
},
".file_input": {
opacity: 0
},
".toggle_picker": {
position: "absolute",
"top, right": 0,
cursor: "pointer",
fontSize: "18px",
lineHeight: "24px",
"&:hover": {},
"&:focus": {
outline: "none"
}
},
".picker": {
position: "absolute",
bottom: "100%"
},
".textarea": {
display: "block",
"width, height": "100%",
resize: "none",
transition: "height 0.1s ease-in-out",
fontSize: "$$chatTextAreaInputFontSize",
minHeight: "$$chatTextAreaInputMinHeight",
maxHeight: "$$chatTextAreaInputMaxHeight",
padding: "$$chatTextAreaInputPadding",
lineHeight: "$$chatTextAreaInputLineHeight"
},
".send": {
display: "none"
},
".float_wrapper": {
overflow: "hidden"
},
".textarea_wrapper": {
display: "block",
overflow: "hidden"
},
"&.mobile": {
position: "fixed",
zIndex: "1000",
padding: 0,
".fake_input": {},
".textarea": {
padding: "10px"
},
".send": {
display: "block",
float: "right",
margin: "$$chatTextAreaSubmitMargin",
padding: "$$chatTextAreaSubmitPadding"
},
".toggle_picker": {
display: "none"
}
},
"&.rtl.mobile": {
".send": {
float: "left"
}
}
};
a(t, "meshim_widget_components_chatWindow_chatPanel_ChatTextArea");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer = i(141);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer, "", "", [], {
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
var t = s.$("num_typing_agents$int").getValue();
if (t >= 1) {
h.setText((1 == t ? o.chat_panel.name_is_typing : o.chat_panel.agents_are_typing).replace("<name>", s.$("agent_names$string").getValue()));
h.setDisplay("");
} else h.setDisplay("none");
}
var e = i(7), n = i(5), o = i(11), r = n.root.$("livechat"), s = r.$("ui").$("chat_window").$("typing_info");
!function() {
h.autobind(s.$("num_typing_agents$int"), "value", t);
if (e && e.onLanguage) {
e.onLanguage(t);
h.onDestruction(function() {
e.unLanguage(t);
});
}
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer;
t.__jx__jcss = {
"**self": {
width: "100%"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_TypingRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__meshim_widget_components_chatWindow_chatPanel_Spinner = i(101);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_components_chatWindow_chatPanel_HistoryLog = i(100);
e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog = i(133);
e.__$$__meshim_widget_widgets_chatLogRenderer_TypingRenderer = i(288);
e.__$$__meshim_widget_components_chatWindow_chatPanel_QueueMessage = i(132);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_Spinner, "large_spinner", "", [], {
id: "large_spinner",
addClass: "large_spinner",
size: "big",
visible: "false"
} ], [ e.__$$__jx_ui_Widget, "chat_log_wrapper", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_Spinner, "small_spinner", "", [], {
id: "small_spinner",
visible: "false"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_HistoryLog, "history_log", "", [], {
id: "history_log"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_TypingRenderer, "", "", [], {
addClass: "group_head"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_QueueMessage, "", "", [], {
addClass: "queue_message"
} ] ], {
id: "chat_log_wrapper",
class: "chat_log_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__large_spinner"), f = n.get(s + "__chat_log_wrapper"), g = n.get(s + "__small_spinner");
n.get(s + "__history_log");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t(t) {
f.setStyle("marginTop", t);
}
var e = (i(5), i(69));
!function() {
h.setChatLogMarginTop = t;
h.getElement("inner").on("scroll", function(t) {
h.fire("scroll", t);
});
e.bindSpinnerUI(h, g, p);
}();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ScrollableFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ScrollableFrame;
t.__jx__jcss = {
".group_head": {
marginTop: "$$margin"
},
".chat_log_wrapper": {
margin: "$$chatLogMargin"
},
".queue_message": {
marginTop: "10px"
},
".large_spinner": {
position: "fixed",
margin: "auto",
"top, bottom, left, right": "0"
}
};
s(t, "meshim_widget_components_chatWindow_chatPanel_ChatLogContainer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_span = i(31);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "thumbs", "", [], {
id: "thumbs",
addClass: "rating_icon"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__thumbs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(10), e = i(5);
h.setType = function(t) {
switch (t) {
case "thumbs_up":
p.setIcon("thumbsup");
break;

case "thumbs_down":
p.setIcon("thumbsdown");
break;

default:
p.setDisplay("none");
}
};
t.hoverFix(h);
!function() {
var t = e.root.$("livechat").$("ui").$("mobile$bool");
h.autobind(t, "value", function(t) {
t || h.addClass("desktop");
});
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_span.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_span;
t.__jx__jcss = {
"**self": {
width: "50%",
display: "inline-block",
border: "1px solid transparent",
".default_value": {
display: "inline"
},
"&.desktop.hover, &.desktop:hover": {
color: "$$chatRatingsThumbDark"
}
}
};
s(t, "meshim_widget_widgets_ratingBar_thumb_Button");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ButtonBar = i(135);
e.__$$__meshim_widget_widgets_ratingBar_thumb_Button = i(290);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ButtonBar, "", "", [ [ e.__$$__meshim_widget_widgets_ratingBar_thumb_Button, "good_option", "", [], {
id: "good_option",
type: "thumbs_up",
addClass: "rating_button"
} ], [ e.__$$__meshim_widget_widgets_ratingBar_thumb_Button, "bad_option", "", [], {
id: "bad_option",
type: "thumbs_down",
addClass: "rating_button"
} ] ], {
noMangle: "true",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__good_option"), f = n.get(s + "__bad_option");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
if (t === r.GOOD) {
p.setTitle(s.REMOVE);
f.setTitle(s.BAD);
} else if (t === r.BAD) {
f.setTitle(s.REMOVE);
p.setTitle(s.GOOD);
} else e();
}
function e() {
p.setTitle(s.GOOD);
f.setTitle(s.BAD);
}
var n = i(7), o = i(9), r = {
GOOD: "good",
BAD: "bad"
}, s = {
GOOD: n(212),
BAD: n(213),
REMOVE: n(214)
};
!function() {
h.updateTitle = t;
p.setValue(r.GOOD);
f.setValue(r.BAD);
e();
o.mobile(h);
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ButtonBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ButtonBar;
t.__jx__jcss = {
".rating_button": {
".rating_icon": {
display: "inline-block",
verticalAlign: "middle"
},
color: "$$chatRatingsThumbLight",
"&.active": {
backgroundColor: "$$chatRatingsThumbActive",
border: "1px solid $$chatRatingsThumbBGHover",
borderRadius: "5px",
color: "$$chatRatingsThumbDark",
cursor: "pointer"
}
},
"&.small": {
".rating_button": {
"width, height": "24px",
fontSize: "18px",
".rating_icon": {
lineHeight: "22px",
paddingLeft: "1px"
},
"&:first-child": {
marginRight: "3px"
}
}
},
"&.big": {
".rating_button": {
"width, height": "50px",
fontSize: "40px",
".rating_icon": {
lineHeight: "48px"
},
"&:first-child": {
marginRight: "10px"
}
}
},
"&.desktop": {
".rating_button.active:hover": {
color: "$$chatRatingsThumbLight"
}
},
"&.mobile": {
"&.small .rating_button": {
"width, height": "40px",
fontSize: "25px",
padding: "6px 3px 3px",
"&:first-child": {
marginRight: "5px"
}
},
"&.big": {
".rating_button": {
"width, height": "62px",
fontSize: "40px",
paddingTop: "12px"
}
}
}
};
s(t, "meshim_widget_widgets_ratingBar_thumb_Thumb");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button = i(134);
e.__$$__jx_ui_html_span = i(31);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button, "", "", [ [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "sad",
addClass: "rating_icon"
} ] ], {
placement: "default_value",
discardPlacement: "true"
} ], [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "sadder",
addClass: "rating_icon"
} ] ], {
placement: "selected_value",
discardPlacement: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_ratingBar_emoticon_Bad");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button = i(134);
e.__$$__jx_ui_html_span = i(31);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button, "", "", [ [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "happy",
addClass: "rating_icon"
} ] ], {
placement: "default_value",
discardPlacement: "true"
} ], [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "happier",
addClass: "rating_icon"
} ] ], {
placement: "selected_value",
discardPlacement: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_ratingBar_emoticon_Good");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
this.navStack = null;
l.call(this, t, e, i, o, r);
this.addClass("button_bar");
r.initialValue && this.setValue(r.initialValue);
this.on("click", function(t) {
var e = t && t.target && t.target.jx_wrapper;
if (e && e !== this) {
for (;e.parentNode && e.parentNode != this; ) e = e.parentNode;
if (!this.getDisabled() && !e.getDisabled()) {
var i = e.getValue();
if ("" !== i && null != i) {
this.setValue(i);
this.fire("change");
}
}
}
});
this.onDestruction(function() {
this.navStack = null;
});
}
var o = i(1), r = i(22), s = i(12), a = i(28), _ = i(71), l = i(6), d = i(23);
n.prototype = o(l.prototype);
n.prototype.appendChild = function(t) {
var e = this.children.length;
r(t) && this.attributes && !s(this.attributes.noMangle) && (t[0] = _);
d.prototype.appendChild.call(this, t);
if (r(t)) {
this.children[e].addClass("option");
a(this.tabIndex) && this.children[e].setTabIndex(this.tabIndex + e);
}
};
n.prototype.setNoMangle = function(t) {
this.attributes.noMangle = s(t);
};
n.prototype.setValue = function(t) {
for (var e = 0, i = this.children.length; e < i; e++) if (this.children[e].getValue() == t) {
this.dom.value = this.children[e].getValue();
this.children[e].addClass("active");
} else this.children[e].removeClass("active");
};
n.prototype.getInitialValue = function() {
return this._initialValue;
};
n.prototype.setInitialValue = function(t) {
this._initialValue = t;
};
n.prototype.reset = function() {
this.setValue(this.getInitialValue());
};
n.prototype.setLabel = function(t, e) {
for (var i = 0, n = this.children.length; i < n; i++) this.children[i].getValue() == t && this.children[i].setText(e);
};
n.prototype.getTabIndex = function() {
return this.tabIndex;
};
n.prototype.setTabIndex = function(t) {
this.tabIndex = parseInt(t, 10) || 0;
for (var e = 0, i = this.children.length; e < i; e++) this.children[e].setTabIndex(this.tabIndex + e);
return this;
};
t.exports = n;
e(n, "jx_ui_ButtonBar");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ButtonBar = i(135);
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Good = i(293);
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Bad = i(292);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ButtonBar, "", "", [ [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Good, "good_option", "", [], {
id: "good_option",
addClass: "rating_button"
} ], [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Bad, "bad_option", "", [], {
id: "bad_option",
addClass: "rating_button"
} ] ], {
noMangle: "true",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__good_option"), f = n.get(s + "__bad_option");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
if (t === r.GOOD) {
p.setTitle(s.REMOVE);
f.setTitle(s.BAD);
} else if (t === r.BAD) {
f.setTitle(s.REMOVE);
p.setTitle(s.GOOD);
} else e();
}
function e() {
p.setTitle(s.GOOD);
f.setTitle(s.BAD);
}
var n = i(7), o = i(9), r = {
GOOD: "good",
BAD: "bad"
}, s = {
GOOD: n(215),
BAD: n(216),
REMOVE: n(217)
};
!function() {
h.updateTitle = t;
p.setValue(r.GOOD);
f.setValue(r.BAD);
e();
o.mobile(h);
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ButtonBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ButtonBar;
t.__jx__jcss = {
".rating_button": {
borderRadius: "50%",
".rating_icon": {
display: "inline"
},
"&.active": {
backgroundColor: "$$chatRatingsEmoticonActive",
cursor: "pointer"
}
},
"&.small": {
".rating_button": {
"width, height": "24px",
border: "1px solid $$chatRatingsEmoticonColor",
padding: "6px 3px 3px",
".rating_icon": {
lineHeight: 1.1
},
"&:first-child": {
marginRight: "3px"
}
}
},
"&.big": {
".rating_button": {
"width, height": "50px",
border: "2px solid $$chatRatingsEmoticonColor",
fontSize: "25px",
paddingTop: "14px",
"&:first-child": {
marginRight: "10px"
}
}
},
"&.desktop": {
".rating_button.active:hover": {
backgroundColor: "$$chatRatingsEmoticonHover"
}
},
"&.mobile": {
"&.small .rating_button": {
"width, height": "40px",
fontSize: "18px",
padding: "12px 3px 3px",
"&:first-child": {
marginRight: "5px"
}
},
"&.big": {
".rating_button": {
"width, height": "62px",
fontSize: "26px",
paddingTop: "20px"
}
}
}
};
s(t, "meshim_widget_widgets_ratingBar_emoticon_Emoticon");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__jx_ui_html_table = i(54);
e.__$$__jx_ui_html_tbody = i(53);
e.__$$__jx_ui_html_tr = i(52);
e.__$$__jx_ui_html_td = i(51);
e.__$$__meshim_widget_widgets_Gravatar = i(81);
e.__$$__meshim_widget_widgets_profileCard_MemberName = i(136);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_Gravatar, "gravatar", "", [], {
id: "gravatar",
pseudo: "profile_avatar"
} ] ], {
pseudo: "avatar_cell"
} ], [ e.__$$__jx_ui_html_td, "content_cell", "", [ [ e.__$$__meshim_widget_widgets_profileCard_MemberName, "agent0", "", [], {
id: "agent0",
addClass: "profile_name"
} ], [ e.__$$__meshim_widget_widgets_profileCard_MemberName, "agent1", "", [], {
id: "agent1",
addClass: "profile_name"
} ] ], {
pseudo: "content_cell",
id: "content_cell"
} ] ], {} ] ], {} ] ], {
class: "profile_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__gravatar"), f = n.get(s + "__content_cell"), g = n.get(s + "__agent0"), m = n.get(s + "__agent1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t(t) {
if (n) {
if (n === t) return;
h.autounbind(n, "keys", e);
}
n = t;
if (n) {
p.setGroupNode(t);
h.autobind(n, "keys", e);
}
}
function e() {
var t = n.getKeys();
g.setDataNode(t.length <= 0 ? null : n.$(t[0]).$("display_name$string"));
m.setDataNode(t.length <= 1 ? null : n.$(t[1]).$("display_name$string"));
}
var n, o = i(5), r = o.root.$("livechat"), s = r.$("settings").$("theme").$("chat_window").$("profile_card").$("display_avatar$bool"), a = r.$("settings").$("theme").$("chat_window").$("profile_card").$("display_title_name$bool"), _ = r.$("ui").$("mobile$bool");
!function() {
h.setDataNode = t;
p.on("click", function() {
h.onGravatarClick && h.onGravatarClick();
});
f.on("click", function() {
h.onContentClick && h.onContentClick();
});
_.getValue() && h.addClass("mobile");
h.autobind(s, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_avatar");
});
h.autobind(a, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_title_name");
});
}();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
width: "100%",
position: "relative",
".profile_table": {
width: "100%",
tableLayout: "fixed",
fontSize: "100%",
borderSpacing: "0px",
borderCollapse: "collapse",
td: {
padding: "0px"
}
},
".profile_avatar": {
width: "32px",
height: "32px",
"&": "$$profileCardAvatar"
}
},
"**self.mobile": {
".profile_table": {
height: "100%"
}
},
"**self.no_avatar .profile_table": {
".avatar_cell": {
display: "none"
},
".content_cell": {
paddingLeft: "0px"
}
},
"**self.no_title_name .profile_table": {
".content_cell": {
visibility: "hidden"
}
}
};
s(t, "meshim_widget_widgets_MultiProfilesCard");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = [].slice.call(arguments);
if (t.length < 1) throw "Invalid chain: <empty>";
var e = null;
"string" == typeof t[t.length - 1] && (e = t.pop());
s.call(this, "chained$value");
this._chain = t;
this._default_primitive = e;
this._leafNodeValueCheck = o(this._leafNodeValueCheck, this);
}
function o(t, e) {
return function() {
t.apply(e, arguments);
};
}
var r = i(1), s = i(91), a = n.prototype = r(s.prototype);
a.bindValue = function() {
if (0 === this.listeners_value.length) for (var t = this._chain.length; t--; ) this._chain[t].bindValue(this._leafNodeValueCheck);
s.prototype.bindValue.apply(this, arguments);
};
a.unbindValue = function() {
s.prototype.unbindValue.apply(this, arguments);
if (0 === this.listeners_value.length) for (var t = this._chain.length; t--; ) this._chain[t].unbindValue(this._leafNodeValueCheck);
};
a.getChainedValue = function() {
for (var t = 0, e = this._chain.length; t < e; t++) {
var i = this._chain[t].getValue();
if (i) return i;
}
return this._default_primitive;
};
a._leafNodeValueCheck = function() {
this.update(this.getChainedValue());
};
t.exports = n;
e(n, "meshim_common_ChainedValueDataNode");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:widget": "meshim.widget",
"xmlns:mui": "meshim.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.setText(o.get(n));
}
function e(e) {
if (n !== e) {
n && h.autounbind(n, "value", t);
n = e;
n && h.autobind(n, "value", t);
}
}
var n, o = i(11);
h.setDataNode = e;
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
whiteSpace: "inherit",
overflow: "hidden",
textOverflow: "ellipsis",
paddingBottom: "2px"
}
};
s(t, "meshim_widget_widgets_profileCard_TitleHolder");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(38);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(82);
e.__$$__meshim_widget_components_chatWindow_chatPanel_File = i(140);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader = i(139);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatLogContainer = i(289);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatTextArea = i(287);
e.__$$__meshim_widget_widgets_Branding = i(87);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "", "", [], {
addClass: "disconnected_toast"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_File, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_ChatWindowContent, "chat_panel_container", "", [ [ e.__$$__jx_ui_Widget, "served_by_container", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader, "", "", [], {} ] ], {
id: "served_by_container",
class: "served_by_container"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatLogContainer, "chat_log", "", [], {
id: "chat_log",
addClass: "chat_log"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatTextArea, "chat_text_area", "", [], {
id: "chat_text_area",
addClass: "chat_text_area"
} ], [ e.__$$__meshim_widget_widgets_Branding, "", "", [], {
addClass: "chat_panel_branding",
hideOnDesktop: "true"
} ], [ e.__$$__meshim_widget_widgets_Button, "scroll_top_btn", "", [], {
id: "scroll_top_btn",
class: "scroll_top_btn"
} ] ], {
id: "chat_panel_container",
class: "chat_panel_container",
absPaddingTop: "chatPanelProfileCardContainerHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel",
titleBar: "",
actionBar: "default",
hideBrandingMobile: "true"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__chat_panel_container"), f = n.get(s + "__served_by_container"), g = n.get(s + "__chat_log"), m = n.get(s + "__chat_text_area"), $ = n.get(s + "__scroll_top_btn");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t() {
C(!0);
L(e, h, "once");
}
function e() {
if (h.dom) {
m.updateStyles();
y();
g.updateScrollStyles();
}
}
function n() {
S && A == h.getName() && t();
}
function o() {
ut || H.testSafariFocusBug() || S && A == h.getName() && m.focus();
}
function r() {
if (S && A == h.getName()) {
if (I) {
w(!0);
g.getScrollTop() && b() ? I = !1 : q && !V.isIE || setTimeout(function() {
w(!0);
I = !1;
}, G);
k = null;
} else if (k) {
g.setScrollTop(k);
g.getScrollTop() == k ? k = null : q && !V.isIE || setTimeout(function() {
g.setScrollTop(k);
k = null;
}, G);
}
} else k = g.getScrollTop();
}
function s() {
L(w);
h.un("show", s);
y();
}
function a() {
window.setTimeout(w, 300);
V.unTransitionEnd(h, h, a);
y();
}
function _(t) {
f.setDisplay(t ? "block" : "none");
!t || ut ? p.setAbsPaddingTop() : p.setAbsPaddingTop("chatPanelProfileCardContainerHeight");
}
function l() {
m.setStyle("width:" + (h.getWidth() - 2) + "px");
}
function d() {
N && window.clearTimeout(N);
N = window.setTimeout(function() {
window.innerHeight >= 120 && window.scrollY > h.titleBar.getHeight() ? $.setDisplay("block") : $.setDisplay("none");
}, 100);
}
function u() {
var t, e, i;
g.setChatLogMarginTop("0px");
t = h.titleBar.getHeight() + f.getHeight() + m.getHeight();
e = g.getScrollHeight() - f.getHeight();
i = window.document.documentElement.clientHeight - t;
if (e < i) {
h.style.height = "100%";
e > 0 ? g.setChatLogMarginTop(i - 31 - e + "px") : g.setChatLogMarginTop(i - e + "px");
} else {
h.style.height = "auto";
g.setChatLogMarginTop("10px");
}
}
function c() {
B && window.clearTimeout(B);
B = window.setTimeout(function() {
b() ? m.setStyle("position:absolute; left: 0px;") : m.setStyle("position:fixed; left:" + Math.round((window.innerWidth - h.getWidth()) / 2 + 1) + "px;");
}, 50);
}
function b() {
return ut ? window.scrollY + window.innerHeight >= h.getScrollHeight() : g.getScrollTop() + g.getHeight() >= g.getScrollHeight();
}
function w(t) {
if (h.dom) if (ut) {
t ? window.scrollTo(0, h.getScrollHeight()) : L(function() {
window.scrollTo(0, h.getScrollHeight());
});
window.setTimeout(function() {
c();
}, 100);
} else t ? g.setScrollTop(g.getScrollHeight()) : x();
}
function x() {
if (!D && !b()) {
E = +new Date();
O = g.getScrollTop();
g.getScrollHeight() - g.getHeight() - O <= mt ? g.setScrollTop(g.getScrollHeight()) : D = window.setInterval(v, gt);
}
}
function v() {
if (b()) {
window.clearInterval(D);
D = null;
} else {
var t = +new Date();
if (t >= E + ft) {
g.setScrollTop(g.getScrollHeight());
window.clearInterval(D);
D = null;
} else g.setScrollTop(O + (t - E) / ft * (g.getScrollHeight() - O));
}
}
function y() {
var t = m.getComputedStyle();
if (t) {
et = (parseInt(t.paddingTop, 10) || 0) + (parseInt(t.paddingBottom, 10) || 0) + ((parseInt(t.borderTopWidth, 10) || 0) + (ut ? 0 : 1)) + ((parseInt(t.borderBottomWidth, 10) || 0) + (ut ? 0 : 1));
j();
}
}
function j() {
T && window.clearTimeout(T);
C(T);
T = window.setTimeout(C, 500);
}
function C(t) {
T && window.clearTimeout(T);
T = null;
if (h.dom && it) {
t || (ct = b());
p.setStyle("padding-bottom", it + et + "px");
ct && w(ut && "" === tt.$("value$string").getValue());
}
}
var S, A, k, I, T, B, N, D, E, O, P = i(14), L = i(16), W = i(39), R = i(5), F = i(69), M = (i(45), 
i(34)), V = i(10), H = i(97), z = i(9), U = i(15), q = V.isStyleSupported("animation"), G = 200, Y = R.root.$("livechat"), X = Y.$("channel").$("log"), K = Y.$("ui").$("chat_window"), Z = K.$("typing_info").$("agent_typing$bool"), Q = K.$("file_upload_scroll$bool"), J = K.$("chat_panel"), tt = J.$("textarea"), et = 0, it = 0, nt = Y.$("ui").$("theme_loaded$bool"), ot = Y.$("settings").$("theme").$("chat_window").$("size$string"), rt = Y.$("ui").$("chat_window").$("display_profile_card$bool"), st = K.$("display$bool"), at = K.$("main_stack_name$string"), _t = Y.$("ui").$("popout$bool"), lt = _t.getValue(), dt = Y.$("ui").$("mobile$bool"), ut = dt.getValue(), ct = !0, ht = W.debounce(u, 200), pt = W.debounce(w, 100), ft = 200, gt = 16, mt = 200;
!function() {
z.mobile(h);
z.rtl(h);
h.autobind(tt, "value", function(t) {
if (t && t.height$int) {
it = t.height$int;
j();
}
});
V.onAnimationEnd(h, h, function() {
if (I) {
w(!0);
k = null;
g.getScrollTop() && b() ? I = !1 : setTimeout(function() {
w(!0);
I = !1;
}, G);
} else if (k) {
g.setScrollTop(k);
g.getScrollTop() == k ? k = null : setTimeout(function() {
g.setScrollTop(k);
k = null;
}, G);
}
et && it || t();
});
V.onTransitionEnd(h, p, function(t) {
t.target.jx_wrapper == p && ct && w(!0);
});
h.autobind(ot, "value", t);
h.autobind(nt, "value", t);
h.autobind(st, "value", function(t) {
S = t;
n();
r();
o();
});
h.autobind(at, "value", function(t) {
A = t;
n();
r();
o();
});
lt && !ut && P.window.on("focus", o);
h.autobind(X, "value", function() {
ct = b();
});
h.autobind(X, "keys", function(t) {
t && t.length && (S && A == h.getName() ? pt() : I = !0);
});
h.autobind(Q, "value", function(t) {
t && S && A == h.getName() ? L(w) : I = !0;
});
h.autobind(Z, "value", function(t) {
t && ct && L(w);
});
h.on("show", s);
V.onTransitionEnd(h, h, a);
h.autobind(rt, "value", _);
if (ut) {
p.setAbsPaddingTop();
g.defaultPlacement.insertBefore(f, g.defaultPlacement.getFirstChild());
new U($, null, null, null, {
className: "scroll_top_icon",
icon: "arrow_up"
});
$.on("click", function() {
$.setDisplay("none");
window.scrollTo(0, 0);
});
P.window.on("resize", function() {
l();
d();
});
P.window.on("orientationchange", function() {
l();
d();
});
P.window.on("scroll", function() {
l();
c();
d();
});
h.on("show", function() {
c();
});
P.window.on("resize", ht);
P.window.on("orientationchange", ht);
h.autobind(X, "keys", ht);
h.on("show", ht);
m.on("click", function() {
window.setTimeout(function() {
w();
}, 200);
});
M.isChromeIOSMobile && (h.style.paddingBottom = "42px");
}
F.setupScrollListener(g);
}();
}();
for (var w in b) b.hasOwnProperty(w) && (h[w] = b[w]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".chat_panel_container": {
position: "relative",
"width, height": "100%",
zIndex: 20,
transition: "padding 0.1s ease-in-out",
"*overflow": "visible !important",
".served_by_container": {
position: "absolute",
"top, left": 0,
width: "100%",
padding: "$$paddingXL",
height: "$$chatPanelProfileCardContainerHeight",
background: "$$chatPanelProfileCardContainerBackground",
borderWidth: "$$chatPanelProfileCardContainerBorderWidth",
borderStyle: "$$chatPanelProfileCardContainerBorderStyle",
borderColor: "$$chatPanelProfileCardContainerBorderColor"
},
".chat_text_area": {
position: "absolute",
bottom: 0,
left: 0,
width: "100%"
},
".chat_log": {
".scrollable_inner": {
padding: 0
}
}
},
".disconnected_toast": {
top: "25%"
},
".scroll_top_btn": {
position: "fixed",
top: "20px",
left: "50%",
width: "60px",
height: "40px",
marginLeft: "-30px",
padding: "0px",
zIndex: "1000",
display: "none",
".scroll_top_icon": {
lineHeight: "44px",
textAlign: "center",
fontSize: "16px"
}
},
"&.mobile": {
".served_by_container": {
position: "relative",
padding: "10px",
height: "auto"
},
".chat_panel_container": {
".chat_log": {
marginBottom: "30px"
}
},
".chat_panel_branding": {
display: "block",
position: "absolute",
padding: "5px",
bottom: "45px",
margin: "0",
zIndex: "30"
},
".disconnected_toast": {
top: "60px"
}
},
"&.mobile.ltr": {
".chat_panel_branding": {
left: "10px"
}
},
"&.mobile.rtl": {
".chat_panel_branding": {
right: "10px"
}
}
};
s(t, "meshim_widget_components_chatWindow_ChatPanel");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t, e) {
function i() {
Date.now() - n >= e ? t.call() : o.id = window.requestAnimationFrame(i);
}
const n = Date.now(), o = new Object();
o.id = window.requestAnimationFrame(i);
return o;
}
function n(t) {
window.cancelAnimationFrame(t.id);
}
function o(t, e) {
function o() {
t.apply(s, r);
}
var r, s, a;
return function() {
a && n(a);
r = Array.prototype.slice.call(arguments);
s = this;
a = i(o, e);
};
}
var r = {
debounce: o
};
t.exports = r;
e(r, "meshim_common_RAFTimeout");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_html_span = i(31);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_span, "text", "", [], {
id: "text",
addClass: "text"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__text");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
s && h.autounbind(s, "value", e);
r = t;
s = r.$("timestamp$int");
h.autobind(s, "value", e);
}
function e(t) {
if (t) {
var e = new Date(t), i = e.toLocaleString([ _, "en" ], l);
p.setText(i);
}
}
function n(t) {
_ = t.replace(/_/g, "-");
e(s && s.getValue());
}
function o() {
a.unLanguage && a.unLanguage(n);
}
var r, s, a = i(7), _ = "en", l = {
hour12: !0,
month: "short",
day: "2-digit",
hour: "2-digit",
minute: "2-digit"
};
!function() {
h.setDataNode = t;
h.onDestruction(o);
a.onLanguage && a.onLanguage(n);
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogDateDividerColor",
background: "$$chatLogSystemMsgBg",
borderWidth: "$$chatLogSystemMsgBorderWidth",
borderStyle: "$$chatLogSystemMsgBorderStyle",
borderColor: "$$chatLogSystemMsgBorderColor",
padding: "$$chatLogSystemMsgPadding",
marginTop: "20px",
marginBottom: "15px",
textAlign: "center",
lineHeight: "$$chatLogDateDividerLineHeight",
borderBottom: "$$chatLogDateDividerBorderBottom",
fontWeight: "$$chatLogDateDividerFontWeight",
".text": {
background: "#FFF",
padding: "0 10px"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_DateDivider");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt = i(143);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:chatLogRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
var i = t.$("timestamp$int");
if (n !== i) {
n && h.autounbind(n, "value", e);
n = i;
n && h.autobind(n, "value", e);
}
}
function e() {
if (n) {
var t = s.getValue(), e = n.getValue(), i = l.getValue(), o = u.getValue(), r = _.getValue() && i && i <= e;
t && r && o === e && !d.getValue() ? h.setDisplay("") : h.setDisplay("none");
} else h.setDisplay("none");
}
var n, o = i(5), r = o.root.$("livechat"), s = r.$("settings").$("rating").$("enabled$bool"), a = r.$("channel"), _ = a.$("chatting$bool"), l = a.$("start$time"), d = a.$("rating$string"), u = a.$("last_agent_leave_ts$int");
!function() {
h.setDataNode = t;
h.autobind(s, "value", e);
h.autobind(d, "value", e);
h.autobind(_, "value", e);
h.autobind(l, "value", e);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_chatLogRenderer_MemberLeaveRatingPrompt");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__div = i(145);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__div, "", "", [], {} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
s.getValue() ? h.setDisplay("") : h.setDisplay("none");
}
var e = i(11), n = i(5), o = e.chat_log["chat.comment"], r = n.root.$("livechat"), s = r.$("settings").$("rating").$("enabled$bool");
h.setDataNode = function() {};
!function() {
h.setText(o);
h.autobind(s, "value", t);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__div;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_chatLogRenderer_Comment");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_widgets_chatLogRenderer_Button = i(142);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(218), h = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "rating_msg", "", [], {
id: "rating_msg"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_Button, "leave_a_comment", "", [ c ], {
id: "leave_a_comment",
addClass: "leave_a_comment"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__rating_msg"), m = n.get(a + "__leave_a_comment");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function e() {
x.update("rating_panel");
}
function n() {
var t = p.getValue();
f.setDisplay(t ? "" : "none");
}
function o() {
if (m && l) {
var t = $.getValue(), e = b.getValue(), i = l.getValue("timestamp$int"), n = e && i > t, o = w.getValue(), s = o && i <= o;
n && !s || r();
}
}
function r() {
if (m) {
f.autounbind(w, "value", o);
m.un("click", e);
m.destroy();
m = null;
}
}
function s(t) {
if (l !== t) {
l && f.autounbind(l, "value", a);
l = t;
t && f.autobind(l, "value", a);
}
}
function a() {
var t = l.getValue();
if (t) {
var e = t.new_rating$string;
g.setText(_(e));
o();
}
}
function _(t) {
return t ? c[t] : c.cancel;
}
var l, d = i(11), u = i(5), c = d.chat_log["chat.rating"], h = u.root.$("livechat"), p = h.$("settings").$("rating").$("enabled$bool"), $ = h.$("channel").$("start$time"), b = h.$("channel").$("chatting$bool"), w = h.$("channel").$("last_comment_ts$int"), x = h.$("ui").$("chat_window").$("main_stack_name$string");
!function() {
f.setDataNode = s;
f.disableLeaveComment = r;
f.autobind(p, "value", n);
f.autobind($, "value", o);
f.autobind(b, "value", o);
f.autobind(w, "value", o);
t.last_instance && t.last_instance.disableLeaveComment();
t.last_instance = f;
m.on("click", e);
}();
}();
for (var b in $) $.hasOwnProperty(b) && (f[b] = $[b]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
padding: "0px 10px",
".leave_a_comment": {
margin: "5px 0px"
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_Rating");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
n && h.autounbind(n, "value", e);
n = t;
n && h.autobind(n, "value", e);
}
function e() {
var t = n.getValue();
if (t) {
var e = t.display_name$string, i = t.new_display_name$string, o = "";
e && i && (o = r.replace("<old_name>", e).replace("<new_name>", i));
h.parentNode.setDisplay(o ? "" : "none");
h.setText(o);
}
}
var n, o = i(11), r = o.chat_log["chat.changename"];
!function() {
h.setDataNode = t;
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_chatLogRenderer_NameChange");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "log_message", "", [], {
id: "log_message"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__log_message");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
n && h.autounbind(n, "value", e);
n = t.$("display_name$string");
h.autobind(n, "value", e);
}
function e(t) {
var e = n.parentNode.getValue("nick$string") || "";
e = e.split(":")[0];
var i = n.parentNode.getValue("type$string");
if (e && t || "chat.memberleave" === i && "visitor" === e) {
h.parentNode.setDisplay("");
var r = n.parentNode.getValue("timestamp$int"), l = _[i] || "";
l = l.replace("<name>", t);
if ("visitor" == e) if ("chat.memberleave" != i) {
l = s.chat_log["chat.visitorjoin"];
h.parentNode.addClass("visitor_join");
} else {
l = s.chat_log["chat.visitorleave"];
h.parentNode.addClass("visitor_leave");
}
"agent" == e && "chat.memberjoin" == i && o && r > o && a.trackEvent("Served by Operator", t);
p.setText(l);
} else h.parentNode.setDisplay("none");
}
var n, o, r = i(5), s = i(11), a = i(50), _ = s.chat_log, l = r.root.$$("connection.reattached_timestamp$int");
!function() {
h.setDataNode = t;
l.on("value", function(t) {
o = t;
});
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_chatLogRenderer_MemberChange");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt = i(143);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:chatLogRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
var i = t.$("timestamp$int");
if (n !== i) {
n && h.autounbind(n, "value", e);
n = i;
n && h.autobind(n, "value", e);
}
}
function e() {
if (n) {
var t = s.getValue(), e = n.getValue(), i = _.getValue(), o = l.getValue();
t && i && o && o <= e ? h.setDisplay("") : h.setDisplay("none");
} else h.setDisplay("none");
}
var n, o = i(5), r = o.root.$("livechat"), s = r.$("settings").$("rating").$("enabled$bool"), a = r.$("channel"), _ = a.$("chatting$bool"), l = a.$("start$time");
!function() {
h.setDataNode = t;
h.autobind(s, "value", e);
h.autobind(_, "value", e);
h.autobind(l, "value", e);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
borderWidth: "$$chatLogSystemMsgBorderWidth",
borderStyle: "$$chatLogSystemMsgBorderStyle",
borderColor: "$$chatLogSystemMsgBorderColor",
padding: "$$chatLogSystemMsgPadding",
textAlign: "center"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_RequestRatingPrompt");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_table = i(54);
e.__$$__jx_ui_html_tbody = i(53);
e.__$$__jx_ui_html_tr = i(52);
e.__$$__jx_ui_html_td = i(51);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "left_cell", "", [], {
id: "left_cell"
} ], [ e.__$$__jx_ui_html_td, "right_cell", "", [], {
id: "right_cell"
} ] ], {} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__left_cell"), f = n.get(s + "__right_cell");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
n && h.autounbind(n, "value", e);
o = t;
n = t.$("nick$string");
h.autobind(n, "value", e);
}
function e(t) {
if (t) {
p.empty();
f.empty();
p.removeClass("avatar_cell");
f.removeClass("avatar_cell");
if (a.test(t)) {
new r(p).setHideAuthType(!0).setMemberId(t).addClass("log_avatar");
new s(f).setDataNode(o);
p.addClass("avatar_cell");
} else {
new r(f).setHideAuthType(!0).setMemberId(t).addClass("log_avatar");
new s(p).setDataNode(o);
f.addClass("avatar_cell");
}
}
}
var n, o, r = i(104), s = i(144), a = /^agent/;
!function() {
h.setDataNode = t;
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_table.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_table;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
fontSize: "100%",
tableLayout: "fixed",
borderSpacing: "0px",
borderCollapse: "collapse",
td: {
verticalAlign: "bottom",
padding: "0px"
},
".chat_bubble": {
display: "inline",
margin: "0 8px"
},
".log_avatar": {
width: "32px",
height: "32px"
},
".avatar_cell": {
width: "32px"
}
},
"**self.group_children": {
".chat_name": {
display: "none"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_BubbleAvatarRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_table = i(54);
e.__$$__jx_ui_html_tbody = i(53);
e.__$$__jx_ui_html_tr = i(52);
e.__$$__jx_ui_html_td = i(51);
e.__$$__meshim_widget_widgets_Avatar = i(104);
e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer = i(99);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_Avatar, "avatar", "", [], {
id: "avatar",
addClass: "log_avatar",
hideAuthType: "true"
} ] ], {
class: "avatar_cell"
} ], [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer, "content", "", [], {
id: "content",
addClass: "content"
} ] ], {} ] ], {} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
class: "basicAvatarRenderer"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__avatar"), f = n.get(s + "__content");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
n && h.autounbind(n, "value", e);
f.setDataNode(t);
n = t.$("nick$string");
h.autobind(n, "value", e);
}
function e(t) {
t && p.setMemberId(t);
}
var n, o = i(9);
!function() {
o.rtl(h);
h.setDataNode = t;
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_table.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_table;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
tableLayout: "fixed",
borderSpacing: "0px",
borderCollapse: "collapse",
fontSize: "100%",
td: {
verticalAlign: "top",
padding: "0px"
},
".log_avatar": {
width: "24px",
height: "24px"
},
".avatar_cell": {
width: "24px"
},
".content": {
marginTop: "0px",
marginLeft: "8px"
}
},
"&.rtl": {
".content": {
marginLeft: "0px",
marginRight: "8px"
}
},
"**self.group_children": {
".log_avatar": {
display: "none"
},
".chat_name": {
display: "none"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_BasicAvatarRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "$$defaultplacement$$", "", [], {
class: "arrow_content",
container: "default",
position: "relative",
id: "$$defaultplacement$$"
} ], [ e.__$$__jx_ui_html_div, "", "", [], {
class: "arrow arrow_border"
} ], [ e.__$$__jx_ui_html_div, "", "", [], {
class: "arrow arrow_background"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__$$defaultplacement$$");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
h.defaultPlacement = p;
var f = function() {
var t = i(9);
!function() {
h.setArrowPointing = function(t) {
h.removeClass("left").removeClass("right");
h.addClass(t);
};
t.rtl(h);
}();
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
border: "1px solid #000000",
background: "#ffffff",
".arrow": {
position: "absolute",
border: "0px solid transparent",
height: 0,
width: 0,
fontSize: 0,
lineHeight: 0,
pointerEvents: "none"
},
".arrow_border": {
borderWidth: "8px",
marginTop: "8px"
},
".arrow_background": {
borderWidth: "7px",
marginTop: "9px"
},
"&.ltr.left, &.rtl.right": {
".arrow": {
right: "100%",
top: 0,
borderLeftColor: "transparent !important",
borderTopColor: "transparent !important",
borderBottomColor: "transparent !important"
}
},
"&.rtl.left, &.ltr.right": {
".arrow": {
left: "100%",
top: 0,
borderRightColor: "transparent !important",
borderTopColor: "transparent !important",
borderBottomColor: "transparent !important"
}
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_ArrowBubble");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatBubble = i(144);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatBubble, "bubble", "", [], {
id: "bubble",
addClass: "chat_bubble"
} ], [ e.__$$__jx_ui_html_div, "", "", [], {
class: "clear_both"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:logRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
var h = n.get(s + "__bubble");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
!function() {
c.setDataNode = function(t) {
h.setDataNode(t);
};
}();
}();
for (var f in p) p.hasOwnProperty(f) && (c[f] = p[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
".clear_both": {
clear: "both",
height: "0px",
overflow: "hidden",
lineHeight: "0px",
fontSize: "0px"
}
},
"**self.group_children": {
".chat_name": {
display: "none"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_BubbleLogRenderer");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_html_div = i(13);
e.__$$__jx_ui_html_a = i(44);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_div, "icon_wrapper", "", [ [ e.__$$__jx_ui_html_a, "a_full", "", [ [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "paperclip",
class: "generic_icon",
addClass: "icon"
} ] ], {
class: "generic_icon_container generic_file_border"
} ] ], {
id: "a_full",
class: "anchor",
target: "_blank"
} ] ], {
class: "icon_wrapper",
id: "icon_wrapper"
} ], [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_a, "file_name", "", [], {
id: "file_name",
class: "file_name",
target: "_blank"
} ], [ e.__$$__jx_ui_html_div, "file_size", "", [], {
id: "file_size",
class: "file_size"
} ] ], {
class: "file_info_container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__icon_wrapper"), f = n.get(s + "__a_full"), g = n.get(s + "__file_name"), m = n.get(s + "__file_size");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t(t) {
if (t) {
if (s in t) {
t[s] = r.replaceFileHostname(t[s]);
f.setHref(t[s]);
g.setHref(t[s]);
}
a in t && g.setText(t[a]);
_ in t && m.setText(o.prettySize(t[_], {
base2: !0
}));
}
}
var e, n = i(9), o = i(66), r = i(10), s = "url$string", a = "name$string", _ = "size$int";
h.setDataNode = function(i) {
e && h.autounbind(e, "value", t);
e = i;
e && h.autobind(e, "value", t);
};
!function() {
n.rtl(p);
}();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
display: "table",
width: "100%"
},
".icon_wrapper": {
display: "table-cell",
width: "1px",
"&.rtl": {
paddingLeft: "$$paddingL"
},
"&.ltr": {
paddingRight: "$$paddingL"
}
},
".anchor": {
textDecoration: "none"
},
".generic_icon_container": {
display: "table",
width: "44px",
height: "44px",
backgroundColor: "#FFFFFF",
borderCollapse: "separate",
borderRadius: "4px",
borderWidth: "1px",
borderStyle: "solid",
borderColor: "$$borderColor",
textAlign: "center",
".generic_icon": {
display: "inline-block",
transform: "rotate(45deg)",
paddingTop: "10px",
paddingLeft: "8px",
fontSize: "24px"
}
},
".file_info_container": {
display: "table-cell",
verticalAlign: "top",
padding: "0px",
".file_name": {
fontSize: "$$fontSizeS",
wordBreak: "break-all",
textDecoration: "none"
},
".file_size": {
marginTop: "2px",
fontSize: "$$fontSizeS"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_GenericFileRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_html_a = i(44);
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(229), h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_a, "a_full", "", [ [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "file_image", "", [], {
id: "file_image",
class: "file_image"
} ], [ e.__$$__jx_ui_html_div, "reload_container", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "picture",
class: "reload_icon",
addClass: "icon"
} ], [ e.__$$__jx_ui_html_div, "", "", [ c ], {
class: "reload_message"
} ] ], {
id: "reload_container",
class: "reload_container",
display: "none"
} ] ], {
class: "file_image_container image_file_border"
} ] ], {
id: "a_full",
class: "anchor",
target: "_blank"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__a_full"), m = n.get(a + "__file_image"), $ = n.get(a + "__reload_container");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t(t) {
if (t && _ in t) {
t[_] = a.replaceFileHostname(t[_]);
g.setHref(t[_]);
s && (s.onload = s.onerror = s.onabort = e);
s = new window.Image();
s.onload = n;
s.onerror = o;
s.onabort = o;
s.src = t[_];
}
}
function e() {}
function n() {
m.setBackgroundImage(s.src);
$.setDisplay("none");
m.setOpacity(1);
}
function o() {
m.setDisplay("none");
$.setDisplay("");
}
var r, s, a = i(10), _ = "url$string";
f.setDataNode = function(e) {
r && f.autounbind(r, "value", t);
r = e;
r && f.autobind(r, "value", t);
};
}();
for (var w in b) b.hasOwnProperty(w) && (f[w] = b[w]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".anchor": {
textDecoration: "none"
},
".file_image_container": {
display: "table",
width: "120px",
height: "80px",
backgroundColor: "#FFFFFF",
borderCollapse: "separate",
borderRadius: "4px",
borderWidth: "1px",
borderStyle: "solid",
borderColor: "$$borderColor",
textAlign: "center",
overflow: "hidden",
".file_image": {
display: "table-cell",
width: "100%",
height: "100%",
backgroundPosition: "center",
backgroundSize: "cover",
opacity: "0",
transition: "opacity 0.5s"
},
".reload_container": {
display: "table-cell",
verticalAlign: "middle",
".reload_icon": {
fontSize: "24px"
},
".reload_message": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor"
}
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_ImageFileRenderer");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "p";
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(23);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_p");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_html_div = i(13);
e.__$$__jx_ui_html_p = i(314);
e.__$$__jx_ui_html_img = i(108);
e.__$$__jx_ui_html_span = i(31);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(224), h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_div, "file_progress_container", "", [ [ e.__$$__jx_ui_html_p, "progress_text", "", [], {
id: "progress_text",
class: "progress_text"
} ], [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_img, "progress_bar", "", [], {
id: "progress_bar",
class: "progress_bar"
} ] ], {
class: "progress_container"
} ] ], {
id: "file_progress_container",
useDisplay: "true"
} ], [ e.__$$__jx_ui_html_div, "file_details_container", "", [], {
id: "file_details_container",
class: "file_details_container",
visible: "none"
} ], [ e.__$$__jx_ui_html_div, "file_status", "", [], {
id: "file_status",
class: "file_status",
useDisplay: "true"
} ], [ e.__$$__jx_ui_html_span, "file_deleted", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
class: "paperclip",
title: "Attachment deleted",
icon: "paperclip"
} ], [ e.__$$__jx_ui_html_span, "", "", [], {
class: "space_between"
} ], [ e.__$$__jx_ui_html_span, "", "", [ c ], {} ] ], {
id: "file_deleted",
class: "file_deleted",
useDisplay: "true",
visible: "none"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
visible: "none",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__file_progress_container"), m = n.get(a + "__progress_text"), $ = n.get(a + "__progress_bar"), b = n.get(a + "__file_details_container"), w = n.get(a + "__file_status"), x = n.get(a + "__file_deleted");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t(t) {
if (t) {
if (A in t) {
var i = t[A];
if (k in i && i[k]) {
g.hide();
x.show();
f.show();
return;
}
t[p] = i.name$string;
t[v] = i.mime_type$string;
t[j] = "ok";
t[y] = 100;
}
(p in t || C in t) && f.show();
e(t) && n(t) && o(t);
S in t && h.update({
file_upload_scroll$bool: !0
});
}
}
function e(t) {
if (!(j in t)) return !0;
g.hide();
if ("ok" == t[j].toLowerCase()) {
b.show();
w.removeClass("fail");
return !0;
}
b.hide();
w.addClass("fail");
if (!(C in t)) return !0;
w.setText(_.prettyError(t[C]));
w.show();
return !1;
}
function n(t) {
if (!(y in t && p in t)) return !1;
var e = t[y] < N, i = t[p].length > 15 ? t[p].substring(0, 12) + "..." : t[p];
m.setText((e ? I : T).replace("<file_name>", i));
if (e) {
g.show();
b.hide();
w.hide();
} else {
g.hide();
b.show();
w.show();
}
return !e;
}
function o(t) {
if (r.$(A).getValue()) {
s && b.empty();
var e;
e = B.test(t[v]) ? u : c;
s = new e(b);
s.setDataNode(r.$(A));
}
}
var r, s, a = i(7), _ = i(66), l = i(18), d = i(5), u = i(313), c = i(312), h = d.root.$$("livechat.ui.chat_window"), p = "file_name$string", v = "file_type$string", y = "s3_progress$int", j = "status$string", C = "error$string", S = "unverified$bool", A = "attachment", k = "deleted$bool", I = a(225), T = a(226), B = /image/i, N = 100;
f.setDataNode = function(e) {
r && f.autounbind(r, "value", t);
r = e;
r && f.autobind(r, "value", t);
};
!function() {
$.setSrc(l.IMAGES_URL + "/loadingbar.gif");
}();
}();
for (var y in v) v.hasOwnProperty(y) && (f[y] = v[y]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
width: "100%"
},
".paperclip": {
display: "inline-block",
"font-size": "$$fontSizeL",
transform: "rotate(45deg)",
position: "relative",
bottom: "-2px"
},
".space_between": {
width: "5px",
display: "inline-block"
},
".progress_text": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
fontStyle: "italic"
},
".progress_container": {
position: "relative",
height: "8px",
marginTop: "3px",
borderRadius: "5px",
background: "$$chatLogFileProgressBg",
overflow: "hidden",
".progress_bar": {
position: "absolute",
top: "0px",
left: "0px",
height: "100%"
}
},
".file_details_container": {
overflow: "hidden",
marginTop: "5px"
},
".file_deleted": {
fontStyle: "italic"
},
".file_status": {
marginTop: "5px",
textAlign: "center",
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
"&.fail": {
color: "$$errorMessageColor"
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_ChatFile");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(s, a, _, l, d) {
if (!(this instanceof t)) return new t(s, a, _, l, d);
a = a || n.generateID();
var u = o(222), c = o(223), h = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
useDisplay: "true",
visible: "false"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
if (n !== t) {
if (n) {
f.autounbind(n, "value", i);
f.setText("");
}
n = t;
if (n) {
f.autobind(n, "value", i);
f.setVisible(!0);
} else f.setVisible(!1);
}
}
function e() {
n && n.update(!n.getValue());
}
function i() {
f.setText(!0 === n.getValue() ? c : u);
}
var n;
!function() {
f.setDataNode = t;
f.on("click", e);
}();
}();
for (var m in g) g.hasOwnProperty(m) && (f[m] = g[m]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(_);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(l) : n.addChildren(f, l);
if (f !== this) {
f.__jx__constructor = i;
f.__jx__native = !1;
}
return f;
}
var i;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
cursor: "pointer",
display: "inline-block",
textDecoration: "underline",
color: "$$chatTranslationSwitchColor"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_TranslationSwitch");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return "&#" + t.charCodeAt(0) + ";";
}
var n = /[&<>"']/g, o = {
html: function(t) {
return t && t.replace(n, i);
}
};
t.exports = o;
e(o, "meshim_common_Sanitize");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
if (a !== t) {
a && h.autounbind(a, "value", e);
a = t;
a && h.autobind(a, "value", e);
}
}
function e() {
var t = n(a.getValue());
if (t) {
h.setDisplay("block");
h.setHTML(t);
o();
} else h.setDisplay("none");
}
function n(t) {
if (!t) return "";
for (var e, i = t.split("/"), n = "<form>", o = 0, r = i.length; o < r; o++) {
e = _.html(i[o]);
n += '<label><input type="radio" name="option" value="' + e + '">' + e + "</label></br>";
}
n += "</form>";
return n;
}
function o() {
for (var t = h.dom.getElementsByTagName("input"), e = 0, i = t.length; e < i; e++) t[e].onclick = function() {
this.value !== s && r(this.value);
};
}
function r(t) {
if (t) {
l.livechat.sendChatMsg({
msg: t
});
s = t;
}
}
var s, a, _ = i(317), l = i(5);
!function() {
h.setDataNode = t;
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_chatLogRenderer_ChatOption");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(219), h = o(220), p = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "exclamation",
title: c
} ], [ e.__$$__jx_ui_Widget, "", "", [ h ], {
class: "resend"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
display: "none"
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t(t) {
if (t != r) {
r && g.autounbind(r, "value", e);
r = t;
r && g.autobind(r, "value", e);
}
}
function e(t) {
if (t) {
t.failed$bool && o();
if ("unverified$bool" in t) {
window.clearTimeout(s);
t.unverified$bool && (s = window.setTimeout(o, _.RESEND_MSG_TIMEOUT));
}
}
}
function n(t) {
t && a(t.stopPropagation) && t.stopPropagation();
l.livechat.sendChatMsg({
msg: r.getValue("msg$string")
}, r.name);
g.setDisplay("none");
}
function o() {
g.setDisplay("");
}
var r, s, a = i(20), _ = i(18), l = i(5);
!function() {
g.setDataNode = t;
g.on("click", n);
}();
}();
for (var $ in m) m.hasOwnProperty($) && (g[$] = m[$]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
".resend": {
textDecoration: "underline"
},
".icon_font": {
position: "relative",
top: "2px",
marginRight: "3px"
}
},
"**self, .icon_font, .resend": {
color: "$$errorColor",
display: "inline-block",
"*display": "inline",
"*zoom": "1",
cursor: "pointer"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_ResendChatMessage");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
for (var e, i = o.search.phone_number, n = 0, r = []; null !== (e = i.exec(t)); ) {
var s = e[0].trim(), a = e[1], _ = e[2], l = i.lastIndex - s.length, d = s.replace(a, "").replace(_, "");
l > n && r.push(t.substring(n, l));
r.push({
tagName: "a",
attributes: {
href: "tel:" + d
},
children: [ s ]
});
n = i.lastIndex;
}
n < t.length && r.push(t.substring(n));
return r;
}
var o = i(59);
t.exports = n;
e(n, "meshim_common_stringParser_PhoneNumberParser");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
for (var e, i = o.search.email_lws, n = 0, r = []; null !== (e = i.exec(t)); ) {
var s = e[0].trim(), a = e[2], _ = i.lastIndex - s.length;
if (o.tld.test(a)) {
_ > n && r.push(t.substring(n, _));
r.push({
tagName: "a",
attributes: {
href: "mailto:" + s,
target: "_top"
},
children: [ s ]
});
n = i.lastIndex;
}
}
n < t.length && r.push(t.substring(n));
return r;
}
var o = i(59);
t.exports = n;
e(n, "meshim_common_stringParser_EmailParser");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
if (o !== t) {
o && h.autounbind(o, "value", e);
o = t;
o && h.autobind(o, "value", e);
}
}
function e() {
if (!o.parentNode.$("attachment").getValue()) {
var t = o.getValue() || "";
n(r.toJXMLElements(t, u));
}
}
function n(t) {
h.empty();
h.setText("");
h.addChildren(t);
}
var o, r = i(152), s = i(151), a = i(321), _ = i(148), l = i(150), d = i(320), u = [ s, _, l, a, d ];
!function() {
h.setDataNode = t;
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
display: "inline"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_ChatMessage");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__jx_ui_html_span = i(31);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(227), h = o(228), p = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_span, "text", "", [], {
id: "text",
addClass: "text_name"
} ], [ e.__$$__jx_ui_html_span, "change_name", "", [ h ], {
id: "change_name",
addClass: "chat_name"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
var m = n.get(a + "__text"), $ = n.get(a + "__change_name");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t(t) {
a && g.autounbind(a, "value", e);
a = t;
g.autobind(a, "value", e);
}
function e(t) {
if (t && t.type$string != C) {
t.nick$string && n(t.nick$string, t.timestamp$int);
t.display_name$string && o(t.display_name$string);
}
}
function n(t, e) {
if (t) {
u = t.split(":")[0];
"visitor" == u && p && o(p);
"agent" == u && b.getValue() && e > b.getValue() && _.root.$$("livechat.ui.sounds").update({
new_message$int: +new Date()
});
if ("visitor" == u && !s.bounded && !y.getValue()) {
g.addClass("cursor_pointer");
m.on("click", s);
$.on("click", s);
s.bounded = !0;
}
}
}
function o(t) {
if ("visitor" == u) {
t = f.getValue();
if (!p) {
if (d.isDefaultName(t)) {
t = "";
$.setDisplay("");
} else $.setDisplay("none");
p = t;
}
m.setText(p);
} else {
m.setText(t);
$.setDisplay("none");
}
}
function r(t) {
if (t && "string" == typeof t && (!u || "visitor" == u)) {
if (d.isDefaultName(t)) {
t = "";
$.setDisplay("");
} else $.setDisplay("none");
p = t;
m.setText(p);
}
}
function s(t) {
if (v.getValue()) {
if (!d.isDefaultName(f.getValue())) return;
window.scrollTo(0, 0);
}
t.stopPropagation();
l.showProfileMenu();
}
var a, _ = i(5), l = i(25), d = i(10), u = "", p = "", f = _.root.$$("livechat.profile.display_name$string"), b = _.root.$$("connection.reattached_timestamp$int"), w = _.root, x = w.$("livechat").$("ui"), v = x.$("mobile$bool"), y = x.$("visitor").$("authenticated$bool"), j = _.root.$("livechat").$("settings").$("login").$("restrict_profile$bool"), C = "chat.file.update";
!function() {
g.setDataNode = t;
g.autobind(f, "value", r);
g.autobind(j, "value", function(t) {
g.setStyle("cursor", t ? "auto" : "");
$.setText(t ? c : h);
});
g.autobind(y, "value", function() {
a && e(a.getValue());
});
}();
}();
for (var w in b) b.hasOwnProperty(w) && (g[w] = b[w]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"&.cursor_pointer": {
".text_name, .chat_name": {
cursor: "pointer"
}
},
".text_name": {
wordWrap: "break-word"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_ChatName");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
class: "chat_log_renderer"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
return y.root.$$("livechat.settings.theme.message_type$string").getValue() || "bubble_avatar";
}
function e(t) {
g && h.autounbind(g, "value", n);
g = t;
h.autobind(g, "value", n);
h.on("update.neighbour", s);
}
function n(t) {
if (t) {
if (t.nick$string) {
$ = t.nick$string;
r($);
}
o();
t.failed$bool && p();
if ("unverified$bool" in t) {
clearTimeout(x);
t.unverified$bool && (x = setTimeout(f, v.RESEND_MSG_TIMEOUT));
}
}
}
function o() {
var t = g.$("type$string").getValue(), e = g.$("is_translation$bool").getValue();
if (w) {
h.empty();
w = null;
}
if (t && !e) {
b = t;
if (g.$("first$bool").getValue()) {
new B(h).setDataNode(g);
}
switch (b) {
case "chat.mention":
case "chat.msg":
case "chat.file.update":
case "chat.file.upload":
d();
break;

case "chat.request.rating":
u();
break;

case "chat.join":
case "chat.event":
break;

default:
c();
}
$ && r($);
a();
}
}
function r(t) {
if (w) {
for (var e = t.substring(0, t.indexOf(":")), i = 0, n = 0, o = t.length; n < o; ) {
i += t.charCodeAt(n);
n++;
}
i = i % 8 + 1;
w.addClass(e);
w.addClass(e + "_" + i);
r.assigned = !0;
}
}
function s(t) {
if ("prev" in t && m != t.prev) {
m = t.prev;
a();
}
}
function a() {
if (g) if (m) {
var t = g.parentNode.$(m), e = t.getValue("nick$string"), i = t.getValue("type$string");
N.test(i) && b === i && e === $ ? l() : _();
} else _();
}
function _() {
if (w) {
w.removeClass("group_children");
w.addClass("group_head");
}
}
function l() {
if (w) {
w.addClass("group_children");
w.removeClass("group_head");
}
}
function d() {
var e, i = t();
switch (i) {
case "bubble":
e = S;
break;

case "basic_avatar":
e = A;
break;

case "bubble_avatar":
e = k;
break;

default:
e = C;
}
w = new e(h);
w.setDataNode(g);
w.addClass(i);
}
function u() {
w = new I(h);
w.setDataNode(g);
}
function c() {
w = new T(h);
w.setDataNode(g);
w.setPseudo("system_msg");
}
function p() {
j.increment("user_msg_send_failed");
}
function f() {
j.increment("user_msg_send_timeout");
}
var g, m, $, b, w, x, v = i(18), y = i(5), j = i(56), C = i(99), S = i(311), A = i(309), k = i(308), I = i(307), T = i(141), B = i(301), N = /chat\.(msg|memberjoin|changename)/;
m = $ = b = "";
!function() {
h.setDataNode = e;
h.onDestruction(function() {
clearTimeout(x);
});
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
clear: "both",
width: "100%"
}
};
s(t, "meshim_widget_widgets_ChatLogRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
var e, i;
if (t.leaf) {
e = this;
e.autobind(t, "value", function(t) {
"value" in e ? e.value = t : e.setText(t);
});
} else {
e = this.firstChild;
for (;e; ) {
if (e.getAttribute) {
i = e.getAttribute("name");
i ? e.setDataNode(t.descend(i)) : e.setDataNode(t);
}
e = e.nextSibling;
}
}
}
function n(t) {
if (!t.setDataNode) {
t.setDataNode = i;
for (var e = t.firstChild; e; ) {
n(e);
e = e.nextSibling;
}
}
}
var o = {
applySetDataNode: n
};
t.exports = o;
e(o, "jx_data_SetDataNode");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_components_chatWindow_chatPanel_Spinner = i(101);
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_components_chatWindow_chatPanel_HistoryLog = i(100);
e.__$$__meshim_widget_widgets_Bottom = i(32);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_Spinner, "large_spinner", "", [], {
id: "large_spinner",
addClass: "large_spinner",
size: "big",
visible: "false"
} ], [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "history_log", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_Spinner, "small_spinner", "", [], {
id: "small_spinner",
visible: "false"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_HistoryLog, "", "", [], {} ] ], {
addClass: "history_log",
id: "history_log"
} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "back", "", [], {
id: "back",
addClass: "wide"
} ] ], {} ] ], {
addClass: "history_panel"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel",
titleBar: "hidePopout",
actionBar: ""
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__large_spinner"), f = n.get(s + "__history_log"), g = n.get(s + "__small_spinner"), m = n.get(s + "__back");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
if (b && 3 === d.getValue() && "pre_chat_offline_form" === u.getValue()) {
r.fetchChatHistory(!0);
b = !1;
}
}
var e, n = i(2), o = i(5), r = i(69), s = i(11), a = o.root.$("livechat"), _ = a.$("ui"), l = _.$("mobile$bool"), d = _.$("chat_window").$("pre_chat_offline_form").$("stack_index$int"), u = _.$("chat_window").$("main_stack_name$string"), c = a.$("channel").$("chatting$bool"), $ = a.$("settings").$("branding").$("hide_branding$bool"), b = !1;
!function() {
m.on("click", function() {
d.update(0);
});
m.setText(s.back);
r.setupScrollListener(f);
r.bindSpinnerUI(h, g, p);
h.autobind(l, "value", function(t) {
var e = $.getValue() ? "" : " - 46px";
h.style.height = t ? "calc(100vh - " + n.getVariable("titleBarHeight") + e + ")" : "";
});
h.autobind(d, "value", t);
h.autobind(u, "value", t);
h.autobind(c, "value", function(t) {
e && !t && (b = !0);
e = t;
});
}();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".history_log": {
overflowY: "auto",
padding: "10px"
},
"&.mobile": {
"width, maxWidth": "100%",
".history_panel": {
display: "flex",
flexDirection: "column",
height: "100%"
},
".history_log": {
flexGrow: "1",
borderBottom: "1px solid #EEE"
},
".large_spinner": {
bottom: "60px"
}
},
".large_spinner": {
position: "absolute",
margin: "auto",
"top, left, right": "0",
bottom: "40px"
},
"&.desktop": {
".history_log": {
position: "absolute",
"left, right, top": "0",
bottom: "40px"
}
}
};
s(t, "meshim_widget_components_chatWindow_preChatOfflineForm_HistoryPanel");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
o = t;
n();
}
function e(t) {
r = t;
n();
}
function n() {
var t = _.replace("<start_time>", o || "").replace("<end_time>", r || "");
h.setText(t);
}
var o, r, s = i(7), a = i(11), _ = a.pre_chat_offline_form.operating_hours.period;
!function() {
h.setStart = t;
h.setEnd = e;
if (s && s.onLanguage) {
s.onLanguage(n);
h.onDestruction(function() {
s.unLanguage(n);
});
}
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_preChatOfflineForm_operatingHours_Period");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Header = i(63);
e.__$$__meshim_widget_widgets_Body = i(37);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "days_el", "", [], {
id: "days_el",
addClass: "short"
} ], [ e.__$$__meshim_widget_widgets_Body, "periods_el", "", [], {
id: "periods_el"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__days_el"), f = n.get(s + "__periods_el");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
for (var e = 0, i = t.length; e < i; e++) n(t[e]) && (t[e] = d[t[e]]);
return t;
}
function e(t) {
for (var e, i, n, o = [], r = 0, s = t.length; r < s; r++) {
if ("number" != typeof t[r]) return t;
e = t[r];
i = t[r - 1];
n = t[r + 1];
r > t[r] && (e += l);
r - 1 > t[r - 1] && (i += l);
r + 1 > t[r + 1] && (n += l);
if (r && i == e - 1) {
if (r != s - 1 && n == e + 1) continue;
o.push(" â€” ", t[r]);
} else {
r && o.push(", ");
o.push(t[r]);
}
}
return o;
}
var n = i(28), o = i(10), r = i(11), s = i(327), a = i(19), _ = i(6), l = 7, d = r.datetime.days;
h.setData = function(i) {
if (i && i.days) {
p.empty();
var n = i.days;
if (n.length == l) p.setText(r.datetime.everyday); else {
n = t(e(n));
for (var d = 0, u = n.length; d < u; d++) new a(p, null, null, null, {
text: n[d]
});
}
f.empty();
var c, h = i.periods;
if (i.enabled$bool) {
if (h) for (var g in h) if (h.hasOwnProperty(g)) if (0 === h[g].start$int && 1440 === h[g].end$int) {
c = new _(f);
c.setText(r.datetime.all_day);
} else {
c = new s(f);
c.setStart(o.formatMinutesAsHours(h[g].start$int, "12"));
c.setEnd(o.formatMinutesAsHours(h[g].end$int, "12"));
}
} else f.setText(r.pre_chat_offline_form.operating_hours.closed);
}
};
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_preChatOfflineForm_operatingHours_Group");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_Header = i(63);
e.__$$__jx_ui_Label = i(19);
e.__$$__meshim_widget_widgets_form_DepartmentSelect = i(156);
e.__$$__meshim_widget_widgets_Bottom = i(32);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(148), h = o(149), p = o(150), f = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "department_picker", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ c ], {} ] ], {} ], [ e.__$$__meshim_widget_widgets_form_DepartmentSelect, "department", "", [], {
id: "department",
addClass: "department",
disableWhenOffline: "false"
} ] ], {
id: "department_picker"
} ], [ e.__$$__meshim_widget_widgets_Header, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ h ], {} ], [ e.__$$__jx_ui_Label, "", "", [], {
text: " "
} ], [ e.__$$__jx_ui_Label, "timezone_container", "", [], {
id: "timezone_container",
addClass: "timezone_container"
} ] ], {} ], [ e.__$$__jx_ui_Widget, "days", "", [], {
id: "days"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "back", "", [ p ], {
id: "back",
addClass: "wide"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], g = f[0].call(this, s, a, null, n.mangleIDs(a, f[3]), f[4]), m = g || this;
n.set(a, m);
var $ = n.get(a + "__department_picker"), b = n.get(a + "__department"), w = n.get(a + "__timezone_container"), x = n.get(a + "__days"), v = n.get(a + "__back");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var y = function() {
function t() {
if (a) {
var t = b.isHidden() ? f.getValue() : b.getValue();
if ("account" === a) l = k.getValue(); else {
var i = I.getValue();
l = t ? i && i[t] && i[t].schedule || k.getValue() : i && i.overall && i.overall.schedule;
}
e();
}
}
function e() {
if (r && _ && l && a) {
$.setDisplay("account" == a ? "none" : "");
b.setHide("account" == a);
var t, e = N[s] || N.daily, i = [];
for (var o in e) if (e.hasOwnProperty(o)) if (d(e[o])) i.push({
enabled$bool: l[e[o][0]].enabled$bool,
periods: l[e[o][0]].periods,
days: [ e[o][1] ]
}); else {
t = !1;
for (var u = 0, c = i.length; u < c; u++) if (n(i[u], l[e[o]])) {
i[u].days.push(e[o]);
t = !0;
break;
}
t || i.push({
enabled$bool: l[e[o]].enabled$bool,
periods: l[e[o]].periods,
days: [ e[o] ]
});
}
x.empty();
for (var p = 0, f = i.length; p < f; p++) new h(x).setData(i[p]);
}
}
function n(t, e) {
if (!t.enabled$bool && !e.enabled$bool) return !0;
if (t.enabled$bool == e.enabled$bool) {
var i, n = t.periods, o = e.periods, r = 0, s = 0;
for (i in n) if (n.hasOwnProperty(i)) {
if (n[i].start$int !== (o[i] && o[i].start$int) || n[i].end$int !== (o[i] && o[i].end$int)) return;
r++;
}
for (i in o) o.hasOwnProperty(i) && s++;
if (r == s) return !0;
}
}
function o(t) {
return t.replace(/_/g, " ");
}
var r, s, a, _, l, d = i(22), u = i(5), c = i(11), h = i(328), p = u.root.$("livechat"), f = p.$("profile").$("department_id$int"), g = p.$("ui").$("chat_window").$("pre_chat_offline_form").$("stack_index$int"), y = p.$("settings"), j = y.$("timezone$string"), C = y.$("operating_hours"), S = C.$("enabled$bool"), A = C.$("mode$string"), k = C.$("schedule"), I = C.$("dept_schedules"), T = C.$("type$string"), B = C.$("display_notice$bool"), N = {
weekday_weekend: [ [ 1, c.datetime.weekday ], [ 0, c.datetime.weekend ] ],
daily: [ 1, 2, 3, 4, 5, 6, 0 ]
};
!function() {
m.autobind(S, "value", function(t) {
if (r != t) {
r = t;
e();
}
});
m.autobind(A, "value", function(t) {
if (s != t) {
s = t;
e();
}
});
m.autobind(j, "value", function(t) {
if (t) {
t = o(t);
w.setText("(" + t + ")");
}
});
m.autobind(k, "value", t);
m.autobind(I, "value", t);
m.autobind(T, "value", function(e) {
a = e;
t();
});
m.autobind(B, "value", function(t) {
if (_ != t) {
_ = t;
e();
}
});
m.autobind(f, "value", function(e) {
if (e) {
b.setValue(e);
t();
}
});
b.on("change", t);
v.on("click", function() {
g.update(0);
});
}();
}();
for (var j in y) y.hasOwnProperty(j) && (m[j] = y[j]);
m.fire && m.fire("init");
m.setStyle && m.setStyle(l);
m.setAttributes && m.setAttributes(u);
"function" == typeof m.addChildren ? m.addChildren(d) : n.addChildren(m, d);
if (m !== this) {
m.__jx__constructor = _;
m.__jx__native = !1;
}
return m;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".timezone_container": {
fontWeight: "normal"
},
".department": {
marginBottom: "20px"
}
};
a(t, "meshim_widget_components_chatWindow_preChatOfflineForm_OperatingHours");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__meshim_widget_widgets_Body = i(37);
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_form_Profile = i(105);
e.__$$__meshim_widget_widgets_Form = i(103);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(147), h = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_form_Profile, "", "", [], {
hideLabel: "",
disabled: "true"
} ], [ e.__$$__meshim_widget_widgets_Form, "form", "", [], {
id: "form",
readOnly: "true"
} ] ], {
addClass: "form_container"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "another", "", [ c ], {
id: "another",
addClass: "wide"
} ] ], {
addClass: "controls"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__message"), m = n.get(a + "__form"), $ = n.get(a + "__another");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
var t = i(16), e = i(5), n = i(11), o = e.root.$("livechat"), r = o.$("settings").$("forms").$("offline_form"), s = r.$("form"), a = r.$("form_submitted"), _ = r.$("post_submit_message$string"), l = o.$("ui").$("chat_window").$("pre_chat_offline_form"), d = l.$("stack_index$int");
!function() {
m.setDataNode(s);
f.autobind(_, "value", function() {
g.setText(n.get(_));
});
f.autobind(d, "value", function(e) {
1 != e || a.getValue() || t(function() {
d.update(0);
});
});
$.on("click", function() {
d.update(0);
});
}();
}();
for (var w in b) b.hasOwnProperty(w) && (f[w] = b[w]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".form_container": {
background: "$$formSubmittedBg",
borderRadius: "$$formSubmittedRadius",
borderWidth: "$$formSubmittedBorderWidth",
borderStyle: "$$formSubmittedBorderStyle",
borderColor: "$$formSubmittedBorderColor"
},
".profile_form": {},
".generated_form": {
marginBottom: "5px"
},
".controls": {
marginTop: "15px",
marginBottom: "10px"
}
};
a(t, "meshim_widget_components_chatWindow_preChatOfflineForm_PostSubmit");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = {
parseURL: function(t) {
var e = window.document.createElement("a");
e.href = t;
return {
hostname: e.hostname,
pathname: e.pathname,
protocol: e.protocol,
search: e.search,
hash: e.hash,
port: e.port
};
}
};
t.exports = i;
e(i, "meshim_common_URLUtils");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
this.navStack = null;
s || (s = {});
s.tagName || (s.tagName = "select");
r.call(this, t, e, i, o, s);
this.addClass("select");
this.onDestruction(function() {
this.navStack = null;
});
}
var o = i(1), r = i(43);
n.prototype = o(r.prototype);
n.prototype.getSelectedIndex = function() {
return this.dom.selectedIndex;
};
n.prototype.setSelectedIndex = function(t) {
this.dom.selectedIndex = t;
return this;
};
n.prototype.getOptions = function() {
for (var t = [], e = this.dom.options.length, i = 0; i < e; i++) t.push(this.dom.options[i].jx_wrapper);
return t;
};
n.prototype.setValue = function(t) {
this.setSelectedIndex(-1);
return r.prototype.setValue.call(this, t);
};
n.prototype.reset = function() {
for (var t = this.getOptions(), e = 0, i = t.length; e < i; e++) if (t[e].getSelected()) {
this.setSelectedIndex(e);
return this;
}
this.setSelectedIndex(0);
return this;
};
t.exports = n;
e(n, "jx_ui_Select");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, a, _) {
if (!(this instanceof n)) return new n(t, e, i, a, _);
_ || (_ = {});
_.tagName = null;
_.position = "relative";
if (o.bugs.noBoxSizing) {
l.call(this, t, e, i, a, _);
this.addClass("select_ie6");
} else {
this.container = new d(t, null, null, null, _);
this.container.addClass("select_container");
this.container.removeAttribute("tabindex");
var u = this;
this.container.destroy = function() {
u.destroy();
};
this.container.empty = function() {
u.empty();
};
this.button = new d(this.container, null, null, null, {});
this.button.addClass("select_button");
this.placeholder = new d(this.container, null, null, null, {});
this.placeholder.addClass("select_placeholder");
_.tagName = "select";
_.opacity = "0";
_.position = "absolute";
_.width = "100%";
_.height = "100%";
_.top = "0";
_.left = "0";
_.margin = _.marginLeft = _.marginRight = _.marginTop = _.marginBottom = "0";
o.engineIE < 9 && (_.filter = "alpha(opacity=0)");
l.call(this, this.container, e, i, a, _);
o.isIE ? r(function() {
u.dom && u.updatePlaceholder();
}) : this.updatePlaceholder();
this.on("change", function() {
this.updatePlaceholder();
});
this.on("keyup", function() {
this.updatePlaceholder();
});
this.on("focus", function() {
this.container.addClass("focus");
});
this.on("blur", function() {
this.container.removeClass("focus");
});
this._updatePlaceholder = function() {
u.updatePlaceholder();
};
s && s.onLanguage && s.onLanguage(this._updatePlaceholder);
}
}
var o = i(8), r = i(16), s = i(7), a = i(1), _ = i(12), l = i(332), d = i(6);
n.prototype = a(l.prototype);
n.prototype.appendChild = function(t) {
var e = !this.getOptions().length;
l.prototype.appendChild.call(this, t);
if (e && this.getOptions().length) {
this.setSelectedIndex(0);
var i = this;
r(function() {
i.dom && i.updatePlaceholder();
});
}
};
n.prototype.getPrefix = function() {
return this.prefix;
};
n.prototype.setPrefix = function(t) {
this.prefix = t;
return this;
};
n.prototype.getPrefixSeparator = function() {
return this.prefixSeparator;
};
n.prototype.setPrefixSeparator = function(t) {
this.prefixSeparator = t;
return this;
};
n.prototype.updatePlaceholder = function() {
if (!this.container || !this.dom) return this;
var t = this.getSelectedIndex();
if (t < 0 && this.prompt) {
this.placeholder.setText(this.prompt);
return this;
}
var e = this.getOptions()[t], i = "";
this.prefix && (i += this.prefix + (this.prefixSeparator || "" === this.prefixSeparator ? this.prefixSeparator : " "));
e && (i += "function" == typeof e.getPlaceholder && e.getPlaceholder() || "function" == typeof e.getLabel && e.getLabel() || e.getText());
this.placeholder.setText(i);
return this;
};
n.prototype.getPrompt = function() {
return this.prompt;
};
n.prototype.setPrompt = function(t) {
this.prompt = t;
this.setSelectedIndex(-1);
return this;
};
n.prototype.setValue = function(t) {
l.prototype.setValue.call(this, t);
this.updatePlaceholder();
return this;
};
n.prototype.setSelectedIndex = function(t) {
l.prototype.setSelectedIndex.call(this, t);
this.updatePlaceholder();
return this;
};
n.prototype.show = function() {
this.container ? this.container.show() : l.prototype.show.call(this);
};
n.prototype.hide = function() {
this.container ? this.container.hide() : l.prototype.hide.call(this);
};
n.prototype.setDisabled = function(t) {
this.container && (_(t) ? this.container.addClass("disabled") : this.container.removeClass("disabled"));
return l.prototype.setDisabled.call(this, t);
};
n.prototype.createLabel = function(t) {
this.container && (this.parentNode = this.container.parentNode);
l.prototype.createLabel.call(this, t);
this.container && (this.parentNode = this.container);
};
n.prototype.createErrorMessage = function(t) {
this.container && (this.parentNode = this.container.parentNode);
l.prototype.createErrorMessage.call(this, t);
this.container && (this.parentNode = this.container);
};
n.prototype.destroy = function() {
s && s.unLanguage && s.unLanguage(this._updatePlaceholder);
l.prototype.destroy.call(this);
if (this.container) {
l.prototype.empty.call(this.container);
this.container.empty = null;
l.prototype.destroy.call(this.container);
this.container = this.button = this.placeholder = null;
}
};
n.prototype.empty = function() {
l.prototype.empty.call(this);
this.updatePlaceholder();
};
n.prototype.reset = function() {
if (!this.container) return l.prototype.reset.call(this);
for (var t = this.getOptions(), e = 0, i = t.length; e < i; e++) if (t[e].getSelected()) {
this.setSelectedIndex(e);
this.updatePlaceholder();
return this;
}
this.setSelectedIndex(-1);
this.updatePlaceholder();
return this;
};
t.exports = n;
e(n, "jx_ui_PrettySelect");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, _) {
if (!(this instanceof n)) return new n(t, e, i, r, _);
_ || (_ = {});
_.tagName || (_.tagName = "input");
_.type || (_.type = "radio");
s.call(this, t, e, i, r, _);
if (o.bugs.noBoxSizing) {
this.parentNode.removeChild(t instanceof a ? this : this.dom);
this.dom = t.doc.createElement("<" + _.tagName + ' type="' + _.type + '" name="' + (_.name || "") + '"/>');
this.dom.jx_wrapper = this;
this.style = this.dom.style;
this.parentNode.appendChild(t instanceof a ? this : this.dom);
this.setStyle(i);
this.setAttributes(_);
this.addClass(this.__jx__fqname);
}
}
var o = i(8), r = i(1), s = i(102), a = i(23);
n.prototype = r(s.prototype);
t.exports = n;
e(n, "jx_ui_RadioButton");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, a) {
if (!(this instanceof n)) return new n(t, e, i, o, a);
this.optionConstructor = r;
this.inputSuffix = "radio";
s.call(this, t, e, i, o, a);
}
var o = i(1), r = i(334), s = i(157);
n.prototype = o(s.prototype);
n.prototype.setValue = function(t) {
for (var e = 0, i = this.options.length; e < i; e++) if (this.options[e].getValue() == t) {
this.options[e].setChecked(!0);
(this.options[e].container || this.options[e]).setDisplay("");
this.labels[e].setDisplay("").addClass("label_checked");
} else {
this.options[e].setChecked(!1);
if (this.readOnly) {
(this.options[e].container || this.options[e]).setDisplay("none");
this.labels[e].setDisplay("none").removeClass("label_checked");
}
}
};
n.prototype.getValue = function() {
for (var t = 0, e = this.options.length; t < e; t++) if (this.options[t].getChecked()) return this.options[t].getValue();
};
t.exports = n;
e(n, "meshim_widget_widgets_form_RadioButtonMultiple");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
this.optionConstructor = s;
this.inputSuffix = "checkbox";
a.call(this, t, e, i, o, r);
}
var o = i(1), r = i(22), s = i(102), a = i(157);
n.prototype = o(a.prototype);
n.prototype.setValue = function(t) {
for (var e, i, n = r(t) ? t : t.split(","), o = 0, s = this.options.length; o < s; o++) {
e = !1;
for (var a = 0, _ = n.length; a < _; a++) if (this.options[o].getValue() == n[a]) {
this.options[o].setChecked(!0);
(this.options[o].container || this.options[o]).setDisplay("");
this.labels[o].setDisplay("").addClass("label_checked");
e = !0;
break;
}
if (e) i = o; else {
(this.options[o].container || this.options[o]).removeClass("last-checked");
this.labels[o].removeClass("last-checked");
this.options[o].setChecked(!1);
if (this.readOnly) {
(this.options[o].container || this.options[o]).setDisplay("none");
this.labels[o].setDisplay("none").removeClass("label_checked");
}
}
}
if (void 0 != i) {
(this.options[i].container || this.options[i]).addClass("last-checked");
this.labels[i].addClass("last-checked");
}
};
n.prototype.getValue = function() {
for (var t = [], e = 0, i = this.options.length; e < i; e++) this.options[e].getChecked() && t.push(this.options[e].getValue());
return t.join(",");
};
t.exports = n;
e(n, "meshim_widget_widgets_form_CheckBoxMultiple");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
s.call(this, t, e, i, o, r);
}
var o = i(1), r = i(12), s = i(6);
n.prototype = o(s.prototype);
n.prototype.validate = function(t) {
var e = s.prototype.validate.call(this, t);
e ? this.removeClass("invalid") : this.addClass("invalid");
return e;
};
n.prototype.setRequired = function(t) {
t = r(t);
this.label_required && this.label_required.setText(t ? " *" : "");
this.input && this.input.setRequired(t);
!t && this.input && this.input.hideErrorMessage();
return this;
};
n.prototype.destroy = function() {
this.label = this.label_name = this.label_required = this.input = this.error_message = null;
return s.prototype.destroy.call(this);
};
t.exports = n;
e(n, "meshim_widget_widgets_form_Field");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "input");
s.type || (s.type = "email");
r.call(this, t, e, i, o, s);
}
var o = i(1), r = i(83);
n.prototype = o(r.prototype);
var s = r.prototype.getValue;
n.prototype.getValue = function() {
return (s.call(this) || "").trim();
};
t.exports = n;
e(n, "jx_ui_EmailField");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(80);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image4", "", [], {
id: "image4",
addClass: "avatar avatar4"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image3", "", [], {
id: "image3",
addClass: "avatar avatar3"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image2", "", [], {
id: "image2",
addClass: "avatar avatar2"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image1", "", [], {
id: "image1",
addClass: "avatar avatar1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
class: "gravatarFour"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
var h = n.get(s + "__image4"), p = n.get(s + "__image3"), f = n.get(s + "__image2"), g = n.get(s + "__image1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t(t) {
if (t instanceof Array) {
g.setSrc(t[0]);
f.setSrc(t[1]);
p.setSrc(t[2]);
h.setSrc(t[3]);
}
}
function e(t) {
if (t instanceof Array) {
g.setDataNode(t[0]);
f.setDataNode(t[1]);
p.setDataNode(t[2]);
h.setDataNode(t[3]);
}
}
c.setImages = t;
c.setNodes = e;
}();
for (var $ in m) m.hasOwnProperty($) && (c[$] = m[$]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden",
lineHeight: "0px",
".avatar": {
position: "absolute",
width: "50%",
height: "50%"
},
".avatar1": {
top: 0,
left: 0,
borderTop: "0px none",
borderLeft: "0px none"
},
".avatar2": {
top: 0,
right: 0,
borderTop: "0px none",
borderRight: "0px none",
borderLeft: "0px none"
},
".avatar3": {
bottom: 0,
left: 0,
borderTop: "0px none",
borderBottom: "0px none",
borderLeft: "0px none"
},
".avatar4": {
bottom: 0,
right: 0,
border: "0px none"
}
}
};
s(t, "meshim_widget_widgets_gravatar_GravatarFour");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(80);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image3", "", [], {
id: "image3",
addClass: "avatar avatar3"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image2", "", [], {
id: "image2",
addClass: "avatar avatar2"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image1", "", [], {
id: "image1",
addClass: "avatar avatar1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
class: "gravatarThree"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
var h = n.get(s + "__image3"), p = n.get(s + "__image2"), f = n.get(s + "__image1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
if (t instanceof Array) {
f.setSrc(t[0]);
p.setSrc(t[1]);
h.setSrc(t[2]);
}
}
function e(t) {
if (t instanceof Array) {
f.setDataNode(t[0]);
p.setDataNode(t[1]);
h.setDataNode(t[2]);
}
}
c.setImages = t;
c.setNodes = e;
}();
for (var m in g) g.hasOwnProperty(m) && (c[m] = g[m]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden",
".avatar1": {
position: "absolute",
top: "0",
left: "-33%",
width: "100%",
height: "100%",
borderLeft: "0px none",
borderTop: "0px none",
borderBottom: "0px none"
},
".avatar2": {
position: "absolute",
top: "0",
right: "-8%",
width: "50%",
height: "50%",
borderLeft: "0px none",
borderTop: "0px none",
borderRight: "0px none"
},
".avatar3": {
position: "absolute",
bottom: "0",
right: "-8%",
width: "50%",
height: "50%",
border: "0px none"
}
}
};
s(t, "meshim_widget_widgets_gravatar_GravatarThree");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(80);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image2", "", [], {
id: "image2",
addClass: "avatar avatar2"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image1", "", [], {
id: "image1",
addClass: "avatar avatar1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
class: "gravatarTwo"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
var h = n.get(s + "__image2"), p = n.get(s + "__image1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
if (t instanceof Array) {
p.setSrc(t[0]);
h.setSrc(t[1]);
}
}
function e(t) {
if (t instanceof Array) {
p.setDataNode(t[0]);
h.setDataNode(t[1]);
}
}
c.setImages = t;
c.setNodes = e;
}();
for (var g in f) f.hasOwnProperty(g) && (c[g] = f[g]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden",
".avatar": {
width: "100%",
height: "100%"
},
".avatar1": {
position: "absolute",
top: "0",
left: "-33%",
borderTop: "0px none",
borderLeft: "0px none",
borderBottom: "0px none"
},
".avatar2": {
position: "absolute",
top: "0",
left: "33%",
border: "0px none"
}
}
};
s(t, "meshim_widget_widgets_gravatar_GravatarTwo");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(13);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(80);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image", "", [], {
id: "image",
addClass: "avatar"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
class: "gravatarOne"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
var h = n.get(s + "__image");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
t instanceof Array && h.setSrc(t[0]);
}
function e(t) {
t instanceof Array && h.setDataNode(t[0]);
}
c.setImages = t;
c.setNodes = e;
}();
for (var f in p) p.hasOwnProperty(f) && (c[f] = p[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
".avatar": {
width: "100%",
height: "100%",
border: "0px none"
}
}
};
s(t, "meshim_widget_widgets_gravatar_GravatarOne");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_Label = i(19);
e.__$$__jx_ui_html_a = i(44);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(209), h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ c ], {
addClass: "label"
} ], [ e.__$$__jx_ui_html_a, "messenger_icon", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
title: "Messenger",
icon: "messenger_round"
} ] ], {
id: "messenger_icon",
target: "_blank",
addClass: "channel_icon channel_messenger",
useDisplay: "true"
} ], [ e.__$$__jx_ui_html_a, "twitter_icon", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
title: "Twitter",
icon: "twitter_round"
} ] ], {
id: "twitter_icon",
target: "_blank",
addClass: "channel_icon channel_twitter",
useDisplay: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
var g = n.get(a + "__messenger_icon"), m = n.get(a + "__twitter_icon");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t(t) {
t = o(t);
if (t) {
this.setDisplay("inline-block");
this.fire("show");
} else {
this.setDisplay("none");
this.fire("hide");
}
}
function e(t, e, i, n) {
if (i && n && r(n)) {
t.setVisible(!0);
t.setHref(e + n);
} else {
i ? d.getValue() && t.setVisible(!0) : t.setVisible(!1);
t.removeAttribute("href");
}
}
function n(t) {
d.getValue() || this.getAttribute("href") && this.isVisible() && u.write({
offline_deflection_channel$string: t
});
}
var o = i(12), r = i(21), s = i(40), a = i(5), _ = {
MESSENGER: "https://m.me/",
TWITTER: "https://twitter.com/messages/compose?recipient_id="
}, l = a.root.$("livechat").$("ui"), d = l.$("mockup$bool"), u = l.$("chat_window").$("pre_chat_offline_form");
f.displayMessenger = s.bind(e, f, g, _.MESSENGER);
f.displayTwitter = s.bind(e, f, m, _.TWITTER);
!function() {
g.on("click", s.bind(n, g, "facebook"));
m.on("click", s.bind(n, m, "twitter"));
g.setVisible = s.bind(t, g);
m.setVisible = s.bind(t, m);
}();
}();
for (var b in $) $.hasOwnProperty(b) && (f[b] = $[b]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
paddingBottom: "15px",
"&.mobile": {
".channel_icon": {
fontSize: "38px",
paddingRight: "10px"
}
},
".label": {
display: "block",
marginBottom: "5px",
fontWeight: "bold"
},
".channel_icon": {
display: "inline-block",
fontSize: "25px",
paddingRight: "5px",
marginTop: "4px",
cursor: "pointer",
textDecoration: "none",
outline: "none"
},
".channel_messenger": {
color: "#0084FF"
},
".channel_twitter": {
color: "#1DA1F2"
}
}
};
a(t, "meshim_widget_widgets_form_OfflineDeflection");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_IconFont = i(15);
e.__$$__jx_ui_html_span = i(31);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(210), h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
title: "History",
icon: "clock_stroke",
addClass: "clock"
} ], [ e.__$$__jx_ui_html_span, "", "", [ c ], {
addClass: "history_link"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), f = p || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
var t = i(9), e = i(5), n = e.root.$("livechat").$("ui").$("chat_window").$("pre_chat_offline_form").$("stack_index$int");
!function() {
t.rtl(f);
t.mobile(f);
t.windowSize(f);
f.on("click", function() {
n.update(3);
});
}();
}();
for (var m in g) g.hasOwnProperty(m) && (f[m] = g[m]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
textAlign: "center",
paddingBottom: "10px",
"border-bottom": "1px solid $$borderColor",
cursor: "pointer",
color: "$$historyClockColor",
marginBottom: "15px",
"&.desktop": {
"&.medium, &.large": {
marginBottom: "5px",
top: "-10px"
}
},
"&:hover": {
color: "$$historyClockHoverColor"
}
},
".clock": {
position: "relative",
display: "inline",
top: "4px",
fontSize: "16px",
paddingRight: "8px"
},
"&.rtl .clock": {
paddingRight: 0,
paddingLeft: "8px"
},
".history_link": {
color: "$$historyClockHoverColor",
textDecoration: "underline"
}
};
a(t, "meshim_widget_components_chatWindow_preChatOfflineForm_PastHistoryNotice");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(29);
e.__$$__meshim_widget_widgets_ConnAwareForm = i(106);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(30);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_PastHistoryNotice = i(344);
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_html_div = i(13);
e.__$$__jx_ui_html_a = i(44);
e.__$$__meshim_widget_widgets_form_OfflineDeflection = i(343);
e.__$$__meshim_widget_widgets_form_Profile = i(105);
e.__$$__meshim_widget_widgets_Form = i(103);
e.__$$__meshim_widget_widgets_Bottom = i(32);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(76);
e.__$$__meshim_widget_widgets_Button = i(17);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(143), h = o(144), p = o(145), f = o(146), g = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareForm, "form_container", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_PastHistoryNotice, "history_notice", "", [], {
id: "history_notice",
useDisplay: "true"
} ], [ e.__$$__jx_ui_Widget, "pre_chat_message", "", [], {
id: "pre_chat_message",
addClass: "greetings_message"
} ], [ e.__$$__jx_ui_Widget, "offline_message", "", [ [ e.__$$__jx_ui_Widget, "offline_message_msg", "", [], {
id: "offline_message_msg"
} ], [ e.__$$__jx_ui_html_div, "upgrade_link", "", [ [ e.__$$__jx_ui_html_a, "", "", [ h ], {
href: c,
target: "_blank",
addClass: "link"
} ] ], {
id: "upgrade_link",
addClass: "upgrade_link",
visible: "none"
} ] ], {
id: "offline_message",
addClass: "greetings_message"
} ], [ e.__$$__jx_ui_Widget, "offline_message_disabled", "", [], {
id: "offline_message_disabled",
addClass: "greetings_message"
} ], [ e.__$$__jx_ui_Widget, "offline_operating_hours_link", "", [ p ], {
id: "offline_operating_hours_link",
addClass: "link",
visible: "none"
} ], [ e.__$$__meshim_widget_widgets_form_OfflineDeflection, "offline_deflection", "", [], {
id: "offline_deflection"
} ], [ e.__$$__meshim_widget_widgets_form_Profile, "profile", "", [], {
id: "profile"
} ], [ e.__$$__meshim_widget_widgets_Form, "form", "", [], {
id: "form"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "submit", "", [], {
id: "submit",
addClass: "submit"
} ], [ e.__$$__meshim_widget_widgets_Button, "back", "", [ f ], {
id: "back",
addClass: "back secondary"
} ] ], {} ] ], {
id: "form_container",
addClass: "form_container",
noValidate: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:preChatOfflineForm": "meshim.widget.components.chatWindow.preChatOfflineForm",
absPaddingBottom: "bottomHeight"
} ], m = g[0].call(this, s, a, null, n.mangleIDs(a, g[3]), g[4]), $ = m || this;
n.set(a, $);
var b = n.get(a + "__form_container"), w = n.get(a + "__history_notice"), x = n.get(a + "__pre_chat_message"), v = n.get(a + "__offline_message"), y = n.get(a + "__offline_message_msg"), j = n.get(a + "__upgrade_link"), C = n.get(a + "__offline_message_disabled"), S = n.get(a + "__offline_operating_hours_link"), A = n.get(a + "__offline_deflection"), k = n.get(a + "__profile"), I = n.get(a + "__form"), T = n.get(a + "__submit"), B = n.get(a + "__back");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var N = function() {
var t, e, n, o, r, s, a, _, l, d, u, c, h = i(12), p = i(5), f = i(50), g = i(25), m = i(11), N = i(152), D = i(151), E = i(150), O = i(148), P = {
OFFLINE_DISABLED: "OFFLINE_DISABLED",
OFFLINE: "OFFLINE",
ONLINE: "ONLINE",
ONLINE_OFFLINE: "ONLINE_OFFLINE",
ONLINE_CHATTING: "ONLINE_CHATTING"
}, L = {
DEPARTMENT: "department_id",
MESSAGE: "message"
}, W = [ D, E, O ], R = p.root.$("livechat"), F = R.$("ui").$("chat_window").$("chat_panel").$("textarea").$("value$string"), M = R.$("ui").$("chat_window").$("pre_chat_form"), V = M.$("form_populate$bool"), H = M.$("submitted$bool"), z = R.$("settings").$("forms").$("pre_chat_form"), U = z.$("form"), q = z.$("form_submitted"), G = z.$("profile_required$bool"), Y = z.$("message$string"), X = U.$("2").$("required$bool"), K = U.$("3").$("required$bool"), Z = q.$("2").$("value$string"), Q = q.$("3").$("value$string"), J = U.$("4").$("required$bool"), tt = R.$("settings").$("forms").$("offline_form"), et = tt.$("form_submitted"), it = tt.$("message$string"), nt = tt.$("message_disabled$string"), ot = tt.$("form"), rt = ot.$("2"), st = ot.$("3").$("required$bool"), at = tt.$("channels"), _t = R.$("ui").$("chat_window").$("offline_form"), lt = _t.$("form_populate$bool"), dt = _t.$("upgrade_link_display$bool"), ut = R.$("ui").$("chat_window").$("pre_chat_offline_form"), ct = ut.$("stack_index$int"), ht = R.$("departments"), pt = R.$("account").$("status$string"), ft = R.$("channel").$("chatting$bool"), gt = R.$("ui").$("chat_window").$("main_stack_name$string"), mt = R.$("settings").$("chat_button").$("hide_when_offline$bool"), $t = R.$("settings").$("operating_hours").$("enabled$bool"), bt = R.$("settings").$("operating_hours").$("display_notice$bool"), wt = R.$("settings").$("login").$("restrict_profile$bool"), xt = R.$("profile").$("department_id$int"), vt = R.$("profile").$("has_history$bool"), yt = R.$("ui").$("popout$bool").getValue();
!function() {
function i(t, e, i) {
t.empty();
t.setText("");
"object" == typeof e && e.onTranslate ? t.setText(e) : N.appendTo(t, e, i);
}
function D() {
var t = U.$("2").$("name$string");
t.getValue() !== L.DEPARTMENT && t.update(L.DEPARTMENT);
}
function E() {
var t = I.getField(L.DEPARTMENT);
if (t) {
var e, i = t.input.getValue();
e = !i || "offline" != ht.$(i).$("status$string").getValue();
S.setDisplay(R() ? "" : "none");
if (e != u) {
u = e;
O();
}
}
}
function O() {
var i = z(), s = I.getField(L.DEPARTMENT), a = I.getField(L.MESSAGE);
if (i == P.OFFLINE_DISABLED) {
C.setDisplay(o ? "" : "none");
k.setDisplay("none");
I.setDisplay("none");
A.setDisplay("none");
} else {
C.setDisplay("none");
k.setDisplay("");
I.setDisplay("");
}
switch (i) {
case P.OFFLINE_DISABLED:
x.setDisplay("none");
v.setDisplay("none");
A.setDisplay("none");
T.setValue(m.pre_chat_offline_form.button_disabled);
tt(!1);
break;

case P.OFFLINE:
x.setDisplay("none");
v.setDisplay(n || R() ? "" : "none");
k.setRequired(!0);
k.setPhoneRequired(r);
if (s) {
s.setRequired(!1);
s.input && s.input.setHide(!0);
}
a && a.setRequired(!0);
T.setValue(m.pre_chat_offline_form.button_message);
tt(!1);
var l = at.getValue();
if (l) {
var d = l.facebook, u = l.twitter;
if ([ d, u ].some(function(t) {
return t.allowed$bool;
})) {
A.setDisplay("");
A.displayMessenger(d.allowed$bool, d.page_id$string);
A.displayTwitter(u.allowed$bool, u.page_id$string);
} else A.setDisplay("none");
}
break;

case P.ONLINE:
x.setDisplay(t ? "" : "none");
v.setDisplay("none");
A.setDisplay("none");
k.setRequired(G.getValue());
k.setPhoneRequired(e);
if (s) {
s.setRequired(X.getValue());
s.input && s.input.setHide(!1);
}
a && a.setRequired(K.getValue());
T.setValue(m.pre_chat_offline_form.button_chat);
tt(!1);
break;

case P.ONLINE_OFFLINE:
x.setDisplay(t ? "" : "none");
v.setDisplay("none");
A.setDisplay("none");
k.setRequired(!0);
k.setPhoneRequired(r);
if (s) {
s.setRequired(X.getValue());
s.input && s.input.setHide(!1);
}
a && a.setRequired(!0);
T.setValue(m.pre_chat_offline_form.button_message);
tt(!1);
break;

case P.ONLINE_CHATTING:
x.setDisplay("none");
v.setDisplay(n || R() ? "" : "none");
A.setDisplay("none");
k.setRequired(!0);
k.setPhoneRequired(r);
if (s) {
s.setRequired(!1);
s.input && s.input.setHide(!0);
}
a && a.setRequired(!0);
T.setValue(m.pre_chat_offline_form.button_message);
tt(!0);
}
S.setDisplay(R() ? "" : "none");
if (_) {
k.setDisplay("none");
k.setRequired(!1);
}
}
function R() {
var t, e = z();
if ((e == P.OFFLINE || e == P.ONLINE_CHATTING) && s && a) return !0;
var i = ht.getValue();
for (var n in i) if (i.hasOwnProperty(n)) {
t = i[n].status$string && "offline" === i[n].status$string;
if (s && a && t) return !0;
}
return !1;
}
function M() {
rt.update({
value_user$string: I.getInput("message").getValue()
});
}
function z() {
return "banned" == l ? P.OFFLINE_DISABLED : "offline" == l ? c ? P.OFFLINE_DISABLED : P.OFFLINE : d ? P.ONLINE_CHATTING : u ? P.ONLINE : P.ONLINE_OFFLINE;
}
function tt(t) {
if (t) {
T.removeClass("wide");
B.setDisplay("");
} else {
T.addClass("wide");
B.setDisplay("none");
}
}
$.autobind(U, "value", D);
I.setDataNode(U);
$.autobind(vt, "value", function(t) {
w.setVisible(t);
});
$.autobind(Y, "value", function(e) {
t = e;
i(x, m.get(Y), W);
O();
});
$.autobind(it, "value", function(t) {
n = t;
i(y, m.get(it), W);
O();
});
$.autobind(nt, "value", function(t) {
o = t;
i(C, m.get(nt), W);
O();
});
$.autobind(V, "value", function(t) {
h(t) && I.populateSelf();
});
$.autobind(lt, "value", function(t) {
h(t) && I.populateSelf();
});
$.autobind(ft, "value", function(t) {
if (t != d) {
d = t;
O();
}
});
$.autobind(pt, "value", function(t) {
if (t != l) {
l = t;
O();
}
});
$.autobind(mt, "value", function(t) {
if (t != c) {
c = t;
O();
}
});
$.autobind(J, "value", function(t) {
e = t;
O();
});
$.autobind(st, "value", function(t) {
r = t;
O();
});
$.autobind(at, "value", O);
$.autobind($t, "value", function(t) {
s = t;
O();
});
$.autobind(bt, "value", function(t) {
a = t;
O();
});
$.autobind(wt, "value", function(t) {
_ = t;
O();
});
$.autobind(ht, "value", E);
I.on("change", E);
$.autobind(xt, "value", E);
b.onConnectedAndSubmit(function(t) {
t.preventDefault();
var e, i, n = z();
if (n == P.OFFLINE_DISABLED || $.validate(!0)) {
var o, r = I.getField(L.DEPARTMENT);
r.input && (o = ht.$(r.input.getValue()).getValue("name$string") || "");
k.submit();
switch (n) {
case P.OFFLINE_DISABLED:
yt ? window.close() : g.userHideWindow();
break;

case P.OFFLINE:
f.trackEvent("Offline Message Sent");
I.submit(et, k, !1, "is_offline_form");
M();
ct.update(1);
break;

case P.ONLINE:
f.trackEvent("Chat Request Form Submitted", o);
I.submit(q, k);
F.update("");
i = {
msg: Q.getValue() || ""
};
if (r.input && !r.input.isHidden()) {
e = parseInt(Z.getValue(), 10) || 0;
xt.parentNode.write({
department_id$int: e
});
i.department = e;
}
"" !== i.msg.trim() && p.livechat.sendChatMsg(i);
H.update(!0);
gt.update("chat_panel");
break;

case P.ONLINE_OFFLINE:
f.trackEvent("Offline Message Sent", o);
I.submit(et, k);
M();
ct.update(1);
break;

case P.ONLINE_CHATTING:
I.submit(et, k);
gt.update("chat_panel");
}
I.reset();
E();
}
});
B.on("click", function() {
gt.update("chat_panel");
});
S.on("click", function(t) {
t && t.target && t.target.jx_wrapper && t.target.jx_wrapper.hasClass("link") && ct.update(2);
});
$.autobind(dt, "value", function(t) {
j.setDisplay(t ? "" : "none");
});
I.on("input", function(t) {
"message" === t.target.name && F.update(t.target.value.trim());
});
}();
}();
for (var D in N) N.hasOwnProperty(D) && ($[D] = N[D]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(l);
$.setAttributes && $.setAttributes(u);
"function" == typeof $.addChildren ? $.addChildren(d) : n.addChildren($, d);
if ($ !== this) {
$.__jx__constructor = _;
$.__jx__native = !1;
}
return $;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".greetings_message": {
whiteSpace: "pre-wrap",
wordWrap: "break-word"
},
".greetings_message, .generated_form": {
marginBottom: "$$marginL"
},
".form_container": {
"width, height": "100%"
},
".upgrade_link": {
marginTop: "5px"
},
".link": {
cursor: "pointer",
textDecoration: "underline",
marginBottom: "15px"
}
};
a(t, "meshim_widget_components_chatWindow_preChatOfflineForm_Form");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
"xmlns:ui": "jx.ui"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
display: "inline-block",
"width, height": "6px",
background: "$$toastColor",
borderRadius: "50%",
opacity: "0.5",
transition: "all 0.3s",
"&.dark": {
opacity: "1"
}
}
};
s(t, "meshim_widget_widgets_toast_disconnected_image_Dot");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
l[_] && l[_].removeClass(o);
_++;
_ >= r + a && (_ = s);
l[_] && l[_].addClass(o);
}
for (var e, n = i(346), o = "dark", r = 3, s = -1, a = 2, _ = s, l = [], d = 0; d < r; d++) {
l[d] = new n(h);
l[d].addClass("dot");
}
h.play = function() {
if (e) return h;
t();
e = window.setInterval(t, 100);
return h;
};
h.stop = function() {
if (!e) return h;
window.clearInterval(e);
e = null;
return h;
};
h.reset = function() {
l[_] && l[_].removeClass(o);
_ = s;
return h;
};
h.reset();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
".dot": {
marginRight: "3px"
}
}
};
s(t, "meshim_widget_widgets_toast_disconnected_Image");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Toast = i(107);
e.__$$__meshim_widget_widgets_toast_disconnected_Image = i(347);
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Toast, "", "", [ [ e.__$$__meshim_widget_widgets_toast_disconnected_Image, "img", "", [], {
id: "img",
addClass: "reconnecting_toast_image"
} ], [ e.__$$__jx_ui_Widget, "message", "", [], {
id: "message",
addClass: "reconnecting_toast_text"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__img"), f = n.get(s + "__message");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
var t, e = i(7), n = e(211), o = i(5), r = i(11), s = o.root.$("connection").$("message$string"), a = r.connection_status, _ = {
idle_disconnect: 1
};
!function() {
h.autobind(s, "value", function(e) {
t = e;
if (e) {
if (_[e]) {
p.stop().reset();
h.addClass("toast_disconnected");
} else {
p.play();
h.removeClass("toast_disconnected");
}
f.setDisplay("fast_init" == e ? "none" : "");
f.setText(a[e] || n);
h.setDisplay("");
} else {
h.setDisplay("none");
p.stop().reset();
}
});
h.on("click", function(e) {
e.preventDefault();
_[t] && o.livechat.reconnect();
});
}();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Toast.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Toast;
t.__jx__jcss = {
"**self": {
textAlign: "center",
"&.toast_disconnected": {
cursor: "pointer"
}
},
".reconnecting_toast_text": {
display: "block",
marginLeft: "34px",
fontWeight: "bold",
textAlign: "left"
},
".reconnecting_toast_image": {
float: "left",
marginTop: "-2px"
}
};
s(t, "meshim_widget_widgets_toast_Disconnected");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
icon: "warning_sign"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
i(9).rtl(h);
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_IconFont.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_IconFont;
t.__jx__jcss = {
"**self": {
position: "absolute",
top: "12px",
right: "10px",
color: "red",
fontSize: "$$fontSizeXL"
},
"&.rtl": {
right: "auto",
left: "10px"
}
};
s(t, "meshim_widget_widgets_input_InvalidIcon");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_TextField = i(84);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_TextField, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "unstyled"
} ], u = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), c = u || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var p in h) h.hasOwnProperty(p) && (c[p] = h[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_TextField.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_TextField;
t.__jx__jcss = {
"**self": {
color: "$$badgeInputColor",
padding: "$$badgeInputPadding",
borderWidth: "$$badgeInputBorderWidth",
borderStyle: "$$badgeInputBorderStyle",
borderColor: "$$badgeInputBorderColor",
borderRadius: "$$badgeInputRadius",
boxShadow: "$$badgeInputShadow"
},
"&:focus, &.focus": {
color: "$$badgeInputFocusColor",
background: "$$badgeInputFocusBg",
borderColor: "$$badgeInputFocusBorderColor",
boxShadow: "$$badgeInputFocusShadow"
},
"&::placeholder": {
color: "$$badgeInputPlaceholderColor"
}
};
s(t, "meshim_widget_components_chatWindow_newChatForm_TextField");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "zendesk_chat_2016"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
selectable: "false"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
var t = n.getValue();
h.setVisibility(t ? "hidden" : "");
}
var e = i(5), n = e.root.$("livechat").$("settings").$("branding").$("hide_branding$bool");
!function() {
h.autobind(n, "value", t);
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
display: "inline-block",
lineHeight: 1.3,
letterSpacing: "1px",
fontSize: "9px",
"&:focus": {
outline: "none"
}
}
};
s(t, "meshim_widget_components_chatWindow_newChatForm_Branding");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_html_table = i(54);
e.__$$__jx_ui_html_tbody = i(53);
e.__$$__jx_ui_html_tr = i(52);
e.__$$__jx_ui_html_td = i(51);
e.__$$__jx_ui_html_img = i(108);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "tr", "", [ [ e.__$$__jx_ui_html_td, "text_cell", "", [ [ e.__$$__jx_ui_Widget, "text", "", [], {
id: "text"
} ] ], {
id: "text_cell",
class: "text_cell"
} ], [ e.__$$__jx_ui_html_td, "image_cell", "", [ [ e.__$$__jx_ui_html_img, "image", "", [], {
id: "image",
addClass: "banner_image"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "icon", "", [], {
id: "icon",
icon: "badge_default",
addClass: "banner_icon"
} ] ], {
id: "image_cell",
class: "image_cell"
} ] ], {
id: "tr"
} ] ], {} ] ], {
class: "banner_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:newChatForm": "meshim.widget.components.chatWindow.newChatForm"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__tr"), f = n.get(s + "__text_cell"), g = n.get(s + "__text"), m = n.get(s + "__image_cell"), $ = n.get(s + "__image"), b = n.get(s + "__icon");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
var t = d.replaceFileHostname(o || n || ""), i = !!t;
a.isFF && !t && (t = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAAALAAAAAABAAEAAAI=");
switch (e) {
case "image_right":
$.setSrc(t);
p.insertBefore(f, m);
break;

case "image_left":
$.setSrc(t);
p.insertBefore(m, f);
break;

case "image_only":
$.setSrc(t);
break;

default:
h.setStyle("background", "");
}
if (i) {
$.setDisplay("");
b.setDisplay("none");
} else {
$.setDisplay("none");
b.setDisplay("");
}
}
var e, n, o, r, s, a = i(8), _ = i(16), l = i(5), d = i(10), u = i(11), c = l.root, w = c.$("livechat").$("settings").$("banner"), x = w.$("layout$string"), v = w.$("text$string"), y = w.$("image_path$string"), j = w.$("image_data$string"), C = c.$("livechat").$("ui").$("mockup$bool").getValue(), S = c.$("livechat").$("ui").$("chat_window").$("display$bool"), A = c.$("livechat").$("ui").$("chat_window").$("main_stack_name$string"), k = 100;
!function() {
function i() {
if (r && "new_chat_form" == s && a.bugs.noBoxSizing) {
$.setWidth("");
$.setHeight("");
_(c, h, !0);
}
}
function c() {
var t = parseInt($.getWidth() || $.dom.width, 10), e = parseInt($.getHeight() || $.dom.height, 10);
if (t && e) {
var i, n, o, r = t > e;
i = r ? t : e;
n = r ? e : t;
if (i > k) {
o = i / k;
i /= o;
n /= o;
$.setWidth(r ? i : n);
$.setHeight(r ? n : i);
}
h.dom.className = h.dom.className;
}
}
if (a.bugs.noBoxSizing) {
$.dom.onload = i;
h.autobind(S, "value", function(t) {
r = t;
i();
});
h.autobind(A, "value", function(t) {
s = t;
i();
});
}
h.autobind(x, "value", function(i) {
e && h.removeClass(e);
e = i;
l.livechat.getLimit() || "image_only" != e || (e = "image_right");
e && h.addClass(e);
t();
});
h.autobind(v, "value", function() {
g.setText(u.get(v));
});
h.autobind(y, "value", function(e) {
n = e;
t();
});
C && d.supportsDataURI(function(e) {
e && h.autobind(j, "value", function(e) {
o = e;
t();
});
});
}();
}();
for (var x in w) w.hasOwnProperty(x) && (h[x] = w[x]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
".banner_table": {
width: "100%",
height: "100%",
tableLayout: "fixed",
direction: "ltr",
color: "$$badgeContentColor"
},
".text_cell, .image_cell": {
verticalAlign: "middle"
},
".text_cell": {
wordWrap: "break-word",
whiteSpace: "pre-wrap"
},
".image_cell": {
width: "100px",
textAlign: "center"
},
".banner_image": {
verticalAlign: "top",
border: "none"
},
".banner_icon": {
display: "inline-block",
fontSize: "90px",
marginTop: "10px"
}
},
"&.image_right": {
".text_cell": {
paddingRight: "3px"
},
".image_cell": {},
".banner_image": {
maxWidth: "100px",
maxHeight: "100px"
}
},
"&.image_left": {
".text_cell": {
paddingLeft: "3px"
},
".image_cell": {},
".banner_image": {
maxWidth: "100px",
maxHeight: "100px"
}
},
"&.image_only": {
".text_cell": {
display: "none"
},
".image_cell": {},
".banner_image": {
maxWidth: "100%"
}
},
"&.text_only": {
".text_cell": {
fontSize: "26px",
textAlign: "center",
width: "100%"
},
".image_cell": {
display: "none"
}
}
};
s(t, "meshim_widget_components_chatWindow_newChatForm_Banner");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ActionBar = i(167);
e.__$$__jx_ui_html_span = i(31);
e.__$$__jx_ui_Button = i(71);
e.__$$__meshim_widget_widgets_CookieLawNotice = i(165);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = o(204), h = o(205), p = [ e.__$$__meshim_widget_widgets_ActionBar, "", "", [ [ e.__$$__jx_ui_html_span, "default_actions", "", [ [ e.__$$__jx_ui_Button, "settings", "backgroundColor:transparent;", [ c ], {
id: "settings",
addClass: "settings",
tabIndex: "",
type: "button",
style: "backgroundColor:transparent;"
} ], [ e.__$$__jx_ui_html_span, "divider", "", [], {
id: "divider",
class: "divider",
text: "â€¢"
} ], [ e.__$$__jx_ui_Button, "profile", "backgroundColor:transparent;", [ [ e.__$$__jx_ui_html_span, "logged_out", "", [ h ], {
id: "logged_out"
} ], [ e.__$$__jx_ui_html_span, "name", "", [], {
id: "name",
class: "logged_in_name"
} ] ], {
id: "profile",
addClass: "profile",
tabIndex: "",
type: "button",
style: "backgroundColor:transparent;"
} ] ], {
id: "default_actions",
display: "none"
} ], [ e.__$$__meshim_widget_widgets_CookieLawNotice, "cookie_law", "", [], {
id: "cookie_law",
addClass: "cookie_law"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), g = f || this;
n.set(a, g);
var m = n.get(a + "__default_actions"), $ = n.get(a + "__settings"), b = n.get(a + "__divider"), w = n.get(a + "__profile"), x = n.get(a + "__logged_out"), v = n.get(a + "__name"), y = n.get(a + "__cookie_law");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var j = function() {
function t() {
T.getValue() ? B.getValue() ? n() : e() : n();
}
function e() {
if ("hidden" == I) {
y.setDisplay("");
m.setDisplay("none");
I = "visible";
}
}
function n() {
if ("visible" == I) {
y.setDisplay("none");
m.setDisplay("");
I = "hidden";
}
}
function o(t) {
var e = !!t;
w.setDisabled(e);
e && "profile_menu" == a && N.update("");
}
var r, s, a, _, l, d = i(7), u = d(206), c = d(207), h = i(33), p = i(5), f = i(10), j = i(34), C = {
settings_menu: $,
profile_menu: w
}, S = p.root.$("livechat"), A = S.$("profile").$("logged_in$bool"), k = S.$("profile").$("display_name$string"), I = "visible", T = S.$("settings").$("cookie_law").$("enabled$bool"), B = S.$("profile").$("allow_cookies$bool"), N = p.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string"), D = S.$("settings").$("theme").$("chat_window").$("size$string"), E = S.$$("ui.popout$bool"), O = S.$("settings").$("login").$("restrict_profile$bool"), P = p.root.$("connection").$("message$string");
!function() {
function e() {
if (r) {
s && !f.isDefaultName(s) ? v.setText(u.replace("<name>", s)) : v.setText(c);
x.setDisplay("none");
v.setDisplay("");
} else {
x.setDisplay("");
v.setDisplay("none");
}
}
g.autobind(O, "value", function(t) {
l = t;
b.setDisplay(t ? "none" : "");
w.setDisplay(t ? "none" : "");
});
g.autobind(N, "value", function(t) {
a = t;
for (var e in C) C.hasOwnProperty(e) && C[e][(e == t ? "add" : "remove") + "Class"]("active");
});
g.autobind(A, "value", function(t) {
r = t;
e();
});
g.autobind(k, "value", function(t) {
s = t || "";
e();
});
d && d.onLanguage && d.onLanguage(e);
$.on("click", function(t) {
t.stopPropagation();
j.isIEMobile ? N.update("settings_menu") : N.update("settings_menu" == a ? "" : "settings_menu");
E.getValue() && h.resetUnreadCount();
});
w.on("click", function(t) {
t.stopPropagation();
l || N.update("profile_menu" == a ? "" : "profile_menu");
});
g.autobind(D, "value", function(t) {
_ && g.removeClass("action_bar_" + _);
_ = t;
_ && g.addClass("action_bar_" + _);
});
g.autobind(T, "value", t);
g.autobind(B, "value", t);
g.autobind(P, "value", o);
}();
}();
for (var C in j) j.hasOwnProperty(C) && (g[C] = j[C]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ActionBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ActionBar;
t.__jx__jcss = {
button: {
position: "relative",
verticalAlign: "top",
textAlign: "left",
"background, backgroundColor": "transparent",
border: "none",
lineHeight: "$$actionBarHeight"
},
"button, button *": {
cursor: "pointer",
"&.disabled": {
cursor: "default",
color: "$$actionBarColorDiabled"
}
},
".logged_in_name": {
display: "inline-block",
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis",
"*height": "1em",
"*verticalAlign": "top"
},
".divider": {
display: "inline-block",
fontSize: "0.8em",
lineHeight: "$$actionBarHeight",
margin: "0 5px",
cursor: "default",
opacity: .5
},
"button, .divider": {
color: "$$actionBarColor"
},
"button:hover": {
color: "$$actionBarHoverColor"
},
".cookie_law": {
position: "relative"
},
"&.action_bar_small  .logged_in_name": {
"maxWidth, *width": "120px"
},
"&.action_bar_medium .logged_in_name": {
"maxWidth, *width": "160px"
},
"&.action_bar_large  .logged_in_name": {
"maxWidth, *width": "180px"
}
};
a(t, "meshim_widget_widgets_actionBar_DefaultActionBar");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(7), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
function t(n) {
if (this.jx_wrapper) return t.call(this.jx_wrapper, n);
n.stopPropagation();
this.dom.addEventListener("touchend", i, !1);
this.doc.body.addEventListener("touchmove", e, !1);
this.startX = n.touches[0].clientX;
this.startY = n.touches[0].clientY;
}
function e(t) {
if (this.jx_wrapper) return e.call(this.jx_wrapper, t);
(Math.abs(t.touches[0].clientX - this.startX) > 10 || Math.abs(t.touches[0].clientY - this.startY) > 10) && n.call(this);
}
function i(t) {
if (this.jx_wrapper) return i.call(this.jx_wrapper, t);
t.stopPropagation();
n.call(this);
this.nativeHandlers.click(t);
"touchend" != t.type || this.allowGhostClick || s(this.startX, this.startY);
}
function n() {
if (this.jx_wrapper) return n.call(this.jx_wrapper);
this.dom.removeEventListener("touchend", i, !1);
this.doc.body.removeEventListener("touchmove", e, !1);
}
function s(t, e) {
u.push(t, e);
window.setTimeout(a, 2500);
}
function a() {
u.splice(0, 2);
}
function _(t) {
for (var e = 0; e < u.length; e += 2) {
var i = u[e], n = u[e + 1];
if (Math.abs(t.clientX - i) < 25 && Math.abs(t.clientY - n) < 25) {
t.stopPropagation();
t.preventDefault();
}
}
}
if (!o) {
o = !0;
var l = r.prototype.on, d = r.prototype.un;
r.prototype.on = function(e) {
if (!("click" != e || this.allCallbacks.click && this.allCallbacks.click.length)) {
this.dom.addEventListener("touchstart", t, !1);
this.dom.addEventListener("click", i, !1);
}
return l.apply(this, arguments);
};
r.prototype.un = function(e) {
var n = d.apply(this, arguments);
if (!("click" != e || this.allCallbacks.click && this.allCallbacks.click.length)) {
this.dom.removeEventListener("touchstart", t, !1);
this.dom.removeEventListener("click", i, !1);
}
return n;
};
o = !0;
var u = [];
window.document.addEventListener("click", _, !0);
}
}
var o, r = i(23);
t.exports = n;
e(n, "meshim_widget_utils_HackFastButtons");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
if (!s) {
s = !0;
o && o.onLanguage && (r.prototype.setTitle = function(t) {
function e() {
n.setTitle(n._l10nTitleValue);
}
function i() {
o.unLanguage(e);
}
var n = this;
if (o && o.onLanguage && !this._l10nTitleBound) {
this._l10nTitleBound = !0;
o.onLanguage(e);
this.onDestruction(i);
}
this._l10nTitleValue = t;
this.dom.title = this._l10nTitleValue || "";
return this;
});
}
}
var o = i(7), r = i(23), s = !1;
t.exports = n;
e(n, "meshim_widget_utils_HackTitleLocalization");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
t.bindValue(o);
}
function o(t) {
if ("registered" == t || "reattached" == t || "cookie_law" == t) {
a = !0;
s._flush();
} else a = !1;
}
function r() {
if (a && this.queue.length) {
_(s.send) && s.send({
__type: "instrumentation",
metrics: this.queue
});
this.queue = [];
}
}
var s, a, _ = i(20), l = i(39), d = i(175), u = i(57);
!function() {
s = new d();
s.send = u.send;
s.bindToConnectionStatus = n;
s.flush = l.debounce(r, 1e3);
s._flush = r;
}();
t.exports = s;
e(s, "meshim_widget_controllers_liveChatAPI_APIUsageController");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
e.__$$__jx_ui_html_table = i(54);
e.__$$__jx_ui_html_tbody = i(53);
e.__$$__jx_ui_html_tr = i(52);
e.__$$__jx_ui_html_td = i(51);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__jx_ui_Widget, "bar", "", [], {
id: "bar",
addClass: "bar"
} ] ], {
addClass: "td"
} ] ], {} ] ], {} ] ], {
addClass: "table"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "overlay"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
selectable: "false"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var p = n.get(s + "__bar");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(12), e = i(2);
h.setColor = function(t) {
p.setBackground(t);
};
h.setBarWidth = function(t) {
p.setWidth(t);
};
h.setBarHeight = function(t) {
p.setHeight(t);
};
h.setMobile = function(i) {
if (t(i)) {
var n = parseInt(e.getVariable("titleBarHeight"), 10), o = n / 2.75, r = o / 8;
h.setWidth(n);
h.setHeight(n);
p.setWidth(o);
p.setHeight(r);
}
};
}();
for (var g in f) f.hasOwnProperty(g) && (h[g] = f[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
width: "22px",
height: "22px",
position: "relative",
overflow: "hidden"
},
".bar": {
width: "10px",
height: "2px",
margin: "auto",
backgroundColor: [ "$$titleBarColor", "$$titleBarIconsColor" ]
},
".table": {
width: "100%",
height: "100%",
tableLayout: "fixed",
borderSpacing: "0",
borderCollapse: "collapse"
},
".td": {
verticalAlign: "middle"
},
".overlay": {
position: "absolute",
"top, left": "0",
"width, height": "100%",
backgroundColor: "transparent"
}
};
s(t, "meshim_widget_widgets_titleBar_MinimizeButton");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
var t = i.scrollHeight, e = i.offsetHeight, n = i.scrollTop;
t - e != 1 && (t - e - n == 0 ? i.scrollTop = t - e - a : 0 === n && (i.scrollTop = a));
}
var i = t.dom, n = o.debounce(e, s);
t.on("scroll", n);
n();
setTimeout(n, r);
}
var o = i(39), r = 1e3, s = 50, a = 1;
t.exports = n;
e(n, "meshim_widget_utils_HackOverflowScrolling");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_branding_Link = i(169);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_branding_Link, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "zendesk_2016"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
e();
h.setTitle(o.branding.title_zendesk);
}
function e() {
h.setHref("https://www.zendesk.com/embeddables/?utm_source=webwidgetchat&utm_medium=poweredbyzendesk&utm_campaign=image");
}
var n = i(7), o = i(11);
!function() {
if (n && n.onLanguage) {
n.onLanguage(t);
h.onDestruction(function() {
n.unLanguage(t);
});
}
t();
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_branding_Link.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_branding_Link;
t.__jx__jcss = {
"**self": {
fontSize: "10px"
},
"&.mobile": {
fontSize: "11px"
},
".meshim_widget_widgets_IconFont": {
lineHeight: "inherit",
paddingTop: "2px",
paddingRight: "1px"
}
};
s(t, "meshim_widget_widgets_branding_ZendeskGolion");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_branding_Link = i(169);
e.__$$__meshim_widget_widgets_IconFont = i(15);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_branding_Link, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "zendesk_2016"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
n(), h.setTitle(a.branding.title_golion);
}
function e(t) {
var e;
switch (t) {
case "es":
e = "es";
break;

case "pt_BR":
e = "com.br";
break;

case "fr_CA":
case "fr":
e = "fr";
break;

case "de":
e = "de";
break;

case "it":
e = "it";
break;

case "nl":
e = "nl";
break;

case "ja":
e = "co.jp";
break;

case "ru":
e = "com.ru";
break;

case "ko":
e = "kr";
break;

case "zh_TW":
e = "tw";
break;

default:
e = "com";
}
return "https://www.zendesk." + e + "/chat/live-chat-widget/";
}
function n() {
var t = l.getValue() ? r().get("hostname") : window.location.hostname, i = {
utm_campaign: "poweredbyzendesk",
utm_medium: "chatwidget",
utm_term: d.getValue(),
utm_source: t,
iref: d.getValue(),
lang: o.language
}, n = r.buildQuery(i);
h.setHref([ e(o.language), "?", n ].join(""));
}
var o = i(7), r = i(35), s = (i(18), i(5)), a = i(11), _ = s.root.$("livechat"), l = _.$("ui").$("popout$bool"), d = _.$("account").$("key$string");
!function() {
h.autobind(l, "value", n);
h.autobind(d, "value", n);
if (o && o.onLanguage) {
o.onLanguage(t);
h.onDestruction(function() {
o.unLanguage(t);
});
}
t();
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_branding_Link.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_branding_Link;
t.__jx__jcss = {
"**self": {
fontSize: "10px"
},
"&.mobile": {
fontSize: "11px"
},
".meshim_widget_widgets_IconFont": {
lineHeight: "inherit",
paddingTop: "2px",
paddingRight: "1px"
}
};
s(t, "meshim_widget_widgets_branding_ZopimGolion");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ViewStack = i(55);
e.__$$__meshim_widget_components_chatWindow_NewChatForm = i(170);
e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm = i(163);
e.__$$__meshim_widget_components_chatWindow_ChatPanel = i(299);
e.__$$__meshim_widget_components_chatWindow_PostChatForm = i(131);
e.__$$__meshim_widget_components_chatWindow_CookieForm = i(129);
e.__$$__meshim_widget_components_chatWindow_CardForm = i(128);
e.__$$__meshim_widget_components_chatWindow_AgentList = i(127);
e.__$$__meshim_widget_components_chatWindow_AboutPanel = i(126);
e.__$$__meshim_widget_components_chatWindow_RatingPanel = i(125);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ViewStack, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_NewChatForm, "", "", [], {
name: "new_chat_form",
addClass: "stack_child_mini     stack_child_no_menu force_dock"
} ], [ e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm, "", "", [], {
name: "pre_chat_offline_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_ChatPanel, "", "", [], {
name: "chat_panel",
addClass: "stack_child_standard"
} ], [ e.__$$__meshim_widget_components_chatWindow_PostChatForm, "", "", [], {
name: "post_chat_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_CookieForm, "", "", [], {
name: "cookie_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_CardForm, "", "", [], {
name: "card_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_AgentList, "", "", [], {
name: "agent_list",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_AboutPanel, "", "", [], {
name: "about_panel",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_RatingPanel, "", "", [], {
name: "rating_panel",
addClass: "stack_child_standard stack_child_no_menu"
} ] ], {
"xmlns:ui": "jx.ui",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "main_stack",
onChildHide: "-1"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(9);
t.popout(h);
t.mobile(h);
t.windowPosition(h, "ms_");
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ViewStack.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ViewStack;
t.__jx__jcss = {
"**self": {
overflow: "hidden",
boxShadow: "$$windowShadow"
},
"&.ms_br, &.ms_bm, &.ms_bl": {
"borderTopLeftRadius, borderTopRightRadius": "$$windowRadius"
},
"&.ms_tr, &.ms_tm, &.ms_tl": {
"borderBottomLeftRadius, borderBottomRightRadius": "$$windowRadius"
},
"&.popout": {
margin: "0 auto",
maxWidth: "650px",
minWidth: "240px",
minHeight: "335px",
height: "100%",
borderRadius: "0"
},
"&.mobile": {
"minWidth, minHeight": "0",
maxWidth: "none"
}
};
s(t, "meshim_widget_components_chatWindow_MainStack");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_FloatingFrame = i(73);
t.exports = function() {
function t(s, a, l, d, u) {
if (!(this instanceof t)) return new t(s, a, l, d, u);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_FloatingFrame, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), p = h || this;
n.set(a, p);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
return new u(t, null, null, null, {
position: "absolute",
top: 0,
left: 0,
width: "100%",
height: "100%",
margin: 0,
padding: 0
});
}
function e(e, i) {
if (!e || !e.button) {
p.raise(e, 2);
C || (C = t(document.body));
C.style.zIndex = p.style.zIndex - 1;
C.style.display = "block";
k = !1;
e || (e = h.event);
if (e) {
x = e.clientX;
v = e.clientY;
y = p.getWidth();
j = p.getHeight();
$ = i;
S = document.onmousemove;
A = document.onmouseup;
f.onmousemove = n;
document.onmousemove = o;
f.onmouseup = document.onmouseup = s;
f.onselectstart = function() {
return !1;
};
e.preventDefault && e.preventDefault();
p.fire("jx:activate");
return !1;
}
}
}
function n(t) {
if (!k) {
p.fire("startdrag");
k = !0;
}
t || (t = window.event);
t || (t = h.event);
if (!(d.isIE < 9) || t.button) {
b = t.clientX - x;
w = t.clientY - v;
if ($) {
p.setWidth(a(y + b));
p.setHeight(a(j + w));
} else {
p.move(b, w);
p.fire("jx:drag");
r.tick();
}
return !1;
}
s();
}
function o(t) {
if (!k) {
p.fire("startdrag");
k = !0;
}
t || (t = window.event);
t || (t = h.event);
if (!(d.isIE < 9) || t.button) {
b = t.clientX - x;
w = t.clientY - v;
if (d.isIE) {
b -= _(document.body.currentStyle.borderLeftWidth);
w -= _(document.body.currentStyle.borderTopWidth);
}
if ($) {
p.setWidth(a(y + b - p.dom.offsetLeft));
p.setHeight(a(j + w - p.dom.offsetTop));
} else p.moveTo(b, w);
p.fire("jx:drag");
return !1;
}
s();
}
function s() {
C.style.display = "none";
document.onmousemove = S;
document.onmouseup = A;
f.onmousemove = null;
f.onmouseup = null;
f.onselectstart = null;
if (k) {
p.fire("enddrag");
k = !1;
}
}
function a(t) {
return Math.max(Math.min(t, window.innerWidth), c) || c;
}
function _(t) {
return parseInt(t, 10) || 0;
}
var l, d = i(8), u = i(6), c = 50, h = p.iwin, f = p.idoc;
p.on("mousedown", p.raise);
f.onmousedown = e;
var g, m = 0;
p.setResizableNode = function(t) {
t && t.dom && (t = t.dom);
g && (g.onmousedown = null);
if (t) {
t.onmousedown = function(t) {
if (0 === m) {
m = 1;
setTimeout(function() {
m = 0;
}, 300);
e(t, !0);
} else p.fitToContents(p, 1e3, 1e3);
};
g = t;
}
};
p.getDraggableNode = function() {
return l;
};
p.setDraggableNode = function(t) {
t && t.dom && (t = t.dom);
if (t) {
p.setBounds([ 0, 0, 0, 0 ]);
l = t;
f.onmousedown = null;
t.onmousedown = e;
t.style.cursor = "move";
} else {
if (l) {
l.onmousedown = null;
l.style.cursor = "default";
l = null;
}
f.onmousedown = null;
}
};
var $, b, w, x, v, y, j, C, S, A, k = !1;
}();
for (var g in f) f.hasOwnProperty(g) && (p[g] = f[g]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {};
a(t, "jx_ui_DraggableFrame");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(16), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, _, x) {
function v() {
et.currentChild && et.currentChild.hasClass("stack_child_no_menu") && F.update("");
}
function y() {
if (!U && et) {
var t = et.currentChild;
if (t) {
Q.wrapper.setPosition("absolute");
switch (T) {
case "bl":
case "bm":
case "br":
Q.wrapper.setTop("").setBottom(0);
break;

case "tl":
case "tm":
case "tr":
Q.wrapper.setTop(0).setBottom("");
}
switch (T) {
case "bl":
case "tl":
Q.wrapper.setLeft(0).setRight("");
break;

case "br":
case "tr":
Q.wrapper.setLeft("").setRight(0);
}
var e, i;
if (t.hasClass("stack_child_mini")) {
e = o.getVariable("windowMiniWidth");
i = o.getVariable("windowMiniHeight");
} else {
e = o.getVariable("window" + Z.slice(0, 1).toUpperCase() + Z.slice(1) + "Width");
i = o.getVariable("window" + Z.slice(0, 1).toUpperCase() + Z.slice(1) + "Height");
}
e = parseInt(e, 10);
i = parseInt(i, 10);
Q.setWidth(e + "px");
Q.setHeight(i + "px");
}
}
}
function j() {
if (!U) if (Y) Q.setTop("").setRight("").setBottom("").setLeft(""); else switch (T) {
case "br":
Q.setTop("").setLeft("").setMarginLeft("").setRight(X).setBottom(K);
break;

case "bm":
Q.setTop("").setRight("").setBottom(K).setLeft("50%").setMarginLeft(-Math.round(Q.__width / 2) + "px");
break;

case "bl":
Q.setTop("").setRight("").setMarginLeft("").setBottom(K).setLeft(X);
break;

case "tr":
Q.setBottom("").setLeft("").setMarginLeft("").setTop(K).setRight(X);
break;

case "tm":
Q.setRight("").setBottom("").setTop(K).setLeft("50%").setMarginLeft(-Math.round(Q.__width / 2) + "px");
break;

case "tl":
Q.setRight("").setBottom("").setMarginLeft("").setTop(K).setLeft(X);
}
}
function C() {
et.currentChild && (et.currentChild.hasClass("force_dock") ? j() : et.currentChild.getDraggableNode && Q.setDraggableNode(et.currentChild.getDraggableNode()));
}
function S() {
for (var t = o.getVariable("windowShadow"), e = 0, i = $.cssom_prefixes.length; e < i; e++) Q.setStyle($.cssom_prefixes[e] + ($.cssom_prefixes[e] ? "B" : "b") + "oxShadow", t || "none");
}
function A() {
var t, e = o.getVariable("windowRadius"), i = [ "TopLeft", "TopRight", "BottomRight", "BottomLeft" ];
switch (T) {
case "br":
case "bm":
case "bl":
t = [ !0, !0, !1, !1 ];
break;

case "tr":
t = [ !1, !1, !0, !0 ];
break;

default:
t = [];
}
for (var n = 0, r = $.cssom_prefixes.length; n < r; n++) for (var s = 0, a = i.length; s < a; s++) Q.setStyle($.cssom_prefixes[n] + ($.cssom_prefixes[n] ? "B" : "b") + "order" + i[s] + "Radius", t[s] && e ? e : "none");
}
function k(t) {
for (var e = t.target.jx_wrapper; e && e.parentNode && e.parentNode != Q; ) {
if (e == tt) return;
e = e.parentNode;
}
F.update("");
}
function I() {
(Q.wrapper || Q.defaultPlacement)[a.rtl() ? "addClass" : "removeClass"]("rtl");
if (!Q.wrapper) {
Q.dom.dir = a.rtl() ? "rtl" : "ltr";
Q.dom.lang = a.language;
}
}
if (!(this instanceof n)) return new n(t, e, i, _, x);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
var T, B = h.root.$("livechat"), N = B.$("ui"), D = N.$("chat_window"), E = N.$("theme_loaded$bool"), O = B.$("settings").$("theme").$("chat_window").$("h_offset$int"), P = B.$("settings").$("theme").$("chat_window").$("v_offset$int"), L = D.$("display$bool"), W = D.$("force_resize$bool"), R = D.$("main_stack_name$string"), F = D.$("menu_stack_name$string"), M = N.$("popout$bool"), V = N.$("mobile$bool"), H = N.$("tablet$bool"), z = N.$("mockup$bool"), U = M.getValue(), q = V.getValue(), G = H.getValue(), Y = z.getValue(), X = 10, K = 0, Z = "", Q = this;
x || (x = {});
if (U) {
u.call(this, t, e, i, _, x);
b.popout(this);
this.defaultPlacement = new d(this, null, null, null, {
className: "meshim_widget_Widget"
});
this.on = u.prototype.on;
this.fire = u.prototype.fire;
q && this.defaultPlacement.setPosition("relative");
} else {
l.call(this, t, e, i, _, x);
Q.content.addClass("meshim_widget_Widget");
Q.wrapper.addClass(Q.__jx__fqname);
Q.ibody.style.overflow = "hidden";
w.bind(this.iwin);
var J = Q.setDraggableNode;
Q.setDraggableNode = function(t) {
J.call(this, t);
if (t) {
r.isFF && (t.style.cursor = "-moz-grab");
r.isWebKit && (t.style.cursor = "-webkit-grab");
}
};
Q.on("startdrag", function() {
var t = Q.getDraggableNode();
if (t) {
r.isFF && (t.style.cursor = "-moz-grabbing");
r.isWebKit && (t.style.cursor = "-webkit-grabbing");
}
});
Q.on("enddrag", function() {
var t = Q.getDraggableNode();
if (t) {
r.isFF && (t.style.cursor = "-moz-grab");
r.isWebKit && (t.style.cursor = "-webkit-grab");
}
});
this.autobind(O, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
X = t;
j();
}
});
this.autobind(P, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
K = t;
j();
}
});
b.windowPosition(Q.wrapper, null, function(t) {
T = t;
j();
A();
});
b.windowSize(Q.wrapper, null, function(t) {
Z = t;
y();
});
}
if (!U) {
this.dom.className = "zopim";
this.iframe.setStyle("display", "block");
}
Y && Q.setPosition("relative");
q && this.addClass("mobile");
G && this.addClass("tablet");
(Q.content || Q).on("click", function() {
c.resetUnreadCount();
});
new g(this.defaultPlacement);
new m(this.defaultPlacement);
var tt = this.menu_stack = new f(this.defaultPlacement);
this.autobind(F, "value", function(t) {
tt.setName(t);
});
var et = this.main_stack = new p(this.defaultPlacement);
this.autobind(R, "value", function() {
et.setName(R.getValue());
});
et.on("indexChange", v);
v();
this.autobind(L, "value", function(t) {
Q.setVisible(t ? "block" : "none");
y();
});
Q.autobind(W, "value", y);
Q.autobind(E, "value", y);
et.on("indexChange", y);
Q.on("show", y);
if (Y) Q.setDraggableNode(); else if (!U) {
Q.setDraggableNode();
this.main_stack.on("indexChange", C);
C();
}
Q.autobind(E, "value", function(t) {
if (t) {
S();
A();
}
});
(Q.content || Q).allowGhostClick = !0;
(Q.content || Q).on("click", k);
U && s.window.on("click", k);
Q.onDestruction(function() {
(Q.content || Q).un("click", k);
U && s.window.un("click", k);
});
if (a && a.onLanguage) {
a.onLanguage(I);
I();
}
}
var o = i(2), r = i(8), s = i(14), a = i(7), _ = i(1), l = i(362), d = i(88), u = i(6), c = i(33), h = i(5), p = i(361), f = i(124), g = i(61), m = i(47), $ = i(10), b = i(9), w = i(74);
n.prototype = _(l.prototype);
n.__jx__jcss = {
"**self": {
position: "relative",
color: "$$windowColor"
},
"&.br, &.bm, &.bl": {},
"&.tr, &.tm, &.tl": {},
"&.popout": {
padding: 0,
margin: "0 auto",
"width, height": "100%",
maxWidth: "650px",
background: "$$windowBg"
},
"&.mobile": {
maxWidth: "none",
width: "100%",
height: "auto",
minHeight: "100%"
},
"&.tablet": {
maxWidth: "$$mobileMaxWidthL"
}
};
t.exports = n;
e(n, "meshim_widget_components_ChatWindow");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = {
popout: {
name$string: "simple"
},
mobile: {
name$string: "simple",
chat_button: {
display_status$bool: !1
}
},
mobile_overlay: {
chat_window: {
use_banner$bool: !1,
title_bar: {
hide_popout$bool: !0
}
}
}
};
t.exports = i;
e(i, "meshim_widget_themes_Overrides");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(109), o = {};
o._super = n;
o.defaults = {
colors: {
primary$string: "#85ae19"
},
branding: {
type$string: "icon_font_zendesk"
}
};
o.overrides = {
chat_window: {
use_banner$bool: !1,
title_bar: {
hide_popout$bool: !0
}
},
branding: {
type$string: "icon_font_zendesk"
}
};
o.generate = function() {
return {
standard: {
fontFamily: '"Helvetica Neue", Helvetica, Arial, sans-serif',
fontSizeXS: "11px",
fontSizeS: "12px",
fontSize: "13px",
buttonPadding: "5px"
},
mobile: {}
};
};
t.exports = o;
e(o, "meshim_widget_themes_Zendesk");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(110), o = i(111), r = i(109), s = {};
s._super = r;
s.defaults = {
colors: {
bubble$string: "#e59341"
}
};
s.overrides = {
chat_button: {
display_status$bool: !0,
use_bubble$bool: !0
},
chat_window: {
profile_card: {
display_avatar$bool: !1
},
use_banner$bool: !1
},
message_type$string: "basic"
};
s.generate = function(t) {
var e = o.clampLuminance(n.hex(t.colors.primary$string), 0, .8), i = o.clampLuminance(n.hex(t.colors.bubble$string), 0, .8), r = o.clampLuminance(o.darken(e, .2, "rgb"), 0, .8), s = o.clampLuminance(o.lighten(e, .2, "rgb"), 0, .8), a = "gradient top " + o.rgbaColor(e, 1) + " " + o.rgbaColor(r, 1), _ = o.clampLuminance(o.darken(i, .2, "rgb"), 0, .8), l = o.clampLuminance(o.lighten(i, .2, "rgb"), 0, .8), d = o.getColorAtContrast(e, o.white, 5), u = o.getContrastColor(i, o.white, o.black, .7, "bright", 3, 5);
e = e.hex();
i = i.hex();
r = r.hex();
s = s.hex();
_ = _.hex();
l = l.hex();
d = d.hex();
u = u.hex();
return {
standard: {
contentBg: "#f7f7f7",
actionBarBg: "#f7f7f7",
actionBarBorderColor: "#DDD",
titleBarBg: a,
titleBarBorderWidth: 0,
inputRadius: 0,
inputBorderColor: "#DDD",
inputFocusBorderColor: l,
inputFocusShadow: "none",
chatTextAreaInputFocusShadow: "none",
windowContentBorderColor: "#DDD",
menuRadius: 0,
menuBorderColor: "#DDD",
buttonColor: u,
buttonBg: i,
buttonHoverBg: i,
buttonBorderColor: _,
buttonSecBg: l,
buttonSecHoverBg: l,
buttonSecBorderColor: i,
formSubmittedBg: o.white,
formSubmittedRadius: "0px",
formSubmittedBorderWidth: "1px",
chatLogVisitorNameColor: "#666",
chatLogAgentNameColor: _,
chatLogSystemMsgBg: o.white,
chatLogSystemMsgBorderWidth: "1px",
chatLogSystemMsgPadding: "5px 0",
chatLogSystemMsgBorderColor: "#DDD",
chatLogDateDividerLineHeight: "initial",
chatLogDateDividerFontWeight: "bold",
chatLogDateDividerColor: "#999",
chatLogFileProgressBg: a,
chatButtonMinWidth: "190px",
chatButtonBg: a,
chatButtonShadow: "inset 0 1px 0px 0 rgba(0,0,0,0.4), inset 0 2px 0px 0 rgba(255,255,255,0.7)",
chatButtonFontWeight: "normal",
chatButtonStatusFontWeight: "bold",
chatButtonPaddingFavicon: 0,
chatButtonBorderWidth: 0,
faviconBg: "transparent",
faviconColor: i.toUpperCase() == e.toUpperCase() ? "$$chatButtonColor" : i,
faviconDotsColor: e,
chatBubbleTitleColor: u,
chatBubbleTextColor: u,
chatBubbleCloseColor: u,
chatBubbleCloseShadow: "0px -1px 0px #999",
chatBubbleCloseHoverBg: "rgba(0, 0, 0, 0.1)"
},
mobile: {
actionBarColor: d,
actionBarBg: "transparent",
actionBarBorderColor: "transparent"
}
};
};
t.exports = s;
e(s, "meshim_widget_themes_Classic");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(173), o = i(109), r = i(366), s = i(365), a = {
base: n,
simple: o,
classic: r,
zendesk: s
};
t.exports = a;
e(a, "meshim_widget_Themes");
return a;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, n, o, r, _, l) {
this.CLUSTERS = t.CLUSTERS;
this.WEIGHTS = t.WEIGHTS;
this.NEAR_MAP = t.NEAR_MAP;
this.FALLBACKS = t.FALLBACKS;
this.geo_code = i || "geo";
this.default_domain = e;
this.supported_domains = (l || []).concat(this.default_domain);
var d = s.map(this.supported_domains, a.escape);
this.supported_proxy_re = new RegExp("^[a-z][a-z0-9_-]*(\\.[a-z][a-z0-9_-]*)*(" + d.join("|") + ")(:\\d+)?$", "i");
this.cluster_hosts = [];
this.host_list = [];
this.host_index = 0;
this.last_connected_host = o && this.getValidatedHost(o);
this.override_proxy = n && this.getValidatedHost(n);
this.num_primary_hosts = r || 0;
this.num_fallback_hosts = _ || 0;
this.init();
}
var o = i(28), r = i(24), s = i(179), a = i(59), _ = /^([a-z][a-z0-9_-]*)(:\d+)?$/i, l = n.prototype;
l.init = function() {
var t = this.geo_code && this.geo_code in this.NEAR_MAP ? this.NEAR_MAP[this.geo_code] : this.NEAR_MAP.DEFAULT;
if (!t) throw "Error: no cluster code found for " + this.geo_code;
if (t in this.CLUSTERS) this._growClusterHosts(t, this.num_primary_hosts); else if (!this.override_proxy && !this.last_connected_host) throw "Error: " + t + " has no cluster definition";
if (t in this.FALLBACKS) for (var e = this.FALLBACKS[t], i = 0, n = e.length; i < n; i++) {
var o = e[i];
o in this.CLUSTERS && this._growClusterHosts(o, this.num_fallback_hosts);
}
this._makeHostList();
};
l._verifyHostInGeoConfig = function(t) {
var e = this;
return Object.keys(e.CLUSTERS).some(function(i) {
return e.CLUSTERS[i].some(function(i) {
return t === e.getValidatedHost(i);
});
});
};
l._growClusterHosts = function(t, e) {
var i = this.CLUSTERS[t], n = this.getWeights(t);
s.shuffle(i, n);
e && (i = i.slice(0, e));
this.cluster_hosts = this.cluster_hosts.concat(i);
};
l.getWeights = function(t) {
if (!(t in this.CLUSTERS)) return [];
var e, i = this.CLUSTERS[t], n = i.length, r = new Array(n);
if (this.WEIGHTS && this.WEIGHTS[t]) {
var s = this.WEIGHTS[t];
for (e = n; e--; ) {
var a = i[e];
r[e] = o(s[a]) ? s[a] : 1;
}
} else for (e = n; e--; ) r[e] = 1;
return r;
};
l.getValidatedHost = function(t, e) {
if (t) {
if (!e && _.test(t)) return this._expandSimpleHost(t);
if (this.supported_proxy_re.test(t)) return t;
}
return !1;
};
l._expandSimpleHost = function(t) {
return t.replace(_, "$1" + this.default_domain + "$2");
};
l._makeHostList = function() {
var t = this, e = s.map(this.cluster_hosts, function(e) {
return t._expandSimpleHost(e);
}), i = [];
this.override_proxy && i.push(this.override_proxy);
this.last_connected_host && this.last_connected_host !== this.override_proxy && this._verifyHostInGeoConfig(this.last_connected_host) && i.push(this.last_connected_host);
e = e.filter(function(t) {
return -1 === r(t, i);
});
this.host_list = i.concat(e);
this.host_index = 0;
};
l.getHostList = function() {
return this.host_list;
};
l.getNextHost = function() {
return this.host_index >= this.host_list.length ? "" : this.host_list[this.host_index++];
};
l.hasNext = function() {
return this.host_index < this.host_list.length;
};
l.rewind = function() {
this.host_index = 0;
};
l.pushHostToLast = function(t) {
var e, i = this.getValidatedHost(t), n = r(i, this.host_list);
if (-1 !== n) {
e = this.host_list.splice(n, 1);
this.host_list = this.host_list.concat(e);
}
};
t.exports = n;
e(n, "meshim_common_GeoAccess");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
window.__$__GEO = t;
}
function o(t, e) {
this.clusters_config = t;
this.setGeoCode("geo" === a ? _ : a);
try {
if (e.length <= 0) throw "SSI cluster definition not found";
if ("<" == e.charAt(0)) throw "SSI not processed";
this.clusters_config = JSON.parse(e);
} catch (t) {}
}
var r = i(368), s = i(65), a = 'KR'.toUpperCase(), _ = 'KR'.toUpperCase(), l = [ ".zopim.net", ".zopim.org", ".zdch.at" ];
"<" == a.charAt(0) && (a = "geo");
"<" == _.charAt(0) && (_ = "geo");
o.SUPPORTED_DOMAINS = l;
var d = o.prototype;
d.getGeoCode = function() {
return this.countryCode;
};
d.setGeoCode = function(t) {
if (t && "--" !== t) {
this.countryCode = t;
n(t);
}
};
d.updateClustersConfig = function(t) {
try {
s.extend(this.clusters_config, JSON.parse(t));
} catch (t) {
window.console && window.console.log("Unable to process update");
}
};
d.getGeoAccess = function(t, e, i, n, o, s) {
return new r(this.clusters_config, o || ".zopim.com", this.countryCode, t, e, i, n, s || l);
};
t.exports = o;
e(o, "meshim_common_GeoAccessFactory");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = {
CLUSTERS: {
US: [ "us08", "us10", "us12", "us14", "us16", "us18", "us20", "us22", "us24", "us26", "us28", "us30", "us32", "us34", "us36", "us38", "us40", "us42", "us44", "us46" ],
DE: [ "de04", "de06", "de08", "de10", "de12", "ie02", "ie04", "ie06", "ie08", "ie10", "ie12", "ie14", "ie16", "de14", "de16", "de18", "de20", "ie18", "ie20", "ie22", "ie24", "de22", "de24", "de26", "de28" ],
SG: [ "sg06", "sg08", "sg10", "sg12", "sg14", "sg16", "sg18", "sg20" ],
JP: [ "jp02", "jp04", "jp06", "jp08" ],
AU: [ "au02", "au04" ],
BR: [ "br02", "br04", "br06", "br08", "br10", "br12" ]
},
FALLBACKS: {
US: [ "DE" ],
DE: [ "US" ],
SG: [ "US" ],
JP: [ "US" ],
AU: [ "SG", "US" ],
BR: [ "US" ]
},
NEAR_MAP: {
AL: "DE",
AD: "DE",
AM: "DE",
AT: "DE",
BY: "DE",
BE: "DE",
BA: "DE",
BG: "DE",
CH: "DE",
CY: "DE",
CZ: "DE",
DE: "DE",
DK: "DE",
EE: "DE",
ES: "DE",
EU: "DE",
FO: "DE",
FI: "DE",
FR: "DE",
GB: "DE",
GE: "DE",
GI: "DE",
GR: "DE",
HU: "DE",
HR: "DE",
IE: "DE",
IM: "DE",
IS: "DE",
IT: "DE",
LT: "DE",
LU: "DE",
LV: "DE",
MC: "DE",
MK: "DE",
MT: "DE",
NO: "DE",
NL: "DE",
PK: "DE",
PO: "DE",
PT: "DE",
RO: "DE",
SA: "DE",
SE: "DE",
SI: "DE",
SK: "DE",
SM: "DE",
TR: "DE",
UA: "DE",
VA: "DE",
ZA: "DE",
NG: "DE",
MA: "DE",
AP: "SG",
BD: "SG",
BN: "SG",
CN: "SG",
ID: "SG",
IN: "SG",
LA: "SG",
KH: "SG",
LK: "SG",
MM: "SG",
MY: "SG",
SG: "SG",
TH: "SG",
VN: "SG",
AU: "AU",
NZ: "AU",
HK: "JP",
KR: "JP",
JP: "JP",
PH: "US",
RU: "JP",
TW: "JP",
AR: "BR",
BO: "BR",
BR: "BR",
CL: "BR",
PE: "BR",
PY: "BR",
UY: "BR",
DEFAULT: "US"
}
};
t.exports = i;
e(i, "meshim_config_geo_WidgetMediatorsAccessDefinition");
return i;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e = this, i = this.longpoll = new s(!0), n = this.sender = new s(!0);
i.on("success", function(t) {
e.process_data(t);
});
i.on("error", function() {
e.abort("longpoll error");
});
n.on("success", function() {
e.ondrain && e.ondrain();
});
n.on("error", function() {
e.abort("sender error");
});
this.url = "https://" + t;
o.window.on("unload", this.unload = function() {
e.abort("unload");
});
this.longpoll.load(this.url + [ "c", +new Date() ].join("/"));
}
var o = i(14), r = n;
n.protocol = "xdds";
var s = i(113);
n.prototype.process_data = function(t) {
if (t && !this._abort) {
!this.ts && this.onopen && this.onopen();
this.ts = +new Date();
this.onmessage && this.onmessage(t, this.ts);
this.longpoll && this.longpoll.load(this.url + [ "p", +new Date() ].join("/"));
}
};
n.prototype.send = function(t) {
if (this._abort) return !1;
var e = this.url + [ "d", +new Date(), window.encodeURIComponent(t) ].join("/");
this.sender && this.sender.load(e);
return !1;
};
n.prototype.abort = function(t) {
if (!this._abort) {
this._abort = !0;
a("XDDS - abort: " + t);
o.window.un("unload", this.unload);
this.longpoll.destroy();
this.sender.destroy();
this.longpoll = this.sender = this.unload = null;
this.onclose && this.onclose(t);
window.CollectGarbage && window.CollectGarbage();
}
};
var a = function() {};
t.exports = r;
e(r, "jx_io_socket_XDomainDynScript");
return r;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
var e = new n("wss://" + t + [ "c", +new Date() ].join("/")), i = this;
e.onclose = function(t) {
i.onclose && i.onclose(t);
};
e.onerror = function(t) {
i.onerror && i.onerror(t);
};
e.onmessage = function(t) {
i.onmessage && i.onmessage(t.data, +new Date());
};
e.onopen = function(t) {
i.onopen && i.onopen(t);
};
this.ws = e;
}
var n = window.WebSocket || window.MozWebSocket, o = n ? i : null;
i.prototype.abort = function() {
if (!this._aborted) {
this._aborted = !0;
var t = this.ws;
t.readyState == n.CONNECTING ? t.onopen = function() {
t.close();
} : t.close();
}
};
i.prototype.send = function(t) {
this.ws.send(t);
return !0;
};
i.protocol = "ws";
t.exports = o;
e(o, "jx_io_socket_WebSocket");
return o;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e(t) {
!_ && r.onopen && r.onopen();
_ = +new Date();
t.origin == n && ("event-stream" == t.data ? s.onload = null : r.onmessage && r.onmessage(t.data, _));
}
var i, n, r = this, s = this.iframe = o("iframe");
this.url = "https://" + t;
s.src = this.src = i = this.url + [ "c", +new Date() ].join("/");
n = i.match(/https?:\/\/[^\/]+/)[0];
s.onload = function(t) {
r.abort(t);
};
document.body.insertBefore(s, document.body.firstChild);
a("SPM connecting to: " + this.url);
window.addEventListener("message", e, !1);
this.remove_listeners = function() {
window.removeEventListener("message", e, !1);
};
var _;
}
function o(t) {
var e = document.createElement(t), i = e.style;
i.position = "absolute";
i.width = i.height = 0;
i.overflow = "hidden";
return e;
}
var r = i(8), s = window.postMessage ? !r.isAndroid && n : null;
n.protocol = "spm";
n.prototype.send = function(t) {
this.iframe.contentWindow.postMessage(t, this.src);
return !0;
};
n.prototype.abort = function(t) {
if (!this._abort) {
this._abort = !0;
a(t);
this.iframe && document.body.removeChild(this.iframe);
this.onclose && this.onclose(t);
this.remove_listeners();
this.iframe = this.remove_listeners = null;
}
};
var a = function() {};
t.exports = s;
e(s, "jx_io_socket_StreamingPostMessage");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e(t) {
_("extracting data");
!i && s.onopen && s.onopen();
i = t;
l += n.responseText.substr(d);
d = n.responseText.length;
l = l.split("\n\n");
for (var e = 0; e < l.length - 1; e++) s.onmessage && s.onmessage(l[e], i);
l = l[l.length - 1];
(d > 1048576 && !l.length || d > 4194304) && s.abort();
}
var i, n = this.xhr = new r(), s = this, l = "", d = 0;
this.url = a + t;
n.open("GET", this.url + [ "c", +new Date() ].join("/"), !0);
n.onerror = function(t) {
s.abort(t);
};
if (o.isIE) {
n.onprogress = function() {
e(+new Date());
};
n.onload = function() {
s.abort("close");
};
} else n.onreadystatechange = function() {
switch (n.readyState) {
case 3:
e(+new Date());
break;

case 4:
s.abort("close");
}
};
_("CXHR connecting to: " + this.url);
n.send();
}
var o = i(8), r = o.isIE ? window.XDomainRequest : !o.isOpera && !o.isAndroid && window.XMLHttpRequest, s = r ? n : null, a = o.isIE ? "//" : "https://";
n.protocol = "cxhr";
n.prototype.send = function(t) {
function e() {
_.abort("send failed");
}
function i() {
_.xhr_sender = null;
clearTimeout(n);
_.ondrain && _.ondrain();
}
var n, s = this.url + [ "d", +new Date() ].join("/"), a = new r(), _ = this;
a.open("POST", s, !0);
a.send(t);
if (o.isIE) {
a.onerror = e;
a.onload = i;
} else a.onreadystatechange = function() {
if (4 == a.readyState) {
200 != a.status && e();
i();
}
};
n = setTimeout(e, 5e3);
this.xhr_sender = a;
return !1;
};
n.prototype.abort = function(t) {
if (!this._abort) {
this._abort = !0;
_(t);
this.xhr && this.xhr.abort();
this.xhr_sender && this.xhr_sender.abort();
this.onclose && this.onclose(t);
this.onerror = this.onload = this.onprogress = this.onreadystatechange = this.xhr = this.xhr_sender = null;
}
};
var _ = function() {};
t.exports = s;
e(s, "jx_io_socket_ChunkedXHR");
return s;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o) {
this.options = o = o || {};
for (var r in m) m.hasOwnProperty(r) && (r in o || (o[r] = m[r]));
if (!f && !o.PREFERRED_PROVIDER) throw "No available transports";
l.extend(this);
this.provider = o.PREFERRED_PROVIDER || f;
this.id = i || n.generateID();
this.host = t;
this.ns = e;
this.path = "/" + [ "s", this.ns, this.provider.protocol, this.id ].join("/");
this.url = this.host + this.path + "/";
this.status = "connecting";
this.connected = !1;
this.quality = 0;
this.rtt = o.INITIAL_RTT;
this.clock_skew = 0;
this.connect_attempts = 0;
this.connections = 0;
this.disconnects = 0;
this.sent_bytes = 0;
this.recv_bytes = 0;
this.sent_messages = 0;
this.recv_messages = 0;
this.sent_frames = 0;
this.recv_frames = 0;
this.lost_frames = 0;
this.ooo_frames = 0;
this.remote_seq = 0;
this.local_seq = 0;
this.timeout_server = 0;
this.timeout_response_soft = 0;
this.timeout_response_hard = 0;
this.bytes_at_connect = -1;
this.time_last_alive = -1;
this.time_last_open = -1;
this.starttime = Date.now();
this.uptime = 0;
this.connected_time = new a();
this.idle_time = new a();
this.last_frame_time = 0;
this.raw_clock_skew = 0;
this.smooth_skewed_transit_time_in = 0;
this.remote_smooth_skewed_transit_time_out = 0;
this.cur_conn_recv_messages = 0;
this.drained = !0;
this.buffer = [];
this.glitch_timer = this.reconnect_timer = null;
this.reconnect_delay = o.RECONNECT_DELAY_MS * (.2 * Math.random() + .8);
this.keep_alive_interval = 15e3;
this.data_packet_queue = new _(this);
this.connect();
var s = this;
this.onoffline = function() {
n.prototype.onoffline.call(s);
};
this.ononline = function() {
n.prototype.ononline.call(s);
};
l.window.on("offline", this.onoffline);
l.window.on("online", this.ononline);
}
function o() {
var t = w, e = new Date(), i = e.getUTCFullYear() - 2e3, n = e.getUTCMonth() + 1, o = e.getUTCDate(), r = e.getUTCHours(), s = e.getUTCMinutes(), a = e.getUTCSeconds(), _ = e.getUTCMilliseconds();
return t[i] + t[n] + t[o] + t[r] + t[s] + t[a] + t[_ >> 6] + t[63 & _];
}
function r(t) {
for (var e = "", i = w; t-- > 0; ) e += i.charAt(Math.floor(Math.random() * i.length));
return e;
}
function s(t, e, i) {
return Math.min(i, Math.max(e, t));
}
function a() {
this.count = 0;
this.sum = 0;
this.sq_sum = 0;
this.mean = 0;
this.stddev = 0;
}
function _(t) {
this.socket = t;
this.queue = [];
this.curFrame = null;
this.curIdx = 0;
this.last_work_finished_time = 0;
this.work_timer = null;
this.processing = !1;
}
var l = i(14), d = i(58), u = i(374), c = i(373), h = i(372), p = i(371), f = h || u || c || p, g = p, m = {
INITIAL_RTT: 1e3,
RECONNECT_DELAY_MS: 3e4,
FAST_RECONNECT_MS: 100,
FLUSH_DELAY_MS: 75,
MAX_BLOCKING_TIME_MS: 40,
MAX_NO_WORK_TIME_MS: 15,
PREFERRED_PROVIDER: void 0
};
n.providers = {};
[ u, c, h, p ].forEach(function(t) {
t && (n.providers[t.protocol] = t);
});
n.available = function() {
return !!f;
};
n.generateID = function() {
return r(16);
};
n.prototype.connect = function(t) {
this.debug("connect(" + (t && "glitch" || "") + ")");
if (!this.reconnect_timer) {
var e = this, i = this.options, n = !this.connections || !this.cur_conn_recv_messages;
!i.PREFERRED_PROVIDER && n && (this.provider = 1 & this.connect_attempts ? g : f);
this.response_timer = clearTimeout(this.response_timer);
this.timeout_timer = clearTimeout(this.timeout_timer);
if (this.socket) {
this.socket.onclose = this.socket.ondrain = this.socket.onerror = this.socket.onmessage = this.socket.onopen = null;
this.socket.abort("connect");
this.socket = null;
}
this.connected = !1;
this.cur_conn_recv_messages = 0;
if (t) {
this.reconnect_delay = i.RECONNECT_DELAY_MS * (.2 * Math.random() + .9);
this.glitch_timer = setTimeout(function() {
e.quality = 0;
e.glitch_timer = setTimeout(function() {
e.status = "reconnecting";
e.fire_break();
}, s(3 * e.rtt, 1e3, 5e3));
}, s(3 * this.rtt, 1e3, 5e3));
}
this.debug("reconnect_delay: " + this.reconnect_delay);
clearTimeout(this.reconnect_timer);
this.reconnect_timer = setTimeout(function() {
e.reconnect_timer = null;
e.reconnect_delay = Math.min(1.4 * e.reconnect_delay + 1e3, 6e4);
e.reconnect_delay *= .2 * Math.random() + .9;
e.connect();
}, this.reconnect_delay);
this.path = "/" + [ "s", this.ns, this.provider.protocol, this.id ].join("/");
this.url = this.host + this.path + "/";
this.debug("connecting: " + this.url);
this.socket = new this.provider(this.url);
this.transport = this.provider.protocol;
this.connect_attempts++;
this.socket.onopen = function() {
e.status = "connected";
e.glitch_timer = clearTimeout(e.glitch_timer);
e.reconnect_timer = clearTimeout(e.reconnect_timer);
e.connections++;
e.drained = !0;
e.connected = !0;
e.time_last_open = e.time_last_alive = Date.now();
e.uptime >= 0 && (e.uptime -= e.time_last_open);
1 == e.connections ? e.fire("open") : e.fire_resume();
e.flush();
e.keep_alive();
e.debug("connected");
-1 == e.bytes_at_connect && setTimeout(function() {
e.bytes_at_connect = e.recv_bytes;
}, 50);
};
this.socket.onmessage = function(t, i) {
e.onmessage(t, i);
};
this.socket.onclose = function(t) {
e._onclose(t);
};
this.socket.ondrain = function(t) {
e._ondrain(t);
};
this.socket.onerror = function(t) {
e._onerror(t);
};
}
};
n.prototype.reconnect = function() {
this.reconnect_timer = clearTimeout(this.reconnect_timer);
this.broken_reason = "FORCED_RECONNECT";
this.connect();
};
n.prototype.send = function(t, e) {
if ("disconnected" != this.status) {
"null" == this.buffer[0] && (this.buffer = []);
this.buffer.push(d.stringify(t));
this.schedule_flush();
e && this.response_timeout();
}
};
n.prototype.close = function(t) {
this.debug("close()");
this.flush_scheduled = clearTimeout(this.flush_scheduled);
this.keep_alive_timer = clearTimeout(this.keep_alive_timer);
this.reconnect_timer = clearTimeout(this.reconnect_timer);
this.response_timer = clearTimeout(this.response_timer);
this.timeout_timer = clearTimeout(this.timeout_timer);
this.broken_reason || (this.broken_reason = "CLOSE");
this.fire_break();
this.status = t ? "reconnecting" : "disconnected";
this.connected = !1;
this.quality = 0;
if (this.socket) {
this.socket.onclose = this.socket.ondrain = this.socket.onerror = this.socket.onmessage = this.socket.onopen = null;
this.socket.abort("close");
this.socket = null;
if (!t) {
l.window.un("offline", this.onoffline);
l.window.un("online", this.ononline);
}
}
};
n.prototype.hibernate = function() {};
n.prototype.onoffline = function() {
this.broken_reason = "OFFLINE";
this.debug("onoffline");
this.close(!0);
};
n.prototype.ononline = function() {
this.debug("ononline");
if ("disconnected" != this.status && !this.connected) {
this.reconnect_timer = clearTimeout(this.reconnect_timer);
this.connect();
}
};
n.prototype.schedule_flush = function() {
if ("disconnected" != this.status && !this.flush_scheduled && this.drained && this.connected) {
var t = this, e = this.options;
this.flush_scheduled = setTimeout(function() {
t.flush();
}, e.FLUSH_DELAY_MS);
}
};
n.prototype.flush = function() {
if ("disconnected" != this.status && this.buffer.length && this.drained && this.connected) {
var t = this.buffer;
this.sent_messages += t.length;
this.sent_frames++;
t = this.generate_frame(t.join("\n"));
this.drained = this.socket.send(t);
this.sent_bytes += t.length;
this.flush_scheduled = clearTimeout(this.flush_scheduled);
this.buffer = [];
this.keep_alive();
this.time_last_alive = Date.now();
}
};
n.prototype.keep_alive = function() {
if ("disconnected" != this.status) {
clearTimeout(this.keep_alive_timer);
var t = this;
this.keep_alive_timer = setTimeout(function() {
t.debug("pong!");
t.send(null);
}, this.keep_alive_interval);
}
};
n.prototype.response_timeout = function() {
if (!this.response_timer) {
var t = this, e = s(4 * this.rtt + this.options.FLUSH_DELAY_MS, 2e3, 2e4);
this.response_timer = setTimeout(function() {
t.timeout_response_soft++;
t.debug("response timeout, " + e + "ms");
t.fire_break("SOFT_RESPONSE_TIMEOUT");
t.response_timer = setTimeout(function() {
t.timeout_response_hard++;
t.debug("response timeout - reconnecting");
t.broken_reason = "HARD_RESPONSE_TIMEOUT";
t.connect(!0);
}, 2 * e);
}, e);
}
};
n.prototype.reset_server_timeout = function() {
clearTimeout(this.timeout_timer);
var t = this, e = 4 * this.keep_alive_interval + s(4 * t.rtt, 2e3, 2e4);
this.timeout_timer = setTimeout(function() {
t.timeout_server++;
t.debug("server " + e + "ms timeout, reconnecting");
t.broken_reason = "SERVER_TIMEOUT";
t.connect(!0);
}, e);
};
n.prototype.fire_break = function(t) {
this.broken || this.fire("break", t || this.broken_reason);
this.broken = !0;
this.broken_reason = "";
this.uptime < 0 && (this.uptime += Date.now());
};
n.prototype.fire_resume = function() {
this.broken_reason = "";
this.broken && this.fire("resume");
this.broken = !1;
this.uptime >= 0 && (this.uptime -= Date.now());
};
n.prototype.onmessage = function(t, e) {
this.recv_bytes += t.length;
t = t.split("\n");
if (t.length < 6) this.debug("Bad data: " + t.join("\n")); else {
var i = Date.now(), n = +t[0], o = +t[1], r = +t[2], s = (t[3], t[4]);
this.calculate_clocks(e || Date.now(), n, o);
this.reset_server_timeout();
switch (s) {
case "a":
this.broken_reason = "ABORT";
this.close();
break;

case "d":
this.response_timer = clearTimeout(this.response_timer);
this.fire_resume();
this.check_sequence(r);
this.data_packet_queue.queueFrame(t, 5, i);
break;

case "e":
this.debug("server: Are you still there?");
this.send(null);
this.flush();
break;

case "n":
this.remote_seq = r;
this.keep_alive_interval = +t[5] || 15e3;
this.debug("keep_alive is " + this.keep_alive_interval + "ms");
this.connections > 1 && this.fire("reopen");
break;

case "p":
this.debug("ping!");
}
}
};
n.prototype._onclose = function() {
var t = this, e = this.options;
0 == this.connections && 0 == this.disconnects && this.fire("close");
this.debug("_onclose");
this.disconnects++;
this.broken_reason = "HANGUP";
if (this.connected) this.reconnect_timer = setTimeout(function() {
t.reconnect_timer = null;
t.connect(!0);
}, e.FAST_RECONNECT_MS); else if (!this.connections && 1 == this.connect_attempts) {
clearTimeout(this.reconnect_timer);
this.reconnect_timer = setTimeout(function() {
t.reconnect_timer = null;
t.connect();
}, 0);
}
this.connected = !1;
clearTimeout(this.keep_alive_timer);
this.time_last_alive > 0 && this.idle_time.add(Date.now() - this.time_last_alive);
this.time_last_open > 0 && this.connected_time.add(Date.now() - this.time_last_open);
this.time_last_alive = this.time_last_open = -1;
this.uptime < 0 && (this.uptime += Date.now());
};
n.prototype._ondrain = function() {
this.drained = !0;
this.flush();
};
n.prototype._onerror = function(t) {
this.debug("_error");
this.fire("error", t);
};
n.prototype.generate_frame = function(t, e) {
return [ Date.now(), this.smooth_skewed_transit_time_in, ++this.local_seq, this.remote_seq, e || "d", t ].join("\n");
};
var $ = Math.pow(50, .1), b = Math.pow(1e3, .1) - $;
n.prototype.calculate_clocks = function(t, e, i) {
var n = t - e, o = Math.max(0, t - this.last_frame_time), r = 1 / (o / 45e3 + 1);
this.smooth_skewed_transit_time_in ? this.smooth_skewed_transit_time_in = r * this.smooth_skewed_transit_time_in + (1 - r) * n : this.smooth_skewed_transit_time_in = n;
this.remote_smooth_skewed_transit_time_out = i;
if (this.smooth_skewed_transit_time_in && this.remote_smooth_skewed_transit_time_out) {
this.rtt = this.smooth_skewed_transit_time_in + this.remote_smooth_skewed_transit_time_out;
this.quality = ~~(100 * (1 - (Math.pow(this.rtt, .1) - $) / b));
this.quality = Math.min(100, Math.max(0, this.quality));
this.raw_clock_skew = n - this.rtt / 2;
this.clock_skew ? this.clock_skew = .9 * this.clock_skew + .1 * this.raw_clock_skew : this.clock_skew = this.raw_clock_skew;
}
this.time_last_alive = this.last_frame_time = t;
};
n.prototype.check_sequence = function(t) {
if (this.remote_seq + 1 == t) this.remote_seq = t; else if (this.remote_seq < t) {
var e = t - this.remote_seq + 1;
this.lost_frames += e;
this.fire("lost", e);
this.remote_seq = t;
} else {
this.ooo_frames++;
this.fire("out_of_order");
}
};
f && (n.prototype.transport = f.protocol);
n.prototype.debug = function() {};
var w = "+-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
n.genDate = o;
n.genID = r;
a.prototype.add = function(t) {
this.count++;
this.sum += t;
this.sq_sum += t * t;
this.mean = this.sum / this.count;
this.stddev = Math.sqrt(this.sq_sum / this.count - this.mean * this.mean);
};
var x = _.prototype;
x.queueFrame = function(t, e, i) {
this.queue.push({
msgs: t,
start_idx: e,
receive_time: i
});
this.process();
};
x.process = function() {
var t = Date.now() - this.last_work_finished_time;
if (!(this.processing && t < this.socket.options.MAX_NO_WORK_TIME_MS)) {
this.work_timer = window.clearTimeout(this.work_timer);
this.processing = !0;
this.work();
}
};
x.work = function() {
for (var t, e, i, n = Date.now() + this.socket.options.MAX_BLOCKING_TIME_MS, o = !1, r = this.socket.recv_frames, s = this, a = 0; a < this.queue.length; a++) {
t = this.queue[a];
if (!("start_time" in t)) {
t.start_time = Date.now();
t.ticks = 0;
t.idx = t.start_idx;
}
t.ticks++;
e = t.msgs;
i = e.length;
for (;t.idx < i; ) {
var _, l = Date.now();
if (l > n) {
o = !0;
break;
}
this.socket.dispatch_delay = l - t.receive_time;
try {
_ = d.parse(e[t.idx]);
t.idx++;
} catch (i) {
this.socket.debug("Invalid json message: " + e[t.idx]);
continue;
}
this.socket.fire("message", _);
this.socket.recv_messages++;
this.socket.cur_conn_recv_messages++;
}
t.idx >= i && this.socket.recv_frames++;
if (o) break;
}
this.queue.splice(0, this.socket.recv_frames - r);
this.queue.length ? this.work_timer = window.setTimeout(function() {
s.work();
}, 0) : this.processing = !1;
this.last_work_finished_time = Date.now();
};
t.exports = n;
e(n, "jx_io_Socket");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n, o = i(8), r = i(2), s = i(65), a = i(5), _ = i(57), l = i(90), d = i(367), u = i(364), c = i(10), h = {}, p = {}, f = "popout", g = "mobile", m = 20, $ = !1;
h.init = function() {
function t(t) {
"fast_init" != t || $ || i();
}
function e(t) {
if (!("reattached" != t && "cookie_law" != t || $)) {
$ = !0;
i();
}
}
function i() {
h(!0);
}
function h(t) {
var e = v.getValue();
if (e && e.name$string && (w != e.name$string || t)) {
var i = d[e.name$string];
if (i && i.generate) {
var o, h = m, $ = [], x = [];
do {
$.push(i.defaults || {});
x.push(i.overrides || {});
} while (i._super && (i = i._super));
for (var y, j = s.clone(l.livechat.settings.theme), C = {}; $.length; ) {
y = $.pop();
c.fullyExtend(j, y);
c.fullyExtend(C, y);
}
var S = _.getServerSettings("settings");
S = S && S.theme;
c.fullyExtend(j, S || e);
for (;x.length; ) c.fullyExtend(j, x.pop());
c.fullyExtend(j, n.getValue());
j.name$string = e.name$string;
I && c.fullyExtend(j, u.popout);
T && c.fullyExtend(j, u.mobile);
N && c.fullyExtend(j, u.mobile_overlay);
if (!a.livechat.getLimit()) {
j.colors.banner$string = j.colors.primary$string;
C.colors && C.colors.bubble$string && (j.colors.bubble$string = C.colors.bubble$string);
}
w = j.name$string;
var A;
s.equal(j, p) && (A = !0);
p = j;
v.update(j);
if (!A) {
i = d[w];
var k = m;
if (B) do {
r.delPalette(k);
} while (k--); else r.delPalettes();
do {
o = i.generate(j);
T && o[g] && r.setPalette(o[g], "widget_mobile_" + h, h--);
I && o[f] && r.setPalette(o[f], "widget_popout_" + h, h--);
r.setPalette(o.standard, "widget_" + h, h--);
} while (i._super && (i = i._super));
r.on("write", b);
r.reload();
}
}
}
}
function b() {
S.update(!0);
r.un("write", b);
}
var w, x = a.root, v = x.$("livechat").$("settings").$("theme"), y = v.$("name$string"), j = x.$("livechat").$("ui"), C = j.$("theme_reload$bool"), S = j.$("theme_loaded$bool"), A = x.$("connection").$("message$string"), k = x.$("connection").$("status$string"), I = j.$("popout$bool").getValue(), T = j.$("mobile$bool").getValue(), B = j.$("mockup$bool").getValue(), N = j.$("mobile_overlay$bool").getValue();
n = x.$("tmp").$("api_settings").$("settings").$("theme");
o.isIE <= 9 && r.generateAll("no_reload");
A.bindValue(t);
k.bindValue(e);
v.bindValue(function() {
h();
});
y.bindValue(function() {
h();
});
C.bindValue(function(t) {
t && h(!0);
});
};
t.exports = h;
e(h, "meshim_widget_controllers_ThemeController");
return h;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = o.getVariable("navigator"), e = t.userAgent || "", i = t.vendor || "", n = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i, r = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i, s = e || i || window.opera;
return n.test(s) || r.test(s.substr(0, 4));
}
var o = i(176);
t.exports = n;
e(n, "meshim_widget_utils_isMobileBrowser");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
return function() {
try {
var e = Array.prototype.slice.call(arguments, 0);
e.unshift(r);
u.appendChild(r);
r.addBehavior("#default#userData");
r.load(d);
var i = t.apply(a, e);
u.removeChild(r);
return i;
} catch (t) {}
};
}
function o(t) {
return t.replace(h, "___");
}
var r, s = i(58), a = {}, _ = window, l = _.document, d = "localStorage";
a.disabled = !1;
a.set = function() {};
a.get = function() {};
a.remove = function() {};
a.clear = function() {};
a.transact = function(t, e, i) {
var n = a.get(t);
if (null == i) {
i = e;
e = null;
}
void 0 === n && (n = e || {});
i(n);
a.set(t, n);
};
a.getAll = function() {};
a.serialize = function(t) {
return s.stringify(t);
};
a.deserialize = function(t) {
if ("string" == typeof t) try {
return s.parse(t);
} catch (e) {
return t || void 0;
}
};
if (function() {
try {
return d in _ && _[d];
} catch (t) {
return !1;
}
}()) {
r = _[d];
a.set = function(t, e) {
if (void 0 === e) return a.remove(t);
r.setItem(t, a.serialize(e));
return e;
};
a.get = function(t) {
return a.deserialize(r.getItem(t));
};
a.remove = function(t) {
r.removeItem(t);
};
a.clear = function() {
r.clear();
};
a.getAll = function() {
for (var t = {}, e = 0; e < r.length; ++e) {
var i = r.key(e);
t[i] = a.get(i);
}
return t;
};
} else if (l.documentElement.addBehavior) {
var u, c;
try {
c = new window.ActiveXObject("htmlfile");
c.open();
c.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>');
c.close();
u = c.w.frames[0].document;
r = u.createElement("div");
} catch (t) {
r = l.createElement("div");
u = l.body;
}
var h = new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]", "g");
a.set = n(function(t, e, i) {
e = o(e);
if (void 0 === i) return a.remove(e);
t.setAttribute(e, a.serialize(i));
t.save(d);
return i;
});
a.get = n(function(t, e) {
e = o(e);
return a.deserialize(t.getAttribute(e));
});
a.remove = n(function(t, e) {
e = o(e);
t.removeAttribute(e);
t.save(d);
});
a.clear = n(function(t) {
var e = t.XMLDocument.documentElement.attributes;
t.load(d);
for (var i, n = 0; i = e[n]; n++) t.removeAttribute(i.name);
t.save(d);
});
a.getAll = n(function(t) {
for (var e, i = t.XMLDocument.documentElement.attributes, n = {}, r = 0; e = i[r]; ++r) {
var s = o(e.name);
n[e.name] = a.deserialize(t.getAttribute(s));
}
return n;
});
}
try {
a.set("__storejs__", "__storejs__");
"__storejs__" != a.get("__storejs__") && (a.disabled = !0);
a.remove("__storejs__");
} catch (t) {
a.disabled = !0;
}
a.enabled = !a.disabled;
var p = a;
t.exports = p;
e(p, "meshim_common_DOMStorage");
return p;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
t = l(t) || {};
e = e || h;
i = parseInt(i, 10);
if ((d.palettes[e] || !isNaN(i)) && (isNaN(i) || !(i < 0)) && (e != h || isNaN(i) || i == p) && (!d.priorities[i] || d.priorities[i] == e)) {
d.palettes[e] = t;
if (!isNaN(i)) {
var n = u(e, d.priorities);
-1 != n && (d.priorities[n] = void 0);
d.priorities[i] = e;
}
}
}
function o(t) {
if (t) {
var e;
if (c(t)) {
if (!d.priorities[t]) return;
delete d.palettes[d.priorities[t]];
d.priorities[t] = void 0;
} else {
if (!d.palettes[t]) return;
e = u(t, d.priorities);
delete d.palettes[t];
d.priorities[e] = void 0;
}
}
}
function r() {
d.palettes = {};
d.priorities.length = 0;
s();
}
function s() {
n({}, h, p);
}
function a() {}
function _(t) {
t = t || h;
return d.palettes[t] || {};
}
function l(t, e, i) {
if (t) {
e || (e = {});
i ? i += "." : i = "";
for (var n in t) t.hasOwnProperty(n) && ("object" == typeof t[n] ? l(t[n], e, i + n) : e[i + n] = t[n]);
return e;
}
}
var d = i(92), u = i(24), c = i(28), h = "__jcss__default", p = 0, f = {
initDefaultPalette: s,
setPalette: n,
delPalette: o,
delPalettes: r,
appendPalette: a,
getPalette: _
};
t.exports = f;
e(f, "jx_core_jcss_modules_JCSSPalette");
return f;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t, e) {
if ("function" == typeof t) {
var i = f++;
c.push({
cb: t,
self: e,
id: i
});
if (!u) {
l();
u = !0;
}
return i;
}
}
function n(t) {
for (var e = c.length - 1; e >= 0; e--) c[e].id === t && (c[e].cb = a);
}
function o() {
p = -p;
_.data = p;
}
function r() {
setTimeout(s, 0);
}
function s() {
for (var t = 0; t < c.length; t++) {
var e = c[t], i = e.cb, n = e.self;
i.call(n);
}
c = [];
u = !1;
}
function a() {}
var _, l, d = {
schedule: i,
clearSchedule: n
}, u = !1, c = [], h = window.MutationObserver || window.WebKitMutationObserver, p = 1, f = 1;
!function() {
if (h) {
var t = new h(s);
_ = document.createTextNode("");
t.observe(_, {
characterData: !0
});
l = o;
} else l = r;
}();
t.exports = d;
e(d, "jx_core_jcss_modules_JCSSAsap");
return d;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e;
for (var i in c) if (c.hasOwnProperty(i)) {
e = c[i];
if (e && e.prototype && e.__jx__jcss && !e.__jx__jcss_generated) {
o.call(this, null, e.prototype.__jx__fqname, e.__jx__jcss, null, e);
e.__jx__jcss_generated = !0;
}
}
t || r.call(this);
}
function o(t, e, i, n, o, s) {
if (i && (t || o)) {
var a;
e = e ? "." + e.trim().replace(w.space, ".") : "";
i = i || {};
n = "_" + (n || "");
o = o || t.__jx__constructor;
a = _(o).replace(/\*\*self/g, e);
h.cache[n] = h.cache[n] || [];
y[n] = y[n] || [];
h.cache[n].push(a);
y[n].push(a);
j[n] = !!s;
l || (l = p.schedule(r, this));
}
}
function r(t) {
l && (l = p.clearSchedule(l));
var e, i, n = t ? h.cache : y;
a();
for (i in n) if (n.hasOwnProperty(i)) {
if (!n[i]) continue;
var o = n[i].join("\n");
e = o.replace(w.replaceVariables, s);
u.getIFrameOnly() || f.setStyleSheet(document, "jcss" + i, e, t || j[i]);
for (var r = 0; r < C.length; r++) f.setStyleSheet(C[r].idoc, "jcss" + i, e, t || j[i]);
h.cache_replaced[i] = t ? e : (h.cache_replaced[i] || "") + e;
j[i] = !1;
}
y = {};
this.fire("write", e);
}
function s(t, e, i) {
for (;v[i] || g(v[i]); ) i = v[i].toString().replace(w.removePrefix, "");
return e ? m.toStyle(e, i) : i || "";
}
function a() {
var t, e, i, n = {};
v = {};
for (e in h.palettes) if (h.palettes.hasOwnProperty(e)) {
i = $(e, h.priorities);
for (t in h.palettes[e]) if (h.palettes[e].hasOwnProperty(t) && (isNaN(n[t]) || i > n[t]) && (h.palettes[e][t] || g(h.palettes[e][t]))) {
v[t] = h.palettes[e][t];
n[t] = i;
}
}
}
function _(t) {
var e = t.prototype.__jx__fqname;
if (h.cached_fqname[e]) return h.cached_fqname[e];
h.cached_fqname[e] = {};
var i = [], n = t.__jx__jcss || {}, o = b(n, "", "**self", !0).join("\n");
t && t.prototype.__jx__super && i.push(_(t.prototype.__jx__super));
i.push(o);
h.cached_fqname[e] = i.join("\n");
return h.cached_fqname[e];
}
var l, d = i(93), u = i(183), c = i(4), h = i(92), p = i(380), f = i(182), g = i(28), m = i(181), $ = i(24), b = i(180), w = d.REGEX, x = {
generateAll: n,
generate: o,
writeChanges: r
}, v = {}, y = {}, j = {}, C = u.getIFrames();
t.exports = x;
e(x, "jx_core_jcss_modules_JCSSGenerator");
return x;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(6);
t.exports = function() {
function t(r, s, _, l, d) {
if (!(this instanceof t)) return new t(r, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t, e, n, o, r, s, a, _ = i(16), l = i(5), d = i(89), u = i(376), c = i(56), p = i(363), f = i(244), g = i(230), m = i(222), $ = i(220), b = i(211), w = i(210), x = i(34), v = i(10), y = l.root, j = y.$("livechat").$("settings").$("cached$bool"), C = y.$("livechat").$("ui"), S = C.$("theme_loaded$bool"), A = C.$("mobile$bool"), k = C.$("mobile_overlay$bool"), I = C.$("popout$bool"), T = C.$("mockup$bool");
!function() {
function i() {
e || (e = new p(l, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetWindow"
}));
}
u.init();
S.bindValue(function(i) {
if (i && !t) {
t = !0;
_(function() {
c.fromRefTime("theme_loaded" + (j.getValue() ? "_cached" : "_no_cached"), .25);
e && e.setVisibility("");
n && n.setVisibility("");
o && o.setVisibility("");
r && r.setVisibility("");
s && s.setVisibility("");
a && a.setVisibility("");
v.refocusActiveElement();
});
}
});
var l = window.document.body, y = T.getValue(), B = A.getValue(), N = k.getValue(), D = I.getValue();
(y || D) && (l = h);
if (D) {
var E = x.iOSVersion;
if (B && E && E >= 11.2) {
!function() {
a || (a = new b(l, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetPopoutMobileWindow"
}));
}();
h.addClass("popout");
} else {
i();
h.addClass("popout");
}
} else if (B) {
d.init();
!function() {
n || (n = new g(l, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetMobileButton"
}));
}();
!function() {
o || (o = new m(l, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetMobileUnreadCountBadge"
}));
}();
if (N) {
!function() {
s || (s = new $(l, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetMobileWindow"
}));
}();
C.$("mobile_notifications$bool").getValue() && function() {
r || (r = new w(l, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetMobileNotification"
}));
}();
}
} else {
i();
!function() {
n || (n = new f(l, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetButton"
}));
}();
}
}();
}();
for (var f in p) p.hasOwnProperty(f) && (h[f] = p[f]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self, textarea, input, button": {
fontFamily: [ "$$fontFamily", "$$customFontFamily" ],
fontSize: "$$fontSize"
},
":lang(ja), :lang(ko), :lang(zh_CN), :lang(zh_TW)": {
"*": {
fontWeight: "normal !important",
fontStyle: "normal !important"
},
"::placeholder": {
fontStyle: "normal !important"
}
},
"&.popout": {
position: "absolute",
"top, left": 0,
"width, height": "100%"
},
"*": {
WebkitTapHighlightColor: "transparent"
},
"input, select, textarea, button": {
"&:focus": {
outline: "none"
}
},
img: {
MsInterpolationMode: "bicubic"
},
"input, textarea": {
"&:-moz-placeholder, &::-moz-placeholder": {
opacity: 1
}
},
"input, button": {
"&::-moz-focus-inner": {
padding: 0,
border: 0
}
},
table: {
fontSize: "100%",
color: "inherit",
borderCollapse: "collapse",
borderSpacing: 0
}
};
s(t, "meshim_widget_Widget");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(this, i(4), i(3), i(2), i(1), i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
i(20)(String.prototype.trim) || (String.prototype.trim = function() {
return this.replace(/^\s+|\s+$/g, "");
});
var n = {};
t.exports = n;
e(n, "jx_core_Polyfill");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
r.tagName || (r.tagName = "div");
r.position || (r.position = "absolute");
r.visible || (r.visible = "hidden");
r.margin || (r.margin = "0");
r.padding || (r.padding = "0");
r.border || (r.border = "0");
r.height || (r.height = "0");
r.width || (r.width = "0");
_.call(this, t, e, i, o, r);
}
function o(t, e) {
var i = document.createElement("meta");
i.name = t;
i.content = e;
return i;
}
var r = i(1), s = i(12), a = i(8), _ = i(6);
n.prototype = r(_.prototype);
n.prototype.setDesktop = function(t) {
if (s(t)) {
var e = document.getElementsByTagName("head")[0];
e.appendChild(o("viewport", "user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"));
if (a.isIOS) {
e.appendChild(o("apple-mobile-web-app-capable", "yes"));
e.appendChild(o("apple-mobile-web-app-status-bar-style", "black-translucent"));
}
}
};
t.exports = n;
e(n, "jx_ui_Application");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, $, b) {
if (!(this instanceof n)) return new n(t, e, i, $, b);
if (!(v.isIE <= 10)) if (!k.ACCOUNT_KEY || k.ACCOUNT_KEY.match(/^[\w.]{5,32}$/)) {
D.send = O.send;
D.setRefTime(+new Date());
if (window.$zopim && window.$zopim.t) {
D.start("start_exec", window.$zopim.t);
D.end("start_exec", .25);
}
b || (b = {});
j.assetsURL = k.ASSETS_LEGACY;
j.call(this, t, e, i, $, b);
var w = this;
L.init(b.datanode, b.mockup, O);
if (L.livechat.isAccountError()) F.handleInitError(); else {
D.bindToConnectionStatus(L.root.$("connection").$("status$string"));
Q.init(O);
r = L.root;
s = r.$("connection").$("status$string");
a = r.$("livechat").$("ui");
_ = a.$("mobile$bool");
l = a.$("mobile_whitelist$bool");
h = a.$("mockup$bool");
d = a.$("popout$bool");
u = r.$("livechat").$("settings").$("popout").$("enabled$bool");
c = r.$("livechat").$("settings").$("cached$bool");
p = r.$("livechat").$("gates");
f = r.$("livechat").$("settings").$("chat_window").$("title_bar").$("title$string");
g = r.$("livechat").$("settings").$("chat_window").$("mobile_mode$string");
m = r.$("tmp").$("auth").$("site_jwt$string");
R.setDataNode(a);
if (!_.getValue() || l.getValue() || d.getValue()) {
P.init();
F.init();
new Z(t);
if (R.getSiteJWTFunc()) {
R.setOverrideHost(S.getHash("__zopim_auth_server_host"));
R.authenticate(function(t) {
t ? window.console && window.console.log(T.getPrefix() + ": failed to verify token:", t.reason, t.details ? ": " + t.details : "") : o(w, b);
});
} else o(w, b);
}
}
} else {
I.warnBadEmbed();
F.handleInitError();
}
}
function o(t, e) {
function i() {
if (!b && x && ($ || w)) {
if (R.isAuthenticated()) {
g.update("overlay");
u.update(!1);
a.$("visitor").$("auth_status$string").bindValue(function(t) {
if ("failed" === t) {
window.console && window.console.log(T.getPrefix() + ": failed to verify jwt token while reconnecting");
F.hideAll();
}
});
}
n();
D.fromRefTime("init_ui_components" + (w ? "_cached" : "_no_cached"), .25);
var e = d.getValue(), i = h.getValue();
if (e) {
var o = window.document.getElementById("loading");
o && (o.style.display = "none");
t.setVisibility("").setWidth("100%").setHeight("100%").setTop("0").setLeft("0");
t.autobind(f, "value", function(t) {
document.title = t;
});
}
new A(t);
b = !0;
if (!e && !i) try {
t.parentNode.removeChild(t.dom);
} catch (t) {}
}
}
function n() {
!d.getValue() && _.getValue() && "overlay" === r.$("livechat").$("settings").$("chat_window").$("mobile_mode$string").getValue() && I.isStyleSupported("flex-direction") && a.update({
mobile_overlay$bool: !0,
mobile_notifications$bool: !0
});
}
U.init();
M.init();
O.init({
root: L.root,
isCookieDenied: P.isCookieDenied,
overrideProxy: S.getHash("__zopim_widget_proxy"),
source: "widget_v2"
});
K.init(L.root, O);
H.init();
z.init(r);
G.init();
E.init();
V.init();
B.init();
N.init();
q.init();
Y.init();
X.init();
W.init(L.root);
new C(t, null, null, [ ".zopim { display: none !important }" ], {
media: "print"
});
t.dom.className = "zopim";
t.autobind(c, "value", function(t) {
w = t;
i();
});
t.autobind(p, "value", function(t) {
x = !!t;
i();
});
t.autobind(s, "value", function(t) {
$ = "reattached" == t || "cookie_law" == t;
i();
});
if (e.mockup) {
t.setVisible(!0);
t.setPosition("relative");
t.setWidth("auto");
t.setHeight("auto");
}
}
var r, s, a, _, l, d, u, c, h, p, f, g, m, $, b, w, x, v = i(8), y = i(1), j = i(384), C = i(184), S = (i(383), 
i(35)), A = i(382), k = i(18), I = i(10), T = i(27), B = i(208), N = i(207), D = i(56), E = i(33), O = i(57), P = i(41), L = i(5), W = i(69), R = i(45), F = i(115), M = i(72), V = i(195), H = i(122), z = i(194), U = i(25), q = i(193), G = i(192), Y = i(189), X = i(188), K = i(177), Z = i(47), Q = i(74);
n.prototype = y(j.prototype);
t.exports = n;
e(n, "widget");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
var n = this;
o.extend(n);
var s = new r();
e = e || {};
s.setScope(e);
s.on("success", i);
s.on("error", function(t) {
n.onError(t);
});
s.load(t);
}
var o = i(14), r = i(113);
n.prototype.onError = function(t) {};
t.exports = n;
e(n, "jx_io_ScriptLoader");
return n;
}();
}).call(this, i(0));
}, function(t, e, i) {
(function(e, n, o, r, s) {
t.exports = function() {
var t = i || {};
e.strings = t.__strings || [];
e.languages = t.__languages || {};
var a = e.languages;
for (var _ in a) if (a.hasOwnProperty(_)) {
var l = a[_];
o[l] = new n(l);
}
var d = "__$$__stringtable_lang_en";
e.languages.en = d;
o[d] = e.strings;
var u = i(385);
r.runAfterFirstChildReady(function() {
new u(document.body, !1, "", "", []);
});
s(u, "widget");
return u;
}();
}).call(this, i(46), i(187), i(4), i(14), i(0));
} ]);
